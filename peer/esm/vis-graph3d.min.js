/**
 * vis-graph3d
 * https://visjs.github.io/vis-graph3d/
 *
 * Create interactive, animated 3d graphs. Surfaces, lines, dots and block styling out of the box.
 *
 * @version 0.0.0-no-version
 * @date    2025-07-01T16:01:55.889Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */
import{DataView as t,DataSet as e}from"vis-data/peer/esm/vis-data.js";var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o=function(t){try{return!!t()}catch(t){return!0}},r=!o((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),s=r,a=Function.prototype,c=a.call,l=s&&a.bind.bind(c,c),h=s?l:function(t){return function(){return c.apply(t,arguments)}},u=h({}.isPrototypeOf),f=function(t){return t&&t.Math===Math&&t},p=f("object"==typeof globalThis&&globalThis)||f("object"==typeof window&&window)||f("object"==typeof self&&self)||f("object"==typeof n&&n)||function(){return this}()||n||Function("return this")(),d=r,m=Function.prototype,y=m.apply,v=m.call,g="object"==typeof Reflect&&Reflect.apply||(d?v.bind(y):function(){return v.apply(y,arguments)}),b=h,x=b({}.toString),w=b("".slice),_=function(t){return w(x(t),8,-1)},S=_,T=h,L=function(t){if("Function"===S(t))return T(t)},C="object"==typeof document&&document.all,E={all:C,IS_HTMLDDA:void 0===C&&void 0!==C},A=E.all,P=E.IS_HTMLDDA?function(t){return"function"==typeof t||t===A}:function(t){return"function"==typeof t},M={},O=!o((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),R=r,D=Function.prototype.call,z=R?D.bind(D):function(){return D.apply(D,arguments)},k={},I={}.propertyIsEnumerable,j=Object.getOwnPropertyDescriptor,F=j&&!I.call({1:2},1);k.f=F?function(t){var e=j(this,t);return!!e&&e.enumerable}:I;var B,N,W=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Y=o,G=_,X=Object,V=h("".split),U=Y((function(){return!X("z").propertyIsEnumerable(0)}))?function(t){return"String"===G(t)?V(t,""):X(t)}:X,Z=function(t){return null==t},H=Z,q=TypeError,J=function(t){if(H(t))throw new q("Can't call method on "+t);return t},$=U,Q=J,K=function(t){return $(Q(t))},tt=P,et=E.all,nt=E.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:tt(t)||t===et}:function(t){return"object"==typeof t?null!==t:tt(t)},it={},ot=it,rt=p,st=P,at=function(t){return st(t)?t:void 0},ct=function(t,e){return arguments.length<2?at(ot[t])||at(rt[t]):ot[t]&&ot[t][e]||rt[t]&&rt[t][e]},lt="undefined"!=typeof navigator&&String(navigator.userAgent)||"",ht=p,ut=lt,ft=ht.process,pt=ht.Deno,dt=ft&&ft.versions||pt&&pt.version,mt=dt&&dt.v8;mt&&(N=(B=mt.split("."))[0]>0&&B[0]<4?1:+(B[0]+B[1])),!N&&ut&&(!(B=ut.match(/Edge\/(\d+)/))||B[1]>=74)&&(B=ut.match(/Chrome\/(\d+)/))&&(N=+B[1]);var yt=N,vt=yt,gt=o,bt=p.String,xt=!!Object.getOwnPropertySymbols&&!gt((function(){var t=Symbol("symbol detection");return!bt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&vt&&vt<41})),wt=xt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,_t=ct,St=P,Tt=u,Lt=Object,Ct=wt?function(t){return"symbol"==typeof t}:function(t){var e=_t("Symbol");return St(e)&&Tt(e.prototype,Lt(t))},Et=String,At=function(t){try{return Et(t)}catch(t){return"Object"}},Pt=P,Mt=At,Ot=TypeError,Rt=function(t){if(Pt(t))return t;throw new Ot(Mt(t)+" is not a function")},Dt=Rt,zt=Z,kt=z,It=P,jt=nt,Ft=TypeError,Bt={exports:{}},Nt=p,Wt=Object.defineProperty,Yt=function(t,e){try{Wt(Nt,t,{value:e,configurable:!0,writable:!0})}catch(n){Nt[t]=e}return e},Gt="__core-js_shared__",Xt=p[Gt]||Yt(Gt,{}),Vt=Xt;(Bt.exports=function(t,e){return Vt[t]||(Vt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var Ut=Bt.exports,Zt=J,Ht=Object,qt=function(t){return Ht(Zt(t))},Jt=qt,$t=h({}.hasOwnProperty),Qt=Object.hasOwn||function(t,e){return $t(Jt(t),e)},Kt=h,te=0,ee=Math.random(),ne=Kt(1..toString),ie=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ne(++te+ee,36)},oe=Ut,re=Qt,se=ie,ae=xt,ce=wt,le=p.Symbol,he=oe("wks"),ue=ce?le.for||le:le&&le.withoutSetter||se,fe=function(t){return re(he,t)||(he[t]=ae&&re(le,t)?le[t]:ue("Symbol."+t)),he[t]},pe=z,de=nt,me=Ct,ye=function(t,e){var n=t[e];return zt(n)?void 0:Dt(n)},ve=function(t,e){var n,i;if("string"===e&&It(n=t.toString)&&!jt(i=kt(n,t)))return i;if(It(n=t.valueOf)&&!jt(i=kt(n,t)))return i;if("string"!==e&&It(n=t.toString)&&!jt(i=kt(n,t)))return i;throw new Ft("Can't convert object to primitive value")},ge=TypeError,be=fe("toPrimitive"),xe=function(t,e){if(!de(t)||me(t))return t;var n,i=ye(t,be);if(i){if(void 0===e&&(e="default"),n=pe(i,t,e),!de(n)||me(n))return n;throw new ge("Can't convert object to primitive value")}return void 0===e&&(e="number"),ve(t,e)},we=Ct,_e=function(t){var e=xe(t,"string");return we(e)?e:e+""},Se=nt,Te=p.document,Le=Se(Te)&&Se(Te.createElement),Ce=function(t){return Le?Te.createElement(t):{}},Ee=Ce,Ae=!O&&!o((function(){return 7!==Object.defineProperty(Ee("div"),"a",{get:function(){return 7}}).a})),Pe=O,Me=z,Oe=k,Re=W,De=K,ze=_e,ke=Qt,Ie=Ae,je=Object.getOwnPropertyDescriptor;M.f=Pe?je:function(t,e){if(t=De(t),e=ze(e),Ie)try{return je(t,e)}catch(t){}if(ke(t,e))return Re(!Me(Oe.f,t,e),t[e])};var Fe=o,Be=P,Ne=/#|\.prototype\./,We=function(t,e){var n=Ge[Ye(t)];return n===Ve||n!==Xe&&(Be(e)?Fe(e):!!e)},Ye=We.normalize=function(t){return String(t).replace(Ne,".").toLowerCase()},Ge=We.data={},Xe=We.NATIVE="N",Ve=We.POLYFILL="P",Ue=We,Ze=Rt,He=r,qe=L(L.bind),Je=function(t,e){return Ze(t),void 0===e?t:He?qe(t,e):function(){return t.apply(e,arguments)}},$e={},Qe=O&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ke=nt,tn=String,en=TypeError,nn=function(t){if(Ke(t))return t;throw new en(tn(t)+" is not an object")},on=O,rn=Ae,sn=Qe,an=nn,cn=_e,ln=TypeError,hn=Object.defineProperty,un=Object.getOwnPropertyDescriptor,fn="enumerable",pn="configurable",dn="writable";$e.f=on?sn?function(t,e,n){if(an(t),e=cn(e),an(n),"function"==typeof t&&"prototype"===e&&"value"in n&&dn in n&&!n[dn]){var i=un(t,e);i&&i[dn]&&(t[e]=n.value,n={configurable:pn in n?n[pn]:i[pn],enumerable:fn in n?n[fn]:i[fn],writable:!1})}return hn(t,e,n)}:hn:function(t,e,n){if(an(t),e=cn(e),an(n),rn)try{return hn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new ln("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var mn=$e,yn=W,vn=O?function(t,e,n){return mn.f(t,e,yn(1,n))}:function(t,e,n){return t[e]=n,t},gn=p,bn=g,xn=L,wn=P,_n=M.f,Sn=Ue,Tn=it,Ln=Je,Cn=vn,En=Qt,An=function(t){var e=function(n,i,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,i)}return new t(n,i,o)}return bn(t,this,arguments)};return e.prototype=t.prototype,e},Pn=function(t,e){var n,i,o,r,s,a,c,l,h,u=t.target,f=t.global,p=t.stat,d=t.proto,m=f?gn:p?gn[u]:(gn[u]||{}).prototype,y=f?Tn:Tn[u]||Cn(Tn,u,{})[u],v=y.prototype;for(r in e)i=!(n=Sn(f?r:u+(p?".":"#")+r,t.forced))&&m&&En(m,r),a=y[r],i&&(c=t.dontCallGetSet?(h=_n(m,r))&&h.value:m[r]),s=i&&c?c:e[r],i&&typeof a==typeof s||(l=t.bind&&i?Ln(s,gn):t.wrap&&i?An(s):d&&wn(s)?xn(s):s,(t.sham||s&&s.sham||a&&a.sham)&&Cn(l,"sham",!0),Cn(y,r,l),d&&(En(Tn,o=u+"Prototype")||Cn(Tn,o,{}),Cn(Tn[o],r,s),t.real&&v&&(n||!v[r])&&Cn(v,r,s)))},Mn=Math.ceil,On=Math.floor,Rn=Math.trunc||function(t){var e=+t;return(e>0?On:Mn)(e)},Dn=function(t){var e=+t;return e!=e||0===e?0:Rn(e)},zn=Dn,kn=Math.min,In=function(t){return t>0?kn(zn(t),9007199254740991):0},jn=function(t){return In(t.length)},Fn=At,Bn=TypeError,Nn=function(t,e){if(!delete t[e])throw new Bn("Cannot delete property "+Fn(e)+" of "+Fn(t))},Wn={};Wn[fe("toStringTag")]="z";var Yn="[object z]"===String(Wn),Gn=Yn,Xn=P,Vn=_,Un=fe("toStringTag"),Zn=Object,Hn="Arguments"===Vn(function(){return arguments}()),qn=Gn?Vn:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Zn(t),Un))?n:Hn?Vn(e):"Object"===(i=Vn(e))&&Xn(e.callee)?"Arguments":i},Jn=qn,$n=String,Qn=function(t){if("Symbol"===Jn(t))throw new TypeError("Cannot convert a Symbol value to a string");return $n(t)},Kn=Dn,ti=Math.max,ei=Math.min,ni=function(t,e){var n=Kn(t);return n<0?ti(n+e,0):ei(n,e)},ii=_e,oi=$e,ri=W,si=function(t,e,n){var i=ii(e);i in t?oi.f(t,i,ri(0,n)):t[i]=n},ai=ni,ci=jn,li=si,hi=Array,ui=Math.max,fi=function(t,e,n){for(var i=ci(t),o=ai(e,i),r=ai(void 0===n?i:n,i),s=hi(ui(r-o,0)),a=0;o<r;o++,a++)li(s,a,t[o]);return s.length=a,s},pi=fi,di=Math.floor,mi=function(t,e){var n=t.length,i=di(n/2);return n<8?yi(t,e):vi(t,mi(pi(t,0,i),e),mi(pi(t,i),e),e)},yi=function(t,e){for(var n,i,o=t.length,r=1;r<o;){for(i=r,n=t[r];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==r++&&(t[i]=n)}return t},vi=function(t,e,n,i){for(var o=e.length,r=n.length,s=0,a=0;s<o||a<r;)t[s+a]=s<o&&a<r?i(e[s],n[a])<=0?e[s++]:n[a++]:s<o?e[s++]:n[a++];return t},gi=mi,bi=o,xi=function(t,e){var n=[][t];return!!n&&bi((function(){n.call(null,e||function(){return 1},1)}))},wi=lt.match(/firefox\/(\d+)/i),_i=!!wi&&+wi[1],Si=/MSIE|Trident/.test(lt),Ti=lt.match(/AppleWebKit\/(\d+)\./),Li=!!Ti&&+Ti[1],Ci=Pn,Ei=h,Ai=Rt,Pi=qt,Mi=jn,Oi=Nn,Ri=Qn,Di=o,zi=gi,ki=xi,Ii=_i,ji=Si,Fi=yt,Bi=Li,Ni=[],Wi=Ei(Ni.sort),Yi=Ei(Ni.push),Gi=Di((function(){Ni.sort(void 0)})),Xi=Di((function(){Ni.sort(null)})),Vi=ki("sort"),Ui=!Di((function(){if(Fi)return Fi<70;if(!(Ii&&Ii>3)){if(ji)return!0;if(Bi)return Bi<603;var t,e,n,i,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)Ni.push({k:e+i,v:n})}for(Ni.sort((function(t,e){return e.v-t.v})),i=0;i<Ni.length;i++)e=Ni[i].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));Ci({target:"Array",proto:!0,forced:Gi||!Xi||!Vi||!Ui},{sort:function(t){void 0!==t&&Ai(t);var e=Pi(this);if(Ui)return void 0===t?Wi(e):Wi(e,t);var n,i,o=[],r=Mi(e);for(i=0;i<r;i++)i in e&&Yi(o,e[i]);for(zi(o,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:Ri(e)>Ri(n)?1:-1}}(t)),n=Mi(o),i=0;i<n;)e[i]=o[i++];for(;i<r;)Oi(e,i++);return e}});var Zi=p,Hi=it,qi=function(t,e){var n=Hi[t+"Prototype"],i=n&&n[e];if(i)return i;var o=Zi[t],r=o&&o.prototype;return r&&r[e]},Ji=qi("Array","sort"),$i=u,Qi=Ji,Ki=Array.prototype,to=i((function(t){var e=t.sort;return t===Ki||$i(Ki,t)&&e===Ki.sort?Qi:e})),eo=K,no=ni,io=jn,oo=function(t){return function(e,n,i){var o,r=eo(e),s=io(r),a=no(i,s);if(t&&n!=n){for(;s>a;)if((o=r[a++])!=o)return!0}else for(;s>a;a++)if((t||a in r)&&r[a]===n)return t||a||0;return!t&&-1}},ro={includes:oo(!0),indexOf:oo(!1)},so=Pn,ao=ro.indexOf,co=xi,lo=L([].indexOf),ho=!!lo&&1/lo([1],1,-0)<0;so({target:"Array",proto:!0,forced:ho||!co("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return ho?lo(this,t,e)||0:ao(this,t,e)}});var uo=qi("Array","indexOf"),fo=u,po=uo,mo=Array.prototype,yo=i((function(t){var e=t.indexOf;return t===mo||fo(mo,t)&&e===mo.indexOf?po:e})),vo=_,go=Array.isArray||function(t){return"Array"===vo(t)},bo=P,xo=Xt,wo=h(Function.toString);bo(xo.inspectSource)||(xo.inspectSource=function(t){return wo(t)});var _o=xo.inspectSource,So=h,To=o,Lo=P,Co=qn,Eo=_o,Ao=function(){},Po=[],Mo=ct("Reflect","construct"),Oo=/^\s*(?:class|function)\b/,Ro=So(Oo.exec),Do=!Oo.test(Ao),zo=function(t){if(!Lo(t))return!1;try{return Mo(Ao,Po,t),!0}catch(t){return!1}},ko=function(t){if(!Lo(t))return!1;switch(Co(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Do||!!Ro(Oo,Eo(t))}catch(t){return!0}};ko.sham=!0;var Io=!Mo||To((function(){var t;return zo(zo.call)||!zo(Object)||!zo((function(){t=!0}))||t}))?ko:zo,jo=go,Fo=Io,Bo=nt,No=fe("species"),Wo=Array,Yo=function(t){var e;return jo(t)&&(e=t.constructor,(Fo(e)&&(e===Wo||jo(e.prototype))||Bo(e)&&null===(e=e[No]))&&(e=void 0)),void 0===e?Wo:e},Go=function(t,e){return new(Yo(t))(0===e?0:e)},Xo=Je,Vo=U,Uo=qt,Zo=jn,Ho=Go,qo=h([].push),Jo=function(t){var e=1===t,n=2===t,i=3===t,o=4===t,r=6===t,s=7===t,a=5===t||r;return function(c,l,h,u){for(var f,p,d=Uo(c),m=Vo(d),y=Xo(l,h),v=Zo(m),g=0,b=u||Ho,x=e?b(c,v):n||s?b(c,0):void 0;v>g;g++)if((a||g in m)&&(p=y(f=m[g],g,d),t))if(e)x[g]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return g;case 2:qo(x,f)}else switch(t){case 4:return!1;case 7:qo(x,f)}return r?-1:i||o?o:x}},$o={forEach:Jo(0),map:Jo(1),filter:Jo(2),some:Jo(3),every:Jo(4),find:Jo(5),findIndex:Jo(6),filterReject:Jo(7)},Qo=o,Ko=yt,tr=fe("species"),er=function(t){return Ko>=51||!Qo((function(){var e=[];return(e.constructor={})[tr]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},nr=$o.filter;Pn({target:"Array",proto:!0,forced:!er("filter")},{filter:function(t){return nr(this,t,arguments.length>1?arguments[1]:void 0)}});var ir=qi("Array","filter"),or=u,rr=ir,sr=Array.prototype,ar=i((function(t){var e=t.filter;return t===sr||or(sr,t)&&e===sr.filter?rr:e})),cr="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",lr=J,hr=Qn,ur=cr,fr=h("".replace),pr=RegExp("^["+ur+"]+"),dr=RegExp("(^|[^"+ur+"])["+ur+"]+$"),mr=function(t){return function(e){var n=hr(lr(e));return 1&t&&(n=fr(n,pr,"")),2&t&&(n=fr(n,dr,"$1")),n}},yr={start:mr(1),end:mr(2),trim:mr(3)},vr=p,gr=o,br=Qn,xr=yr.trim,wr=cr,_r=h("".charAt),Sr=vr.parseFloat,Tr=vr.Symbol,Lr=Tr&&Tr.iterator,Cr=1/Sr(wr+"-0")!=-1/0||Lr&&!gr((function(){Sr(Object(Lr))}))?function(t){var e=xr(br(t)),n=Sr(e);return 0===n&&"-"===_r(e,0)?-0:n}:Sr;Pn({global:!0,forced:parseFloat!==Cr},{parseFloat:Cr});var Er=i(it.parseFloat),Ar=qt,Pr=ni,Mr=jn;Pn({target:"Array",proto:!0},{fill:function(t){for(var e=Ar(this),n=Mr(e),i=arguments.length,o=Pr(i>1?arguments[1]:void 0,n),r=i>2?arguments[2]:void 0,s=void 0===r?n:Pr(r,n);s>o;)e[o++]=t;return e}});var Or,Rr,Dr,zr=qi("Array","fill"),kr=u,Ir=zr,jr=Array.prototype,Fr=i((function(t){var e=t.fill;return t===jr||kr(jr,t)&&e===jr.fill?Ir:e})),Br={},Nr=P,Wr=p.WeakMap,Yr=Nr(Wr)&&/native code/.test(String(Wr)),Gr=ie,Xr=Ut("keys"),Vr=function(t){return Xr[t]||(Xr[t]=Gr(t))},Ur={},Zr=Yr,Hr=p,qr=nt,Jr=vn,$r=Qt,Qr=Xt,Kr=Vr,ts=Ur,es="Object already initialized",ns=Hr.TypeError,is=Hr.WeakMap;if(Zr||Qr.state){var os=Qr.state||(Qr.state=new is);os.get=os.get,os.has=os.has,os.set=os.set,Or=function(t,e){if(os.has(t))throw new ns(es);return e.facade=t,os.set(t,e),e},Rr=function(t){return os.get(t)||{}},Dr=function(t){return os.has(t)}}else{var rs=Kr("state");ts[rs]=!0,Or=function(t,e){if($r(t,rs))throw new ns(es);return e.facade=t,Jr(t,rs,e),e},Rr=function(t){return $r(t,rs)?t[rs]:{}},Dr=function(t){return $r(t,rs)}}var ss={set:Or,get:Rr,has:Dr,enforce:function(t){return Dr(t)?Rr(t):Or(t,{})},getterFor:function(t){return function(e){var n;if(!qr(e)||(n=Rr(e)).type!==t)throw new ns("Incompatible receiver, "+t+" required");return n}}},as=O,cs=Qt,ls=Function.prototype,hs=as&&Object.getOwnPropertyDescriptor,us=cs(ls,"name"),fs={EXISTS:us,PROPER:us&&"something"===function(){}.name,CONFIGURABLE:us&&(!as||as&&hs(ls,"name").configurable)},ps={},ds=Qt,ms=K,ys=ro.indexOf,vs=Ur,gs=h([].push),bs=function(t,e){var n,i=ms(t),o=0,r=[];for(n in i)!ds(vs,n)&&ds(i,n)&&gs(r,n);for(;e.length>o;)ds(i,n=e[o++])&&(~ys(r,n)||gs(r,n));return r},xs=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ws=bs,_s=xs,Ss=Object.keys||function(t){return ws(t,_s)},Ts=O,Ls=Qe,Cs=$e,Es=nn,As=K,Ps=Ss;ps.f=Ts&&!Ls?Object.defineProperties:function(t,e){Es(t);for(var n,i=As(e),o=Ps(e),r=o.length,s=0;r>s;)Cs.f(t,n=o[s++],i[n]);return t};var Ms,Os=ct("document","documentElement"),Rs=nn,Ds=ps,zs=xs,ks=Ur,Is=Os,js=Ce,Fs="prototype",Bs="script",Ns=Vr("IE_PROTO"),Ws=function(){},Ys=function(t){return"<"+Bs+">"+t+"</"+Bs+">"},Gs=function(t){t.write(Ys("")),t.close();var e=t.parentWindow.Object;return t=null,e},Xs=function(){try{Ms=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;Xs="undefined"!=typeof document?document.domain&&Ms?Gs(Ms):(e=js("iframe"),n="java"+Bs+":",e.style.display="none",Is.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(Ys("document.F=Object")),t.close(),t.F):Gs(Ms);for(var i=zs.length;i--;)delete Xs[Fs][zs[i]];return Xs()};ks[Ns]=!0;var Vs,Us,Zs,Hs=Object.create||function(t,e){var n;return null!==t?(Ws[Fs]=Rs(t),n=new Ws,Ws[Fs]=null,n[Ns]=t):n=Xs(),void 0===e?n:Ds.f(n,e)},qs=!o((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Js=Qt,$s=P,Qs=qt,Ks=qs,ta=Vr("IE_PROTO"),ea=Object,na=ea.prototype,ia=Ks?ea.getPrototypeOf:function(t){var e=Qs(t);if(Js(e,ta))return e[ta];var n=e.constructor;return $s(n)&&e instanceof n?n.prototype:e instanceof ea?na:null},oa=vn,ra=function(t,e,n,i){return i&&i.enumerable?t[e]=n:oa(t,e,n),t},sa=o,aa=P,ca=nt,la=Hs,ha=ia,ua=ra,fa=fe("iterator"),pa=!1;[].keys&&("next"in(Zs=[].keys())?(Us=ha(ha(Zs)))!==Object.prototype&&(Vs=Us):pa=!0);var da=!ca(Vs)||sa((function(){var t={};return Vs[fa].call(t)!==t}));aa((Vs=da?{}:la(Vs))[fa])||ua(Vs,fa,(function(){return this}));var ma={IteratorPrototype:Vs,BUGGY_SAFARI_ITERATORS:pa},ya=qn,va=Yn?{}.toString:function(){return"[object "+ya(this)+"]"},ga=Yn,ba=$e.f,xa=vn,wa=Qt,_a=va,Sa=fe("toStringTag"),Ta=function(t,e,n,i){if(t){var o=n?t:t.prototype;wa(o,Sa)||ba(o,Sa,{configurable:!0,value:e}),i&&!ga&&xa(o,"toString",_a)}},La=ma.IteratorPrototype,Ca=Hs,Ea=W,Aa=Ta,Pa=Br,Ma=function(){return this},Oa=Pn,Ra=z,Da=fs,za=function(t,e,n,i){var o=e+" Iterator";return t.prototype=Ca(La,{next:Ea(+!i,n)}),Aa(t,o,!1,!0),Pa[o]=Ma,t},ka=ia,Ia=Ta,ja=ra,Fa=Br,Ba=ma,Na=Da.PROPER,Wa=Ba.BUGGY_SAFARI_ITERATORS,Ya=fe("iterator"),Ga="keys",Xa="values",Va="entries",Ua=function(){return this},Za=K,Ha=Br,qa=ss;$e.f;var Ja=function(t,e,n,i,o,r,s){za(n,e,i);var a,c,l,h=function(t){if(t===o&&m)return m;if(!Wa&&t&&t in p)return p[t];switch(t){case Ga:case Xa:case Va:return function(){return new n(this,t)}}return function(){return new n(this)}},u=e+" Iterator",f=!1,p=t.prototype,d=p[Ya]||p["@@iterator"]||o&&p[o],m=!Wa&&d||h(o),y="Array"===e&&p.entries||d;if(y&&(a=ka(y.call(new t)))!==Object.prototype&&a.next&&(Ia(a,u,!0,!0),Fa[u]=Ua),Na&&o===Xa&&d&&d.name!==Xa&&(f=!0,m=function(){return Ra(d,this)}),o)if(c={values:h(Xa),keys:r?m:h(Ga),entries:h(Va)},s)for(l in c)(Wa||f||!(l in p))&&ja(p,l,c[l]);else Oa({target:e,proto:!0,forced:Wa||f},c);return s&&p[Ya]!==m&&ja(p,Ya,m,{name:o}),Fa[e]=m,c},$a=function(t,e){return{value:t,done:e}},Qa="Array Iterator",Ka=qa.set,tc=qa.getterFor(Qa);Ja(Array,"Array",(function(t,e){Ka(this,{type:Qa,target:Za(t),index:0,kind:e})}),(function(){var t=tc(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,$a(void 0,!0);switch(t.kind){case"keys":return $a(n,!1);case"values":return $a(e[n],!1)}return $a([n,e[n]],!1)}),"values"),Ha.Arguments=Ha.Array;var ec={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},nc=p,ic=qn,oc=vn,rc=Br,sc=fe("toStringTag");for(var ac in ec){var cc=nc[ac],lc=cc&&cc.prototype;lc&&ic(lc)!==sc&&oc(lc,sc,ac),rc[ac]=rc.Array}var hc=qi("Array","values"),uc=qn,fc=Qt,pc=u,dc=hc,mc=Array.prototype,yc={DOMTokenList:!0,NodeList:!0},vc=i((function(t){var e=t.values;return t===mc||pc(mc,t)&&e===mc.values||fc(yc,uc(t))?dc:e})),gc=$o.forEach,bc=xi("forEach")?[].forEach:function(t){return gc(this,t,arguments.length>1?arguments[1]:void 0)};Pn({target:"Array",proto:!0,forced:[].forEach!==bc},{forEach:bc});var xc=qi("Array","forEach"),wc=qn,_c=Qt,Sc=u,Tc=xc,Lc=Array.prototype,Cc={DOMTokenList:!0,NodeList:!0},Ec=i((function(t){var e=t.forEach;return t===Lc||Sc(Lc,t)&&e===Lc.forEach||_c(Cc,wc(t))?Tc:e}));Pn({target:"Array",stat:!0},{isArray:go});var Ac=i(it.Array.isArray);Pn({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var Pc=i(it.Number.isNaN),Mc=TypeError,Oc=function(t){if(t>9007199254740991)throw Mc("Maximum allowed index exceeded");return t},Rc=Pn,Dc=o,zc=go,kc=nt,Ic=qt,jc=jn,Fc=Oc,Bc=si,Nc=Go,Wc=er,Yc=yt,Gc=fe("isConcatSpreadable"),Xc=Yc>=51||!Dc((function(){var t=[];return t[Gc]=!1,t.concat()[0]!==t})),Vc=function(t){if(!kc(t))return!1;var e=t[Gc];return void 0!==e?!!e:zc(t)};Rc({target:"Array",proto:!0,arity:1,forced:!Xc||!Wc("concat")},{concat:function(t){var e,n,i,o,r,s=Ic(this),a=Nc(s,0),c=0;for(e=-1,i=arguments.length;e<i;e++)if(Vc(r=-1===e?s:arguments[e]))for(o=jc(r),Fc(c+o),n=0;n<o;n++,c++)n in r&&Bc(a,c,r[n]);else Fc(c+1),Bc(a,c++,r);return a.length=c,a}});var Uc=qi("Array","concat"),Zc=u,Hc=Uc,qc=Array.prototype,Jc=i((function(t){var e=t.concat;return t===qc||Zc(qc,t)&&e===qc.concat?Hc:e})),$c="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,Qc=h([].slice),Kc=TypeError,tl=p,el=g,nl=P,il=$c,ol=lt,rl=Qc,sl=function(t,e){if(t<e)throw new Kc("Not enough arguments");return t},al=tl.Function,cl=/MSIE .\./.test(ol)||il&&function(){var t=tl.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),ll=function(t,e){var n=e?2:1;return cl?function(i,o){var r=sl(arguments.length,1)>n,s=nl(i)?i:al(i),a=r?rl(arguments,n):[],c=r?function(){el(s,this,a)}:s;return e?t(c,o):t(c)}:t},hl=Pn,ul=p,fl=ll(ul.setInterval,!0);hl({global:!0,bind:!0,forced:ul.setInterval!==fl},{setInterval:fl});var pl=Pn,dl=p,ml=ll(dl.setTimeout,!0);pl({global:!0,bind:!0,forced:dl.setTimeout!==ml},{setTimeout:ml});var yl=i(it.setTimeout),vl={};vl.f=Object.getOwnPropertySymbols;var gl=O,bl=h,xl=z,wl=o,_l=Ss,Sl=vl,Tl=k,Ll=qt,Cl=U,El=Object.assign,Al=Object.defineProperty,Pl=bl([].concat),Ml=!El||wl((function(){if(gl&&1!==El({b:1},El(Al({},"a",{enumerable:!0,get:function(){Al(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!==El({},t)[n]||_l(El({},e)).join("")!==i}))?function(t,e){for(var n=Ll(t),i=arguments.length,o=1,r=Sl.f,s=Tl.f;i>o;)for(var a,c=Cl(arguments[o++]),l=r?Pl(_l(c),r(c)):_l(c),h=l.length,u=0;h>u;)a=l[u++],gl&&!xl(s,c,a)||(n[a]=c[a]);return n}:El,Ol=Ml;Pn({target:"Object",stat:!0,arity:2,forced:Object.assign!==Ol},{assign:Ol});var Rl=i(it.Object.assign),Dl={exports:{}};!function(t){function e(t){if(t)return function(t){return Object.assign(t,e.prototype),t._callbacks=new Map,t}(t);this._callbacks=new Map}e.prototype.on=function(t,e){const n=this._callbacks.get(t)??[];return n.push(e),this._callbacks.set(t,n),this},e.prototype.once=function(t,e){const n=(...i)=>{this.off(t,n),e.apply(this,i)};return n.fn=e,this.on(t,n),this},e.prototype.off=function(t,e){if(void 0===t&&void 0===e)return this._callbacks.clear(),this;if(void 0===e)return this._callbacks.delete(t),this;const n=this._callbacks.get(t);if(n){for(const[t,i]of n.entries())if(i===e||i.fn===e){n.splice(t,1);break}0===n.length?this._callbacks.delete(t):this._callbacks.set(t,n)}return this},e.prototype.emit=function(t,...e){const n=this._callbacks.get(t);if(n){const t=[...n];for(const n of t)n.apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks.get(t)??[]},e.prototype.listenerCount=function(t){if(t)return this.listeners(t).length;let e=0;for(const t of this._callbacks.values())e+=t.length;return e},e.prototype.hasListeners=function(t){return this.listenerCount(t)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Dl);var zl=i(Dl.exports),kl={},Il=bs,jl=xs.concat("length","prototype");kl.f=Object.getOwnPropertyNames||function(t){return Il(t,jl)};var Fl={},Bl=_,Nl=K,Wl=kl.f,Yl=fi,Gl="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Fl.f=function(t){return Gl&&"Window"===Bl(t)?function(t){try{return Wl(t)}catch(t){return Yl(Gl)}}(t):Wl(Nl(t))};var Xl=$e,Vl={},Ul=fe;Vl.f=Ul;var Zl=it,Hl=Qt,ql=Vl,Jl=$e.f,$l=function(t){var e=Zl.Symbol||(Zl.Symbol={});Hl(e,t)||Jl(e,t,{value:ql.f(t)})},Ql=z,Kl=ct,th=fe,eh=ra,nh=function(){var t=Kl("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,i=th("toPrimitive");e&&!e[i]&&eh(e,i,(function(t){return Ql(n,this)}),{arity:1})},ih=Pn,oh=p,rh=z,sh=h,ah=O,ch=xt,lh=o,hh=Qt,uh=u,fh=nn,ph=K,dh=_e,mh=Qn,yh=W,vh=Hs,gh=Ss,bh=kl,xh=Fl,wh=vl,_h=M,Sh=$e,Th=ps,Lh=k,Ch=ra,Eh=function(t,e,n){return Xl.f(t,e,n)},Ah=Ut,Ph=Ur,Mh=ie,Oh=fe,Rh=Vl,Dh=$l,zh=nh,kh=Ta,Ih=ss,jh=$o.forEach,Fh=Vr("hidden"),Bh="Symbol",Nh="prototype",Wh=Ih.set,Yh=Ih.getterFor(Bh),Gh=Object[Nh],Xh=oh.Symbol,Vh=Xh&&Xh[Nh],Uh=oh.RangeError,Zh=oh.TypeError,Hh=oh.QObject,qh=_h.f,Jh=Sh.f,$h=xh.f,Qh=Lh.f,Kh=sh([].push),tu=Ah("symbols"),eu=Ah("op-symbols"),nu=Ah("wks"),iu=!Hh||!Hh[Nh]||!Hh[Nh].findChild,ou=function(t,e,n){var i=qh(Gh,e);i&&delete Gh[e],Jh(t,e,n),i&&t!==Gh&&Jh(Gh,e,i)},ru=ah&&lh((function(){return 7!==vh(Jh({},"a",{get:function(){return Jh(this,"a",{value:7}).a}})).a}))?ou:Jh,su=function(t,e){var n=tu[t]=vh(Vh);return Wh(n,{type:Bh,tag:t,description:e}),ah||(n.description=e),n},au=function(t,e,n){t===Gh&&au(eu,e,n),fh(t);var i=dh(e);return fh(n),hh(tu,i)?(n.enumerable?(hh(t,Fh)&&t[Fh][i]&&(t[Fh][i]=!1),n=vh(n,{enumerable:yh(0,!1)})):(hh(t,Fh)||Jh(t,Fh,yh(1,{})),t[Fh][i]=!0),ru(t,i,n)):Jh(t,i,n)},cu=function(t,e){fh(t);var n=ph(e),i=gh(n).concat(fu(n));return jh(i,(function(e){ah&&!rh(lu,n,e)||au(t,e,n[e])})),t},lu=function(t){var e=dh(t),n=rh(Qh,this,e);return!(this===Gh&&hh(tu,e)&&!hh(eu,e))&&(!(n||!hh(this,e)||!hh(tu,e)||hh(this,Fh)&&this[Fh][e])||n)},hu=function(t,e){var n=ph(t),i=dh(e);if(n!==Gh||!hh(tu,i)||hh(eu,i)){var o=qh(n,i);return!o||!hh(tu,i)||hh(n,Fh)&&n[Fh][i]||(o.enumerable=!0),o}},uu=function(t){var e=$h(ph(t)),n=[];return jh(e,(function(t){hh(tu,t)||hh(Ph,t)||Kh(n,t)})),n},fu=function(t){var e=t===Gh,n=$h(e?eu:ph(t)),i=[];return jh(n,(function(t){!hh(tu,t)||e&&!hh(Gh,t)||Kh(i,tu[t])})),i};ch||(Ch(Vh=(Xh=function(){if(uh(Vh,this))throw new Zh("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?mh(arguments[0]):void 0,e=Mh(t),n=function(t){var i=void 0===this?oh:this;i===Gh&&rh(n,eu,t),hh(i,Fh)&&hh(i[Fh],e)&&(i[Fh][e]=!1);var o=yh(1,t);try{ru(i,e,o)}catch(t){if(!(t instanceof Uh))throw t;ou(i,e,o)}};return ah&&iu&&ru(Gh,e,{configurable:!0,set:n}),su(e,t)})[Nh],"toString",(function(){return Yh(this).tag})),Ch(Xh,"withoutSetter",(function(t){return su(Mh(t),t)})),Lh.f=lu,Sh.f=au,Th.f=cu,_h.f=hu,bh.f=xh.f=uu,wh.f=fu,Rh.f=function(t){return su(Oh(t),t)},ah&&Eh(Vh,"description",{configurable:!0,get:function(){return Yh(this).description}})),ih({global:!0,constructor:!0,wrap:!0,forced:!ch,sham:!ch},{Symbol:Xh}),jh(gh(nu),(function(t){Dh(t)})),ih({target:Bh,stat:!0,forced:!ch},{useSetter:function(){iu=!0},useSimple:function(){iu=!1}}),ih({target:"Object",stat:!0,forced:!ch,sham:!ah},{create:function(t,e){return void 0===e?vh(t):cu(vh(t),e)},defineProperty:au,defineProperties:cu,getOwnPropertyDescriptor:hu}),ih({target:"Object",stat:!0,forced:!ch},{getOwnPropertyNames:uu}),zh(),kh(Xh,Bh),Ph[Fh]=!0;var pu=xt&&!!Symbol.for&&!!Symbol.keyFor,du=Pn,mu=ct,yu=Qt,vu=Qn,gu=Ut,bu=pu,xu=gu("string-to-symbol-registry"),wu=gu("symbol-to-string-registry");du({target:"Symbol",stat:!0,forced:!bu},{for:function(t){var e=vu(t);if(yu(xu,e))return xu[e];var n=mu("Symbol")(e);return xu[e]=n,wu[n]=e,n}});var _u=Pn,Su=Qt,Tu=Ct,Lu=At,Cu=pu,Eu=Ut("symbol-to-string-registry");_u({target:"Symbol",stat:!0,forced:!Cu},{keyFor:function(t){if(!Tu(t))throw new TypeError(Lu(t)+" is not a symbol");if(Su(Eu,t))return Eu[t]}});var Au=go,Pu=P,Mu=_,Ou=Qn,Ru=h([].push),Du=Pn,zu=ct,ku=g,Iu=z,ju=h,Fu=o,Bu=P,Nu=Ct,Wu=Qc,Yu=function(t){if(Pu(t))return t;if(Au(t)){for(var e=t.length,n=[],i=0;i<e;i++){var o=t[i];"string"==typeof o?Ru(n,o):"number"!=typeof o&&"Number"!==Mu(o)&&"String"!==Mu(o)||Ru(n,Ou(o))}var r=n.length,s=!0;return function(t,e){if(s)return s=!1,e;if(Au(this))return e;for(var i=0;i<r;i++)if(n[i]===t)return e}}},Gu=xt,Xu=String,Vu=zu("JSON","stringify"),Uu=ju(/./.exec),Zu=ju("".charAt),Hu=ju("".charCodeAt),qu=ju("".replace),Ju=ju(1..toString),$u=/[\uD800-\uDFFF]/g,Qu=/^[\uD800-\uDBFF]$/,Ku=/^[\uDC00-\uDFFF]$/,tf=!Gu||Fu((function(){var t=zu("Symbol")("stringify detection");return"[null]"!==Vu([t])||"{}"!==Vu({a:t})||"{}"!==Vu(Object(t))})),ef=Fu((function(){return'"\\udf06\\ud834"'!==Vu("\udf06\ud834")||'"\\udead"'!==Vu("\udead")})),nf=function(t,e){var n=Wu(arguments),i=Yu(e);if(Bu(i)||void 0!==t&&!Nu(t))return n[1]=function(t,e){if(Bu(i)&&(e=Iu(i,this,Xu(t),e)),!Nu(e))return e},ku(Vu,null,n)},of=function(t,e,n){var i=Zu(n,e-1),o=Zu(n,e+1);return Uu(Qu,t)&&!Uu(Ku,o)||Uu(Ku,t)&&!Uu(Qu,i)?"\\u"+Ju(Hu(t,0),16):t};Vu&&Du({target:"JSON",stat:!0,arity:3,forced:tf||ef},{stringify:function(t,e,n){var i=Wu(arguments),o=ku(tf?nf:Vu,null,i);return ef&&"string"==typeof o?qu(o,$u,of):o}});var rf=vl,sf=qt;Pn({target:"Object",stat:!0,forced:!xt||o((function(){rf.f(1)}))},{getOwnPropertySymbols:function(t){var e=rf.f;return e?e(sf(t)):[]}}),$l("asyncIterator"),$l("hasInstance"),$l("isConcatSpreadable"),$l("iterator"),$l("match"),$l("matchAll"),$l("replace"),$l("search"),$l("species"),$l("split");var af=nh;$l("toPrimitive"),af();var cf=ct,lf=Ta;$l("toStringTag"),lf(cf("Symbol"),"Symbol"),$l("unscopables"),Ta(p.JSON,"JSON",!0);var hf=i(it.Symbol),uf=Pn,ff=go,pf=Io,df=nt,mf=ni,yf=jn,vf=K,gf=si,bf=fe,xf=Qc,wf=er("slice"),_f=bf("species"),Sf=Array,Tf=Math.max;uf({target:"Array",proto:!0,forced:!wf},{slice:function(t,e){var n,i,o,r=vf(this),s=yf(r),a=mf(t,s),c=mf(void 0===e?s:e,s);if(ff(r)&&(n=r.constructor,(pf(n)&&(n===Sf||ff(n.prototype))||df(n)&&null===(n=n[_f]))&&(n=void 0),n===Sf||void 0===n))return xf(r,a,c);for(i=new(void 0===n?Sf:n)(Tf(c-a,0)),o=0;a<c;a++,o++)a in r&&gf(i,o,r[a]);return i.length=o,i}});var Lf=qi("Array","slice"),Cf=u,Ef=Lf,Af=Array.prototype,Pf=i((function(t){var e=t.slice;return t===Af||Cf(Af,t)&&e===Af.slice?Ef:e})),Mf=$o.map;Pn({target:"Array",proto:!0,forced:!er("map")},{map:function(t){return Mf(this,t,arguments.length>1?arguments[1]:void 0)}});var Of=qi("Array","map"),Rf=u,Df=Of,zf=Array.prototype,kf=i((function(t){var e=t.map;return t===zf||Rf(zf,t)&&e===zf.map?Df:e})),If=qt,jf=Ss;Pn({target:"Object",stat:!0,forced:o((function(){jf(1)}))},{keys:function(t){return jf(If(t))}});var Ff=i(it.Object.keys),Bf=h,Nf=Rt,Wf=nt,Yf=Qt,Gf=Qc,Xf=r,Vf=Function,Uf=Bf([].concat),Zf=Bf([].join),Hf={},qf=Xf?Vf.bind:function(t){var e=Nf(this),n=e.prototype,i=Gf(arguments,1),o=function(){var n=Uf(i,Gf(arguments));return this instanceof o?function(t,e,n){if(!Yf(Hf,e)){for(var i=[],o=0;o<e;o++)i[o]="a["+o+"]";Hf[e]=Vf("C,a","return new C("+Zf(i,",")+")")}return Hf[e](t,n)}(e,n.length,n):e.apply(t,n)};return Wf(n)&&(o.prototype=n),o};Pn({target:"Function",proto:!0,forced:Function.bind!==qf},{bind:qf});var Jf=qi("Function","bind"),$f=u,Qf=Jf,Kf=Function.prototype,tp=i((function(t){var e=t.bind;return t===Kf||$f(Kf,t)&&e===Kf.bind?Qf:e})),ep=Pn,np=go,ip=h([].reverse),op=[1,2];ep({target:"Array",proto:!0,forced:String(op)===String(op.reverse())},{reverse:function(){return np(this)&&(this.length=this.length),ip(this)}});var rp=qi("Array","reverse"),sp=u,ap=rp,cp=Array.prototype,lp=i((function(t){var e=t.reverse;return t===cp||sp(cp,t)&&e===cp.reverse?ap:e})),hp=O,up=go,fp=TypeError,pp=Object.getOwnPropertyDescriptor,dp=hp&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),mp=Pn,yp=qt,vp=ni,gp=Dn,bp=jn,xp=dp?function(t,e){if(up(t)&&!pp(t,"length").writable)throw new fp("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},wp=Oc,_p=Go,Sp=si,Tp=Nn,Lp=er("splice"),Cp=Math.max,Ep=Math.min;mp({target:"Array",proto:!0,forced:!Lp},{splice:function(t,e){var n,i,o,r,s,a,c=yp(this),l=bp(c),h=vp(t,l),u=arguments.length;for(0===u?n=i=0:1===u?(n=0,i=l-h):(n=u-2,i=Ep(Cp(gp(e),0),l-h)),wp(l+n-i),o=_p(c,i),r=0;r<i;r++)(s=h+r)in c&&Sp(o,r,c[s]);if(o.length=i,n<i){for(r=h;r<l-i;r++)a=r+n,(s=r+i)in c?c[a]=c[s]:Tp(c,a);for(r=l;r>l-i+n;r--)Tp(c,r-1)}else if(n>i)for(r=l-i;r>h;r--)a=r+n-1,(s=r+i-1)in c?c[a]=c[s]:Tp(c,a);for(r=0;r<n;r++)c[r+h]=arguments[r+2];return xp(c,l-i+n),o}});var Ap=qi("Array","splice"),Pp=u,Mp=Ap,Op=Array.prototype,Rp=i((function(t){var e=t.splice;return t===Op||Pp(Op,t)&&e===Op.splice?Mp:e})),Dp=qt,zp=ia,kp=qs;Pn({target:"Object",stat:!0,forced:o((function(){zp(1)})),sham:!kp},{getPrototypeOf:function(t){return zp(Dp(t))}});var Ip=i(it.Object.getPrototypeOf),jp=p,Fp=o,Bp=h,Np=Qn,Wp=yr.trim,Yp=cr,Gp=jp.parseInt,Xp=jp.Symbol,Vp=Xp&&Xp.iterator,Up=/^[+-]?0x/i,Zp=Bp(Up.exec),Hp=8!==Gp(Yp+"08")||22!==Gp(Yp+"0x16")||Vp&&!Fp((function(){Gp(Object(Vp))}))?function(t,e){var n=Wp(Np(t));return Gp(n,e>>>0||(Zp(Up,n)?16:10))}:Gp;Pn({global:!0,forced:parseInt!==Hp},{parseInt:Hp});var qp=i(it.parseInt),Jp=it,$p=g;Jp.JSON||(Jp.JSON={stringify:JSON.stringify});var Qp=i((function(t,e,n){return $p(Jp.JSON.stringify,null,arguments)}));
/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */
function Kp(){return Kp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Kp.apply(this,arguments)}function td(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function ed(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var nd,id="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}return e}:Object.assign,od=["","webkit","Moz","MS","ms","o"],rd="undefined"==typeof document?{style:{}}:document.createElement("div"),sd=Math.round,ad=Math.abs,cd=Date.now;function ld(t,e){for(var n,i,o=e[0].toUpperCase()+e.slice(1),r=0;r<od.length;){if((i=(n=od[r])?n+o:e)in t)return i;r++}}nd="undefined"==typeof window?{}:window;var hd=ld(rd.style,"touchAction"),ud=void 0!==hd;var fd="compute",pd="auto",dd="manipulation",md="none",yd="pan-x",vd="pan-y",gd=function(){if(!ud)return!1;var t={},e=nd.CSS&&nd.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){return t[n]=!e||nd.CSS.supports("touch-action",n)})),t}(),bd="ontouchstart"in nd,xd=void 0!==ld(nd,"PointerEvent"),wd=bd&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),_d="touch",Sd="mouse",Td=25,Ld=1,Cd=4,Ed=8,Ad=1,Pd=2,Md=4,Od=8,Rd=16,Dd=Pd|Md,zd=Od|Rd,kd=Dd|zd,Id=["x","y"],jd=["clientX","clientY"];function Fd(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function Bd(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function Nd(t,e){return t.indexOf(e)>-1}var Wd=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===fd&&(t=this.compute()),ud&&this.manager.element.style&&gd[t]&&(this.manager.element.style[hd]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return Fd(this.manager.recognizers,(function(e){Bd(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(Nd(t,md))return md;var e=Nd(t,yd),n=Nd(t,vd);return e&&n?md:e||n?e?yd:vd:Nd(t,dd)?dd:pd}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,o=Nd(i,md)&&!gd[md],r=Nd(i,vd)&&!gd[vd],s=Nd(i,yd)&&!gd[yd];if(o){var a=1===t.pointers.length,c=t.distance<2,l=t.deltaTime<250;if(a&&c&&l)return}if(!s||!r)return o||r&&n&Dd||s&&n&zd?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function Yd(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Gd(t){var e=t.length;if(1===e)return{x:sd(t[0].clientX),y:sd(t[0].clientY)};for(var n=0,i=0,o=0;o<e;)n+=t[o].clientX,i+=t[o].clientY,o++;return{x:sd(n/e),y:sd(i/e)}}function Xd(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:sd(t.pointers[n].clientX),clientY:sd(t.pointers[n].clientY)},n++;return{timeStamp:cd(),pointers:e,center:Gd(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Vd(t,e,n){n||(n=Id);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(i*i+o*o)}function Ud(t,e,n){n||(n=Id);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,i)/Math.PI}function Zd(t,e){return t===e?Ad:ad(t)>=ad(e)?t<0?Pd:Md:e<0?Od:Rd}function Hd(t,e,n){return{x:e/t||0,y:n/t||0}}function qd(t,e){var n=t.session,i=e.pointers,o=i.length;n.firstInput||(n.firstInput=Xd(e)),o>1&&!n.firstMultiple?n.firstMultiple=Xd(e):1===o&&(n.firstMultiple=!1);var r=n.firstInput,s=n.firstMultiple,a=s?s.center:r.center,c=e.center=Gd(i);e.timeStamp=cd(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=Ud(a,c),e.distance=Vd(a,c),function(t,e){var n=e.center,i=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};e.eventType!==Ld&&r.eventType!==Cd||(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-i.x),e.deltaY=o.y+(n.y-i.y)}(n,e),e.offsetDirection=Zd(e.deltaX,e.deltaY);var l,h,u=Hd(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=ad(u.x)>ad(u.y)?u.x:u.y,e.scale=s?(l=s.pointers,Vd((h=i)[0],h[1],jd)/Vd(l[0],l[1],jd)):1,e.rotation=s?function(t,e){return Ud(e[1],e[0],jd)+Ud(t[1],t[0],jd)}(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,o,r,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!==Ed&&(a>Td||void 0===s.velocity)){var c=e.deltaX-s.deltaX,l=e.deltaY-s.deltaY,h=Hd(a,c,l);i=h.x,o=h.y,n=ad(h.x)>ad(h.y)?h.x:h.y,r=Zd(c,l),t.lastInterval=e}else n=s.velocity,i=s.velocityX,o=s.velocityY,r=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=o,e.direction=r}(n,e);var f,p=t.element,d=e.srcEvent;Yd(f=d.composedPath?d.composedPath()[0]:d.path?d.path[0]:d.target,p)&&(p=f),e.target=p}function Jd(t,e,n){var i=n.pointers.length,o=n.changedPointers.length,r=e&Ld&&i-o==0,s=e&(Cd|Ed)&&i-o==0;n.isFirst=!!r,n.isFinal=!!s,r&&(t.session={}),n.eventType=e,qd(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function $d(t){return t.trim().split(/\s+/g)}function Qd(t,e,n){Fd($d(e),(function(e){t.addEventListener(e,n,!1)}))}function Kd(t,e,n){Fd($d(e),(function(e){t.removeEventListener(e,n,!1)}))}function tm(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var em=function(){function t(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Bd(t.options.enable,[t])&&n.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Qd(this.element,this.evEl,this.domHandler),this.evTarget&&Qd(this.target,this.evTarget,this.domHandler),this.evWin&&Qd(tm(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Kd(this.element,this.evEl,this.domHandler),this.evTarget&&Kd(this.target,this.evTarget,this.domHandler),this.evWin&&Kd(tm(this.element),this.evWin,this.domHandler)},t}();function nm(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}var im={pointerdown:Ld,pointermove:2,pointerup:Cd,pointercancel:Ed,pointerout:Ed},om={2:_d,3:"pen",4:Sd,5:"kinect"},rm="pointerdown",sm="pointermove pointerup pointercancel";nd.MSPointerEvent&&!nd.PointerEvent&&(rm="MSPointerDown",sm="MSPointerMove MSPointerUp MSPointerCancel");var am=function(t){function e(){var n,i=e.prototype;return i.evEl=rm,i.evWin=sm,(n=t.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return td(e,t),e.prototype.handler=function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),o=im[i],r=om[t.pointerType]||t.pointerType,s=r===_d,a=nm(e,t.pointerId,"pointerId");o&Ld&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):o&(Cd|Ed)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),n&&e.splice(a,1))},e}(em);function cm(t){return Array.prototype.slice.call(t,0)}function lm(t,e,n){for(var i=[],o=[],r=0;r<t.length;){var s=e?t[r][e]:t[r];nm(o,s)<0&&i.push(t[r]),o[r]=s,r++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}var hm={touchstart:Ld,touchmove:2,touchend:Cd,touchcancel:Ed},um=function(t){function e(){var n;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(n=t.apply(this,arguments)||this).targetIds={},n}return td(e,t),e.prototype.handler=function(t){var e=hm[t.type],n=fm.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:_d,srcEvent:t})},e}(em);function fm(t,e){var n,i,o=cm(t.touches),r=this.targetIds;if(e&(2|Ld)&&1===o.length)return r[o[0].identifier]=!0,[o,o];var s=cm(t.changedTouches),a=[],c=this.target;if(i=o.filter((function(t){return Yd(t.target,c)})),e===Ld)for(n=0;n<i.length;)r[i[n].identifier]=!0,n++;for(n=0;n<s.length;)r[s[n].identifier]&&a.push(s[n]),e&(Cd|Ed)&&delete r[s[n].identifier],n++;return a.length?[lm(i.concat(a),"identifier",!0),a]:void 0}var pm={mousedown:Ld,mousemove:2,mouseup:Cd},dm=function(t){function e(){var n,i=e.prototype;return i.evEl="mousedown",i.evWin="mousemove mouseup",(n=t.apply(this,arguments)||this).pressed=!1,n}return td(e,t),e.prototype.handler=function(t){var e=pm[t.type];e&Ld&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=Cd),this.pressed&&(e&Cd&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Sd,srcEvent:t}))},e}(em),mm=2500;function ym(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(n);setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),mm)}}function vm(t,e){t&Ld?(this.primaryTouch=e.changedPointers[0].identifier,ym.call(this,e)):t&(Cd|Ed)&&ym.call(this,e)}function gm(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var o=this.lastTouches[i],r=Math.abs(e-o.x),s=Math.abs(n-o.y);if(r<=25&&s<=25)return!0}return!1}var bm=function(){return function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handler=function(t,e,n){var o=n.pointerType===_d,r=n.pointerType===Sd;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(o)vm.call(ed(ed(i)),e,n);else if(r&&gm.call(ed(ed(i)),n))return;i.callback(t,e,n)}},i.touch=new um(i.manager,i.handler),i.mouse=new dm(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return td(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(em)}();function xm(t,e,n){return!!Array.isArray(t)&&(Fd(t,n[e],n),!0)}var wm=32,_m=1;function Sm(t,e){var n=e.manager;return n?n.get(t):t}function Tm(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var Lm=function(){function t(t){void 0===t&&(t={}),this.options=Kp({enable:!0},t),this.id=_m++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return id(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(xm(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Sm(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return xm(t,"dropRecognizeWith",this)||(t=Sm(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(xm(t,"requireFailure",this))return this;var e=this.requireFail;return-1===nm(e,t=Sm(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(xm(t,"dropRequireFailure",this))return this;t=Sm(t,this);var e=nm(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+Tm(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+Tm(n))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=wm},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=id({},t);if(!Bd(this.options.enable,[this,e]))return this.reset(),void(this.state=wm);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),Cm=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Kp({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}td(e,t);var n=e.prototype;return n.getTouchAction=function(){return[dd]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,o=t.distance<n.threshold,r=t.deltaTime<n.time;if(this.reset(),t.eventType&Ld&&0===this.count)return this.failTimeout();if(o&&r&&i){if(t.eventType!==Cd)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<n.interval,a=!this.pCenter||Vd(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.interval),2):8}return wm},n.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=wm}),this.options.interval),wm},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Lm),Em=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Kp({pointers:1},e))||this}td(e,t);var n=e.prototype;return n.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},n.process=function(t){var e=this.state,n=t.eventType,i=6&e,o=this.attrTest(t);return i&&(n&Ed||!o)?16|e:i||o?n&Cd?8|e:2&e?4|e:2:wm},e}(Lm);function Am(t){return t===Rd?"down":t===Od?"up":t===Pd?"left":t===Md?"right":""}var Pm=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Kp({event:"pan",threshold:10,pointers:1,direction:kd},e))||this).pX=null,n.pY=null,n}td(e,t);var n=e.prototype;return n.getTouchAction=function(){var t=this.options.direction,e=[];return t&Dd&&e.push(vd),t&zd&&e.push(yd),e},n.directionTest=function(t){var e=this.options,n=!0,i=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&Dd?(o=0===r?Ad:r<0?Pd:Md,n=r!==this.pX,i=Math.abs(t.deltaX)):(o=0===s?Ad:s<0?Od:Rd,n=s!==this.pY,i=Math.abs(t.deltaY))),t.direction=o,n&&i>e.threshold&&o&e.direction},n.attrTest=function(t){return Em.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},n.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var n=Am(e.direction);n&&(e.additionalEvent=this.options.event+n),t.prototype.emit.call(this,e)},e}(Em),Mm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Kp({event:"swipe",threshold:10,velocity:.3,direction:Dd|zd,pointers:1},e))||this}td(e,t);var n=e.prototype;return n.getTouchAction=function(){return Pm.prototype.getTouchAction.call(this)},n.attrTest=function(e){var n,i=this.options.direction;return i&(Dd|zd)?n=e.overallVelocity:i&Dd?n=e.overallVelocityX:i&zd&&(n=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&ad(n)>this.options.velocity&&e.eventType&Cd},n.emit=function(t){var e=Am(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(Em),Om=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Kp({event:"pinch",threshold:0,pointers:2},e))||this}td(e,t);var n=e.prototype;return n.getTouchAction=function(){return[md]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},n.emit=function(e){if(1!==e.scale){var n=e.scale<1?"in":"out";e.additionalEvent=this.options.event+n}t.prototype.emit.call(this,e)},e}(Em),Rm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Kp({event:"rotate",threshold:0,pointers:2},e))||this}td(e,t);var n=e.prototype;return n.getTouchAction=function(){return[md]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(Em),Dm=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Kp({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,n._input=null,n}td(e,t);var n=e.prototype;return n.getTouchAction=function(){return[pd]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,o=t.distance<n.threshold,r=t.deltaTime>n.time;if(this._input=t,!o||!i||t.eventType&(Cd|Ed)&&!r)this.reset();else if(t.eventType&Ld)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.time);else if(t.eventType&Cd)return 8;return wm},n.reset=function(){clearTimeout(this._timer)},n.emit=function(t){8===this.state&&(t&&t.eventType&Cd?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=cd(),this.manager.emit(this.options.event,this._input)))},e}(Lm),zm={domEvents:!1,touchAction:fd,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},km=[[Rm,{enable:!1}],[Om,{enable:!1},["rotate"]],[Mm,{direction:Dd}],[Pm,{direction:Dd},["swipe"]],[Cm],[Cm,{event:"doubletap",taps:2},["tap"]],[Dm]];function Im(t,e){var n,i=t.element;i.style&&(Fd(t.options.cssProps,(function(o,r){n=ld(i.style,r),e?(t.oldCssProps[n]=i.style[n],i.style[n]=o):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}var jm=function(){function t(t,e){var n,i=this;this.options=id({},zm,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(xd?am:wd?um:bd?bm:dm))(n,Jd),this.touchAction=new Wd(this,this.options.touchAction),Im(this,!0),Fd(this.options.recognizers,(function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return id(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,o=e.curRecognizer;(!o||o&&8&o.state)&&(e.curRecognizer=null,o=null);for(var r=0;r<i.length;)n=i[r],2===e.stopped||o&&n!==o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&14&n.state&&(e.curRecognizer=n,o=n),r++}},e.get=function(t){if(t instanceof Lm)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null},e.add=function(t){if(xm(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(xm(t,"remove",this))return this;var e=this.get(t);if(t){var n=this.recognizers,i=nm(n,e);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var n=this.handlers;return Fd($d(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var n=this.handlers;return Fd($d(t),(function(t){e?n[t]&&n[t].splice(nm(n[t],e),1):delete n[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},e.destroy=function(){this.element&&Im(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Fm={touchstart:Ld,touchmove:2,touchend:Cd,touchcancel:Ed},Bm=function(t){function e(){var n,i=e.prototype;return i.evTarget="touchstart",i.evWin="touchstart touchmove touchend touchcancel",(n=t.apply(this,arguments)||this).started=!1,n}return td(e,t),e.prototype.handler=function(t){var e=Fm[t.type];if(e===Ld&&(this.started=!0),this.started){var n=Nm.call(this,t,e);e&(Cd|Ed)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:_d,srcEvent:t})}},e}(em);function Nm(t,e){var n=cm(t.touches),i=cm(t.changedTouches);return e&(Cd|Ed)&&(n=lm(n.concat(i),"identifier",!0)),[n,i]}function Wm(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,i,n),t.apply(this,arguments)}}var Ym=Wm((function(t,e,n){for(var i=Object.keys(e),o=0;o<i.length;)(!n||n&&void 0===t[i[o]])&&(t[i[o]]=e[i[o]]),o++;return t}),"extend","Use `assign`."),Gm=Wm((function(t,e){return Ym(t,e,!0)}),"merge","Use `assign`.");function Xm(t,e,n){var i,o=e.prototype;(i=t.prototype=Object.create(o)).constructor=t,i._super=o,n&&id(i,n)}function Vm(t,e){return function(){return t.apply(e,arguments)}}var Um=function(){var t=function(t,e){return void 0===e&&(e={}),new jm(t,Kp({recognizers:km.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=kd,t.DIRECTION_DOWN=Rd,t.DIRECTION_LEFT=Pd,t.DIRECTION_RIGHT=Md,t.DIRECTION_UP=Od,t.DIRECTION_HORIZONTAL=Dd,t.DIRECTION_VERTICAL=zd,t.DIRECTION_NONE=Ad,t.DIRECTION_DOWN=Rd,t.INPUT_START=Ld,t.INPUT_MOVE=2,t.INPUT_END=Cd,t.INPUT_CANCEL=Ed,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=wm,t.Manager=jm,t.Input=em,t.TouchAction=Wd,t.TouchInput=um,t.MouseInput=dm,t.PointerEventInput=am,t.TouchMouseInput=bm,t.SingleTouchInput=Bm,t.Recognizer=Lm,t.AttrRecognizer=Em,t.Tap=Cm,t.Pan=Pm,t.Swipe=Mm,t.Pinch=Om,t.Rotate=Rm,t.Press=Dm,t.on=Qd,t.off=Kd,t.each=Fd,t.merge=Gm,t.extend=Ym,t.bindFn=Vm,t.assign=id,t.inherit=Xm,t.bindFn=Vm,t.prefixed=ld,t.toArray=cm,t.inArray=nm,t.uniqueArray=lm,t.splitStr=$d,t.boolOrFn=Bd,t.hasParent=Yd,t.addEventListeners=Qd,t.removeEventListeners=Kd,t.defaults=id({},zm,{preset:km}),t}();hf("DELETE");const Zm="undefined"!=typeof window?window.Hammer||Um:function(){return function(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get:()=>({set:t})}}()};function Hm(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)}));const n=Zm(this._dom.overlay);n.on("tap",tp(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((()=>{n.destroy()}));const i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ec(i).call(i,(t=>{n.on(t,(t=>{t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=e=>{(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((()=>{document.body.removeEventListener("click",this._onClick)}))),this._escListener=t=>{("key"in t?"Escape"===t.key:27===t.keyCode)&&this.deactivate()}}zl(Hm.prototype),Hm.current=null,Hm.prototype.destroy=function(){this.deactivate();for(const n of lp(t=Rp(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;n()}},Hm.prototype.activate=function(){Hm.current&&Hm.current.deactivate(),Hm.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Hm.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Hm.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};const qm=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Jm=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;function $m(t,e,n,i){let o=!1;!0===i&&(o=null===e[n]&&void 0!==t[n]),o?delete t[n]:t[n]=e[n]}function Qm(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)||!0===n)if("object"==typeof e[r]&&null!==e[r]&&Ip(e[r])===Object.prototype)void 0===t[r]?t[r]=Qm({},e[r],n):"object"==typeof t[r]&&null!==t[r]&&Ip(t[r])===Object.prototype?Qm(t[r],e[r],n):$m(t,e,r,i);else if(Ac(e[r])){var o;t[r]=Pf(o=e[r]).call(o)}else $m(t,e,r,i);return t}function Km(t,e){return[...t,e]}function ty(t){t||(t=window.event),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}function ey(t,e,n){let i,o,r;const s=Math.floor(6*t),a=6*t-s,c=n*(1-e),l=n*(1-a*e),h=n*(1-(1-a)*e);switch(s%6){case 0:i=n,o=h,r=c;break;case 1:i=l,o=n,r=c;break;case 2:i=c,o=n,r=h;break;case 3:i=c,o=l,r=n;break;case 4:i=h,o=c,r=n;break;case 5:i=n,o=c,r=l}return{r:Math.floor(255*i),g:Math.floor(255*o),b:Math.floor(255*r)}}let ny,iy=!1;const oy="background: #FFeeee; color: #dd0000";const ry=oy,sy=class t{static validate(e,n,i){iy=!1,ny=n;let o=n;return void 0!==i&&(o=n[i]),t.parse(e,o,[]),iy}static parse(e,n,i){for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.check(o,e,n,i)}static check(e,n,i,o){if(void 0===i[e]&&void 0===i.__any__)return void t.getSuggestion(e,i,o);let r=e,s=!0;void 0===i[e]&&void 0!==i.__any__&&(r="__any__",s="object"===t.getType(n[e]));let a=i[r];s&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,n,i,r,a,o)}static checkFields(e,n,i,o,r,s){const a=function(n){console.error("%c"+n+t.printLocation(s,e),oy)},c=t.getType(n[e]),l=r[c];void 0!==l?"array"===t.getType(l)&&-1===yo(l).call(l,n[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+t.print(l)+' not "'+n[e]+'". '),iy=!0):"object"===c&&"__any__"!==o&&(s=Km(s,e),t.parse(n[e],i[o],s)):void 0===r.any&&(a('Invalid type received for "'+e+'". Expected: '+t.print(Ff(r))+". Received ["+c+'] "'+n[e]+'"'),iy=!0)}static getType(t){const e=typeof t;return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Ac(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}static getSuggestion(e,n,i){const o=t.findInOptions(e,n,i,!1),r=t.findInOptions(e,ny,[],!0);let s;s=void 0!==o.indexMatch?" in "+t.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':r.distance<=4&&o.distance>r.distance?" in "+t.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(r.path,r.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+t.printLocation(o.path,e):". Did you mean one of these: "+t.print(Ff(n))+t.printLocation(i,e),console.error('%cUnknown option detected: "'+e+'"'+s,oy),iy=!0}static findInOptions(e,n,i){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=1e9,s="",a=[];const c=e.toLowerCase();let l;for(const f in n){let p;if(void 0!==n[f].__type__&&!0===o){const o=t.findInOptions(e,n[f],Km(i,f));r>o.distance&&(s=o.closestMatch,a=o.path,r=o.distance,l=o.indexMatch)}else{var h;-1!==yo(h=f.toLowerCase()).call(h,c)&&(l=f),p=t.levenshteinDistance(e,f),r>p&&(s=f,a=Pf(u=i).call(u),r=p)}}var u;return{closestMatch:s,path:a,distance:r,indexMatch:l}}static printLocation(t,e){let n="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n";for(let e=0;e<t.length;e++){for(let t=0;t<e+1;t++)n+="  ";n+=t[e]+": {\n"}for(let e=0;e<t.length+1;e++)n+="  ";n+=e+"\n";for(let e=0;e<t.length+1;e++){for(let i=0;i<t.length-e;i++)n+="  ";n+="}\n"}return n+"\n\n"}static print(t){return Qp(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;const n=[];let i,o;for(i=0;i<=e.length;i++)n[i]=[i];for(o=0;o<=t.length;o++)n[0][o]=o;for(i=1;i<=e.length;i++)for(o=1;o<=t.length;o++)e.charAt(i-1)==t.charAt(o-1)?n[i][o]=n[i-1][o-1]:n[i][o]=Math.min(n[i-1][o-1]+1,Math.min(n[i][o-1]+1,n[i-1][o]+1));return n[e.length][t.length]}};function ay(t,e,n){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==n?n:0}ay.subtract=function(t,e){const n=new ay;return n.x=t.x-e.x,n.y=t.y-e.y,n.z=t.z-e.z,n},ay.add=function(t,e){const n=new ay;return n.x=t.x+e.x,n.y=t.y+e.y,n.z=t.z+e.z,n},ay.avg=function(t,e){return new ay((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},ay.scalarProduct=function(t,e){return new ay(t.x*e,t.y*e,t.z*e)},ay.dotProduct=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},ay.crossProduct=function(t,e){const n=new ay;return n.x=t.y*e.z-t.z*e.y,n.y=t.z*e.x-t.x*e.z,n.z=t.x*e.y-t.y*e.x,n},ay.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},ay.prototype.normalize=function(){return ay.scalarProduct(this,1/this.length())};var cy=i(ay);var ly=i((function(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}));function hy(t,e){if(void 0===t)throw new Error("No container element defined");if(this.container=t,this.visible=!e||null==e.visible||e.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);const t=this;this.frame.slide.onmousedown=function(e){t._onMouseDown(e)},this.frame.prev.onclick=function(e){t.prev(e)},this.frame.play.onclick=function(e){t.togglePlay(e)},this.frame.next.onclick=function(e){t.next(e)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}function uy(t,e,n,i){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,n,i)}hy.prototype.prev=function(){let t=this.getIndex();t>0&&(t--,this.setIndex(t))},hy.prototype.next=function(){let t=this.getIndex();t<vc(this).length-1&&(t++,this.setIndex(t))},hy.prototype.playNext=function(){const t=new Date;let e=this.getIndex();e<vc(this).length-1?(e++,this.setIndex(e)):this.playLoop&&(e=0,this.setIndex(e));const n=new Date-t,i=Math.max(this.playInterval-n,0),o=this;this.playTimeout=yl((function(){o.playNext()}),i)},hy.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},hy.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},hy.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},hy.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},hy.prototype.setPlayInterval=function(t){this.playInterval=t},hy.prototype.getPlayInterval=function(){return this.playInterval},hy.prototype.setPlayLoop=function(t){this.playLoop=t},hy.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},hy.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";const t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},hy.prototype.setValues=function(t){this.values=t,vc(this).length>0?this.setIndex(0):this.index=void 0},hy.prototype.setIndex=function(t){if(!(t<vc(this).length))throw new Error("Index out of range");this.index=t,this.redraw(),this.onChange()},hy.prototype.getIndex=function(){return this.index},hy.prototype.get=function(){return vc(this)[this.index]},hy.prototype._onMouseDown=function(t){if(!(t.which?1===t.which:1===t.button))return;this.startClientX=t.clientX,this.startSlideX=Er(this.frame.slide.style.left),this.frame.style.cursor="move";const e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},document.addEventListener("mousemove",this.onmousemove),document.addEventListener("mouseup",this.onmouseup),ty(t)},hy.prototype.leftToIndex=function(t){const e=Er(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,n=t-3;let i=Math.round(n/e*(vc(this).length-1));return i<0&&(i=0),i>vc(this).length-1&&(i=vc(this).length-1),i},hy.prototype.indexToLeft=function(t){const e=Er(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return t/(vc(this).length-1)*e+3},hy.prototype._onMouseMove=function(t){const e=t.clientX-this.startClientX,n=this.startSlideX+e,i=this.leftToIndex(n);this.setIndex(i),ty()},hy.prototype._onMouseUp=function(){this.frame.style.cursor="auto",document.removeEventListener("mousemove",this.onmousemove),document.removeEventListener("mouseup",this.onmouseup),ty()},uy.prototype.isNumeric=function(t){return!isNaN(Er(t))&&isFinite(t)},uy.prototype.setRange=function(t,e,n,i){if(!this.isNumeric(t))throw new Error("Parameter 'start' is not numeric; value: "+t);if(!this.isNumeric(e))throw new Error("Parameter 'end' is not numeric; value: "+t);if(!this.isNumeric(n))throw new Error("Parameter 'step' is not numeric; value: "+t);this._start=t||0,this._end=e||0,this.setStep(n,i)},uy.prototype.setStep=function(t,e){void 0===t||t<=0||(void 0!==e&&(this.prettyStep=e),!0===this.prettyStep?this._step=uy.calculatePrettyStep(t):this._step=t)},uy.calculatePrettyStep=function(t){const e=function(t){return Math.log(t)/Math.LN10},n=Math.pow(10,Math.round(e(t))),i=2*Math.pow(10,Math.round(e(t/2))),o=5*Math.pow(10,Math.round(e(t/5)));let r=n;return Math.abs(i-t)<=Math.abs(r-t)&&(r=i),Math.abs(o-t)<=Math.abs(r-t)&&(r=o),r<=0&&(r=1),r},uy.prototype.getCurrent=function(){return Er(this._current.toPrecision(this.precision))},uy.prototype.getStep=function(){return this._step},uy.prototype.start=function(t){void 0===t&&(t=!1),this._current=this._start-this._start%this._step,t&&this.getCurrent()<this._start&&this.next()},uy.prototype.next=function(){this._current+=this._step},uy.prototype.end=function(){return this._current>this._end};var fy=i(uy);Pn({target:"Math",stat:!0},{sign:Math.sign||function(t){var e=+t;return 0===e||e!=e?e:e<0?-1:1}});var py=i(it.Math.sign);function dy(){this.armLocation=new cy,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new cy,this.offsetMultiplier=.6,this.cameraLocation=new cy,this.cameraRotation=new cy(.5*Math.PI,0,0),this.calculateCameraOrientation()}dy.prototype.setOffset=function(t,e){const n=Math.abs,i=py,o=this.offsetMultiplier,r=this.armLength*o;n(t)>r&&(t=i(t)*r),n(e)>r&&(e=i(e)*r),this.cameraOffset.x=t,this.cameraOffset.y=e,this.calculateCameraOrientation()},dy.prototype.getOffset=function(){return this.cameraOffset},dy.prototype.setArmLocation=function(t,e,n){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=n,this.calculateCameraOrientation()},dy.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===t&&void 0===e||this.calculateCameraOrientation()},dy.prototype.getArmRotation=function(){const t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},dy.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},dy.prototype.getArmLength=function(){return this.armLength},dy.prototype.getCameraLocation=function(){return this.cameraLocation},dy.prototype.getCameraRotation=function(){return this.cameraRotation},dy.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;const t=this.cameraRotation.x,e=this.cameraRotation.z,n=this.cameraOffset.x,i=this.cameraOffset.y,o=Math.sin,r=Math.cos;this.cameraLocation.x=this.cameraLocation.x+n*r(e)+i*-o(e)*r(t),this.cameraLocation.y=this.cameraLocation.y+n*o(e)+i*r(e)*r(t),this.cameraLocation.z=this.cameraLocation.z+i*o(t)};const my={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},yy={dot:my.DOT,"dot-line":my.DOTLINE,"dot-color":my.DOTCOLOR,"dot-size":my.DOTSIZE,line:my.LINE,grid:my.GRID,surface:my.SURFACE,bar:my.BAR,"bar-color":my.BARCOLOR,"bar-size":my.BARSIZE},vy=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrayBottom","showGrid","showPerspective","showShadow","showSurfaceGrid","keepAspectRatio","rotateAxisLabels","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","axisFontSize","axisFontType","gridColor","xCenter","yCenter","zoomable","tooltipDelay","ctrlToZoom"],gy=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"];let by;function xy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wy(t,e){return void 0===t||""===t?e:t+(void 0===(n=e)||""===n||"string"!=typeof n?n:n.charAt(0).toUpperCase()+Pf(n).call(n,1));var n}function _y(t,e,n,i){let o,r;for(let s=0;s<n.length;++s)o=n[s],r=wy(i,o),e[r]=t[o]}function Sy(t,e,n,i){let o,r;for(let s=0;s<n.length;++s)o=n[s],void 0!==t[o]&&(r=wy(i,o),e[r]=t[o])}function Ty(t,e){if(void 0!==t.backgroundColor&&function(t,e){let n="white",i="gray",o=1;if("string"==typeof t)n=t,i="none",o=0;else{if("object"!=typeof t)throw new Error("Unsupported type of backgroundColor");void 0!==Fr(t)&&(n=Fr(t)),void 0!==t.stroke&&(i=t.stroke),void 0!==t.strokeWidth&&(o=t.strokeWidth)}e.frame.style.backgroundColor=n,e.frame.style.borderColor=i,e.frame.style.borderWidth=o+"px",e.frame.style.borderStyle="solid"}(t.backgroundColor,e),function(t,e){if(void 0===t)return;void 0===e.dataColor&&(e.dataColor={});"string"==typeof t?(e.dataColor.fill=t,e.dataColor.stroke=t):(Fr(t)&&(e.dataColor.fill=Fr(t)),t.stroke&&(e.dataColor.stroke=t.stroke),void 0!==t.strokeWidth&&(e.dataColor.strokeWidth=t.strokeWidth))}(t.dataColor,e),function(t,e){if(void 0===t)return;let n;if("string"==typeof t){if(n=function(t){const e=yy[t];if(void 0===e)return-1;return e}(t),-1===n)throw new Error("Style '"+t+"' is invalid")}else{if(!function(t){let e=!1;for(const n in my)if(my[n]===t){e=!0;break}return e}(t))throw new Error("Style '"+t+"' is invalid");n=t}e.style=n}(t.style,e),void 0!==t.surfaceColors){if(console.warn("`options.surfaceColors` is deprecated and may be removed in a future version. Please use `options.colormap` instead. Note that the `colormap` option uses the inverse array ordering (running from vMin to vMax)."),void 0!==t.colormap)throw new Error("The `colormap` and `surfaceColors` options are mutually exclusive.");"surface"!==e.style?console.warn("Ignoring `surfaceColors` in graph style `"+e.style+"` for backward compatibility (only effective in `surface` plots)."):function(t,e){if(void 0===t||!0===t)return;if(!1===t)return void(e.surfaceColors=void 0);void 0===e.surfaceColors&&(e.surfaceColors={});let n;if(Ac(t))n=Ly(t);else{if("object"!=typeof t)throw new Error("Unsupported type of surfaceColors");n=Cy(t.hue)}lp(n).call(n),e.colormap=n}(t.surfaceColors,e)}else!function(t,e){if(void 0===t)return;let n;if(Ac(t))n=Ly(t);else if("object"==typeof t)n=Cy(t.hue);else{if("function"!=typeof t)throw new Error("Unsupported type of colormap");n=t}e.colormap=n}(t.colormap,e);!function(t,e){if(void 0===t){if(void 0===by.showLegend){const t=e.style===my.DOTCOLOR||e.style===my.DOTSIZE;e.showLegend=t}}else e.showLegend=t}(t.showLegend,e),Ey(t.cameraPosition,e),void 0!==t.tooltip&&(e.showTooltip=t.tooltip),null!=t.onclick&&(e.onclick_callback=t.onclick,console.warn("`options.onclick` is deprecated and may be removed in a future version. Please use `Graph3d.on('click', handler)` instead.")),void 0!==t.tooltipStyle&&function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Ac(n))throw new TypeError("Arrays are not supported by deepExtend");for(let o=0;o<t.length;o++){const r=t[o];if(Object.prototype.hasOwnProperty.call(n,r))if(n[r]&&n[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?Qm(e[r],n[r],!1,i):$m(e,n,r,i);else{if(Ac(n[r]))throw new TypeError("Arrays are not supported by deepExtend");$m(e,n,r,i)}}}(["tooltipStyle"],e,t)}function Ly(t){if(t.length<2)throw new Error("Colormap array length must be 2 or above.");return kf(t).call(t,(function(t){if(!function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}(t))throw new Error("Invalid hex color code supplied to colormap.");return function(t){let e;switch(t.length){case 3:case 4:return e=Jm.exec(t),e?{r:qp(e[1]+e[1],16),g:qp(e[2]+e[2],16),b:qp(e[3]+e[3],16)}:null;case 6:case 7:return e=qm.exec(t),e?{r:qp(e[1],16),g:qp(e[2],16),b:qp(e[3],16)}:null;default:return null}}(t)}))}function Cy(t){if(void 0===t)throw new Error("Unsupported type of colormap");if(!(t.saturation>=0&&t.saturation<=100))throw new Error("Saturation is out of bounds. Expected range is 0-100.");if(!(t.brightness>=0&&t.brightness<=100))throw new Error("Brightness is out of bounds. Expected range is 0-100.");if(!(t.colorStops>=2))throw new Error("colorStops is out of bounds. Expected 2 or above.");const e=(t.end-t.start)/(t.colorStops-1),n=[];for(let i=0;i<t.colorStops;++i){const o=(t.start+e*i)%360/360;n.push(ey(o<0?o+1:o,t.saturation/100,t.brightness/100))}return n}function Ey(t,e){const n=t;void 0!==n&&(void 0===e.camera&&(e.camera=new dy),e.camera.setArmRotation(n.horizontal,n.vertical),e.camera.setArmLength(n.distance))}const Ay="string",Py="boolean",My="number",Oy="object",Ry="array",Dy={fill:{string:Ay},stroke:{string:Ay},strokeWidth:{number:My},__type__:{string:Ay,object:Oy,undefined:"undefined"}},zy={animationAutoStart:{boolean:Py,undefined:"undefined"},animationInterval:{number:My},animationPreload:{boolean:Py},axisColor:{string:Ay},axisFontSize:{number:My},axisFontType:{string:Ay},backgroundColor:Dy,xBarWidth:{number:My,undefined:"undefined"},yBarWidth:{number:My,undefined:"undefined"},cameraPosition:{distance:{number:My},horizontal:{number:My},vertical:{number:My},__type__:{object:Oy}},zoomable:{boolean:Py},ctrlToZoom:{boolean:Py},xCenter:{string:Ay},yCenter:{string:Ay},colormap:{hue:{start:{number:My},end:{number:My},saturation:{number:My},brightness:{number:My},colorStops:{number:My},__type__:{object:Oy}},__type__:{array:Ry,object:Oy,function:"function",undefined:"undefined"}},dataColor:Dy,dotSizeMinFraction:{number:My},dotSizeMaxFraction:{number:My},dotSizeRatio:{number:My},filterLabel:{string:Ay},gridColor:{string:Ay},onclick:{function:"function"},keepAspectRatio:{boolean:Py},xLabel:{string:Ay},yLabel:{string:Ay},zLabel:{string:Ay},legendLabel:{string:Ay},xMin:{number:My,undefined:"undefined"},yMin:{number:My,undefined:"undefined"},zMin:{number:My,undefined:"undefined"},xMax:{number:My,undefined:"undefined"},yMax:{number:My,undefined:"undefined"},zMax:{number:My,undefined:"undefined"},showAnimationControls:{boolean:Py,undefined:"undefined"},showGrayBottom:{boolean:Py},showGrid:{boolean:Py},showLegend:{boolean:Py,undefined:"undefined"},showPerspective:{boolean:Py},showShadow:{boolean:Py},showSurfaceGrid:{boolean:Py},showXAxis:{boolean:Py},showYAxis:{boolean:Py},showZAxis:{boolean:Py},rotateAxisLabels:{boolean:Py},surfaceColors:{hue:{start:{number:My},end:{number:My},saturation:{number:My},brightness:{number:My},colorStops:{number:My},__type__:{object:Oy}},__type__:{boolean:Py,array:Ry,object:Oy,undefined:"undefined"}},xStep:{number:My,undefined:"undefined"},yStep:{number:My,undefined:"undefined"},zStep:{number:My,undefined:"undefined"},style:{number:My,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:Py,function:"function"},tooltipDelay:{number:My},tooltipStyle:{content:{color:{string:Ay},background:{string:Ay},border:{string:Ay},borderRadius:{string:Ay},boxShadow:{string:Ay},padding:{string:Ay},__type__:{object:Oy}},line:{borderLeft:{string:Ay},height:{string:Ay},width:{string:Ay},pointerEvents:{string:Ay},__type__:{object:Oy}},dot:{border:{string:Ay},borderRadius:{string:Ay},height:{string:Ay},width:{string:Ay},pointerEvents:{string:Ay},__type__:{object:Oy}},__type__:{object:Oy}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:My,undefined:"undefined"},valueMin:{number:My,undefined:"undefined"},verticalRatio:{number:My},height:{string:Ay},width:{string:Ay},__type__:{object:Oy}};function ky(){this.min=void 0,this.max=void 0}ky.prototype.adjust=function(t){void 0!==t&&((void 0===this.min||this.min>t)&&(this.min=t),(void 0===this.max||this.max<t)&&(this.max=t))},ky.prototype.combine=function(t){this.add(t.min),this.add(t.max)},ky.prototype.expand=function(t){if(void 0===t)return;const e=this.min-t,n=this.max+t;if(e>n)throw new Error("Passed expansion value makes range invalid");this.min=e,this.max=n},ky.prototype.range=function(){return this.max-this.min},ky.prototype.center=function(){return(this.min+this.max)/2};var Iy=i(ky);function jy(t,e,n){this.dataGroup=t,this.column=e,this.graph=n,this.index=void 0,this.value=void 0,this.values=t.getDistinctValues(this.column),vc(this).length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,n.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}function Fy(){this.dataTable=null}jy.prototype.isLoaded=function(){return this.loaded},jy.prototype.getLoadedProgress=function(){const t=vc(this).length;let e=0;for(;this.dataPoints[e];)e++;return Math.round(e/t*100)},jy.prototype.getLabel=function(){return this.graph.filterLabel},jy.prototype.getColumn=function(){return this.column},jy.prototype.getSelectedValue=function(){if(void 0!==this.index)return vc(this)[this.index]},jy.prototype.getValues=function(){return vc(this)},jy.prototype.getValue=function(t){if(t>=vc(this).length)throw new Error("Index out of range");return vc(this)[t]},jy.prototype._getDataPoints=function(e){if(void 0===e&&(e=this.index),void 0===e)return[];let n;if(this.dataPoints[e])n=this.dataPoints[e];else{const i={};i.column=this.column,i.value=vc(this)[e];const o=new t(this.dataGroup.getDataSet(),{filter:function(t){return t[i.column]==i.value}}).get();n=this.dataGroup._getDataPoints(o),this.dataPoints[e]=n}return n},jy.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},jy.prototype.selectValue=function(t){if(t>=vc(this).length)throw new Error("Index out of range");this.index=t,this.value=vc(this)[t]},jy.prototype.loadInBackground=function(t){void 0===t&&(t=0);const e=this.graph.frame;if(t<vc(this).length){void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));const n=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+n+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";const i=this;yl((function(){i.loadInBackground(t+1)}),10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},Fy.prototype.initializeData=function(n,i,o){if(void 0===i)return;let r;if(Ac(i)&&(i=new e(i)),!(i instanceof e||i instanceof t))throw new Error("Array, DataSet, or DataView expected");if(r=i.get(),0==r.length)return;this.style=o,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=i,this.dataTable=r;const s=this;this._onChange=function(){n.setData(s.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";const a=n.hasBars(o);if(a&&(void 0!==n.defaultXBarWidth?this.xBarWidth=n.defaultXBarWidth:this.xBarWidth=this.getSmallestDifference(r,this.colX)||1,void 0!==n.defaultYBarWidth?this.yBarWidth=n.defaultYBarWidth:this.yBarWidth=this.getSmallestDifference(r,this.colY)||1),this._initializeRange(r,this.colX,n,a),this._initializeRange(r,this.colY,n,a),this._initializeRange(r,this.colZ,n,!1),Object.prototype.hasOwnProperty.call(r[0],"style")){this.colValue="style";const t=this.getColumnRange(r,this.colValue);this._setRangeDefaults(t,n.defaultValueMin,n.defaultValueMax),this.valueRange=t}else this.colValue="z",this.valueRange=this.zRange;const c=this.getDataTable();let l;return Object.prototype.hasOwnProperty.call(c[0],"filter")&&void 0===this.dataFilter&&(this.dataFilter=new jy(this,"filter",n),this.dataFilter.setOnLoadCallback((function(){n.redraw()}))),l=this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable()),l},Fy.prototype._collectRangeSettings=function(t,e){var n;if(-1==yo(n=["x","y","z"]).call(n,t))throw new Error("Column '"+t+"' invalid");const i=t.toUpperCase();return{barWidth:this[t+"BarWidth"],min:e["default"+i+"Min"],max:e["default"+i+"Max"],step:e["default"+i+"Step"],range_label:t+"Range",step_label:t+"Step"}},Fy.prototype._initializeRange=function(t,e,n,i){const o=this._collectRangeSettings(e,n),r=this.getColumnRange(t,e);i&&"z"!=e&&r.expand(o.barWidth/2),this._setRangeDefaults(r,o.min,o.max),this[o.range_label]=r,this[o.step_label]=void 0!==o.step?o.step:r.range()/5},Fy.prototype.getDistinctValues=function(t,e){void 0===e&&(e=this.dataTable);const n=[];for(let i=0;i<e.length;i++){const o=e[i][t]||0;-1===yo(n).call(n,o)&&n.push(o)}return to(n).call(n,(function(t,e){return t-e}))},Fy.prototype.getSmallestDifference=function(t,e){const n=this.getDistinctValues(t,e);let i=null;for(let t=1;t<n.length;t++){const e=n[t]-n[t-1];(null==i||i>e)&&(i=e)}return i},Fy.prototype.getColumnRange=function(t,e){const n=new Iy;for(let i=0;i<t.length;i++){const o=t[i][e];n.adjust(o)}return n},Fy.prototype.getNumberOfRows=function(){return this.dataTable.length},Fy.prototype._setRangeDefaults=function(t,e,n){void 0!==e&&(t.min=e),void 0!==n&&(t.max=n),t.max<=t.min&&(t.max=t.min+1)},Fy.prototype.getDataTable=function(){return this.dataTable},Fy.prototype.getDataSet=function(){return this.dataSet},Fy.prototype.getDataPoints=function(t){const e=[];for(let n=0;n<t.length;n++){const i=new cy;i.x=t[n][this.colX]||0,i.y=t[n][this.colY]||0,i.z=t[n][this.colZ]||0,i.data=t[n],i.value=t[n][this.colValue]||0;const o={};o.point=i,o.bottom=new cy(i.x,i.y,this.zRange.min),o.trans=void 0,o.screen=void 0,e.push(o)}return e},Fy.prototype.initDataAsMatrix=function(t){let e,n,i,o;const r=this.getDistinctValues(this.colX,t),s=this.getDistinctValues(this.colY,t),a=this.getDataPoints(t),c=[];for(i=0;i<a.length;i++){o=a[i];const t=yo(r).call(r,o.point.x),e=yo(s).call(s,o.point.y);void 0===c[t]&&(c[t]=[]),c[t][e]=o}for(e=0;e<c.length;e++)for(n=0;n<c[e].length;n++)c[e][n]&&(c[e][n].pointRight=e<c.length-1?c[e+1][n]:void 0,c[e][n].pointTop=n<c[e].length-1?c[e][n+1]:void 0,c[e][n].pointCross=e<c.length-1&&n<c[e].length-1?c[e+1][n+1]:void 0);return a},Fy.prototype.getInfo=function(){const t=this.dataFilter;if(t)return t.getLabel()+": "+t.getSelectedValue()},Fy.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},Fy.prototype._getDataPoints=function(t){let e=[];if(this.style===my.GRID||this.style===my.SURFACE)e=this.initDataAsMatrix(t);else if(e=this.getDataPoints(t),this.style===my.LINE)for(let t=0;t<e.length;t++)t>0&&(e[t-1].pointNext=e[t]);return e},Ny.STYLE=my;const By=void 0;function Ny(t,e,n){if(!(this instanceof Ny))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.dataGroup=new Fy,this.dataPoints=null,this.create(),function(t,e){if(void 0===t||xy(t))throw new Error("No DEFAULTS passed");if(void 0===e)throw new Error("No dst passed");by=t,_y(t,e,vy),_y(t,e,gy,"default"),Ty(t,e),e.margin=10,e.showTooltip=!1,e.onclick_callback=null,e.eye=new cy(0,0,-1)}(Ny.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(n),this.setData(e)}function Wy(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function Yy(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}Ny.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(t){return t},yValueLabel:function(t){return t},zValueLabel:function(t){return t},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrayBottom:!1,showGrid:!0,showPerspective:!0,showShadow:!1,showSurfaceGrid:!0,keepAspectRatio:!0,rotateAxisLabels:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:By,animationInterval:1e3,animationPreload:!1,animationAutoStart:By,axisFontSize:14,axisFontType:"arial",axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:Ny.STYLE.DOT,tooltip:!1,tooltipDelay:300,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d",pointerEvents:"none"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px",pointerEvents:"none"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},surfaceColors:By,colormap:By,cameraPosition:{horizontal:1,vertical:.5,distance:1.7},zoomable:!0,ctrlToZoom:!1,showLegend:By,backgroundColor:By,xBarWidth:By,yBarWidth:By,valueMin:By,valueMax:By,xMin:By,xMax:By,xStep:By,yMin:By,yMax:By,yStep:By,zMin:By,zMax:By,zStep:By},zl(Ny.prototype),Ny.prototype._setScale=function(){this.scale=new cy(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());const t=this.xRange.center()*this.scale.x,e=this.yRange.center()*this.scale.y,n=this.zRange.center()*this.scale.z;this.camera.setArmLocation(t,e,n)},Ny.prototype._convert3Dto2D=function(t){const e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},Ny.prototype._convertPointToTranslation=function(t){const e=this.camera.getCameraLocation(),n=this.camera.getCameraRotation(),i=t.x*this.scale.x,o=t.y*this.scale.y,r=t.z*this.scale.z,s=e.x,a=e.y,c=e.z,l=Math.sin(n.x),h=Math.cos(n.x),u=Math.sin(n.y),f=Math.cos(n.y),p=Math.sin(n.z),d=Math.cos(n.z);return new cy(f*(p*(o-a)+d*(i-s))-u*(r-c),l*(f*(r-c)+u*(p*(o-a)+d*(i-s)))+h*(d*(o-a)-p*(i-s)),h*(f*(r-c)+u*(p*(o-a)+d*(i-s)))-l*(d*(o-a)-p*(i-s)))},Ny.prototype._convertTranslationToScreen=function(t){const e=this.eye.x,n=this.eye.y,i=this.eye.z,o=t.x,r=t.y,s=t.z;let a,c;return this.showPerspective?(a=i/s*(o-e),c=i/s*(r-n)):(a=o*(-i/this.camera.getArmLength()),c=r*(-i/this.camera.getArmLength())),new ly(this.currentXCenter+a*this.frame.canvas.clientWidth,this.currentYCenter-c*this.frame.canvas.clientWidth)},Ny.prototype._calcTranslations=function(t){for(let e=0;e<t.length;e++){const n=t[e];n.trans=this._convertPointToTranslation(n.point),n.screen=this._convertTranslationToScreen(n.trans);const i=this._convertPointToTranslation(n.bottom);n.dist=this.showPerspective?i.length():-i.z}to(t).call(t,(function(t,e){return e.dist-t.dist}))},Ny.prototype._initializeRanges=function(){const t=this.dataGroup;this.xRange=t.xRange,this.yRange=t.yRange,this.zRange=t.zRange,this.valueRange=t.valueRange,this.xStep=t.xStep,this.yStep=t.yStep,this.zStep=t.zStep,this.xBarWidth=t.xBarWidth,this.yBarWidth=t.yBarWidth,this.colX=t.colX,this.colY=t.colY,this.colZ=t.colZ,this.colValue=t.colValue,this._setScale()},Ny.prototype.getDataPoints=function(t){const e=[];for(let n=0;n<t.length;n++){const i=new cy;i.x=t[n][this.colX]||0,i.y=t[n][this.colY]||0,i.z=t[n][this.colZ]||0,i.data=t[n],i.value=t[n][this.colValue]||0;const o={};o.point=i,o.bottom=new cy(i.x,i.y,this.zRange.min),o.trans=void 0,o.screen=void 0,e.push(o)}return e},Ny.prototype._getDataPoints=function(t){let e,n,i,o,r=[];if(this.style===Ny.STYLE.GRID||this.style===Ny.STYLE.SURFACE){const s=this.dataGroup.getDistinctValues(this.colX,t),a=this.dataGroup.getDistinctValues(this.colY,t);r=this.getDataPoints(t);const c=[];for(i=0;i<r.length;i++){o=r[i];const t=yo(s).call(s,o.point.x),e=yo(a).call(a,o.point.y);void 0===c[t]&&(c[t]=[]),c[t][e]=o}for(e=0;e<c.length;e++)for(n=0;n<c[e].length;n++)c[e][n]&&(c[e][n].pointRight=e<c.length-1?c[e+1][n]:void 0,c[e][n].pointTop=n<c[e].length-1?c[e][n+1]:void 0,c[e][n].pointCross=e<c.length-1&&n<c[e].length-1?c[e+1][n+1]:void 0)}else if(r=this.getDataPoints(t),this.style===Ny.STYLE.LINE)for(i=0;i<r.length;i++)i>0&&(r[i-1].pointNext=r[i]);return r},Ny.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.frame.filter=document.createElement("div"),ar(this.frame).style.position="absolute",ar(this.frame).style.bottom="0px",ar(this.frame).style.left="0px",ar(this.frame).style.width="100%",this.frame.appendChild(ar(this.frame));const t=this;this.frame.canvas.addEventListener("mousedown",(function(e){t._onMouseDown(e)})),this.frame.canvas.addEventListener("touchstart",(function(e){t._onTouchStart(e)})),this.frame.canvas.addEventListener("mousewheel",(function(e){t._onWheel(e)})),this.frame.canvas.addEventListener("mousemove",(function(e){t._onTooltip(e)})),this.frame.canvas.addEventListener("click",(function(e){t._onClick(e)})),this.containerElement.appendChild(this.frame)},Ny.prototype._setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},Ny.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,ar(this.frame).style.width=this.frame.canvas.clientWidth-20+"px"},Ny.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!ar(this.frame)||!ar(this.frame).slider)throw new Error("No animation available");ar(this.frame).slider.play()}},Ny.prototype.animationStop=function(){ar(this.frame)&&ar(this.frame).slider&&ar(this.frame).slider.stop()},Ny.prototype._resizeCenter=function(){"%"===this.xCenter.charAt(this.xCenter.length-1)?this.currentXCenter=Er(this.xCenter)/100*this.frame.canvas.clientWidth:this.currentXCenter=Er(this.xCenter),"%"===this.yCenter.charAt(this.yCenter.length-1)?this.currentYCenter=Er(this.yCenter)/100*(this.frame.canvas.clientHeight-ar(this.frame).clientHeight):this.currentYCenter=Er(this.yCenter)},Ny.prototype.getCameraPosition=function(){const t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},Ny.prototype._readData=function(t){this.dataPoints=this.dataGroup.initializeData(this,t,this.style),this._initializeRanges(),this._redrawFilter()},Ny.prototype.setData=function(t){null!=t&&(this._readData(t),this.redraw(),this.animationStart())},Ny.prototype.setOptions=function(t){if(void 0===t)return;!0===sy.validate(t,zy)&&console.error("%cErrors have been found in the supplied options object.",ry),this.animationStop(),function(t,e){if(void 0!==t){if(void 0===e)throw new Error("No dst passed");if(void 0===by||xy(by))throw new Error("DEFAULTS not set for module Settings");Sy(t,e,vy),Sy(t,e,gy,"default"),Ty(t,e)}}(t,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setAxisLabelMethod(),this.setData(this.dataGroup.getDataTable()),this.animationStart()},Ny.prototype.setPointDrawingMethod=function(){let t;switch(this.style){case Ny.STYLE.BAR:t=this._redrawBarGraphPoint;break;case Ny.STYLE.BARCOLOR:t=this._redrawBarColorGraphPoint;break;case Ny.STYLE.BARSIZE:t=this._redrawBarSizeGraphPoint;break;case Ny.STYLE.DOT:t=this._redrawDotGraphPoint;break;case Ny.STYLE.DOTLINE:t=this._redrawDotLineGraphPoint;break;case Ny.STYLE.DOTCOLOR:t=this._redrawDotColorGraphPoint;break;case Ny.STYLE.DOTSIZE:t=this._redrawDotSizeGraphPoint;break;case Ny.STYLE.SURFACE:t=this._redrawSurfaceGraphPoint;break;case Ny.STYLE.GRID:t=this._redrawGridGraphPoint;break;case Ny.STYLE.LINE:t=this._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=t},Ny.prototype.setAxisLabelMethod=function(){this.rotateAxisLabels?(this._drawAxisLabelX=this.drawAxisLabelXRotate,this._drawAxisLabelY=this.drawAxisLabelYRotate,this._drawAxisLabelZ=this.drawAxisLabelZRotate):(this._drawAxisLabelX=this.drawAxisLabelX,this._drawAxisLabelY=this.drawAxisLabelY,this._drawAxisLabelZ=this.drawAxisLabelZ)},Ny.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},Ny.prototype._getContext=function(){const t=this.frame.canvas.getContext("2d");return t.lineJoin="round",t.lineCap="round",t},Ny.prototype._redrawClear=function(){const t=this.frame.canvas;t.getContext("2d").clearRect(0,0,t.width,t.height)},Ny.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},Ny.prototype._getLegendWidth=function(){let t;if(this.style===Ny.STYLE.DOTSIZE){t=this._dotSize()*this.dotSizeMaxFraction}else t=this.style===Ny.STYLE.BARSIZE?this.xBarWidth:20;return t},Ny.prototype._redrawLegend=function(){if(!0!==this.showLegend)return;if(this.style===Ny.STYLE.LINE||this.style===Ny.STYLE.BARSIZE)return;const t=this.style===Ny.STYLE.BARSIZE||this.style===Ny.STYLE.DOTSIZE,e=this.style===Ny.STYLE.DOTSIZE||this.style===Ny.STYLE.DOTCOLOR||this.style===Ny.STYLE.SURFACE||this.style===Ny.STYLE.BARCOLOR,n=Math.max(.25*this.frame.clientHeight,100),i=this.margin,o=this._getLegendWidth(),r=this.frame.clientWidth-this.margin,s=r-o,a=i+n,c=this._getContext();if(c.lineWidth=1,c.font="14px arial",!1===t){const t=0,e=n;let a;for(a=t;a<e;a++){const n=1-(a-t)/(e-t),o=this._colormap(n,1);c.strokeStyle=o,c.beginPath(),c.moveTo(s,i+a),c.lineTo(r,i+a),c.stroke()}c.strokeStyle=this.axisColor,c.strokeRect(s,i,o,n)}else{let t;this.style===Ny.STYLE.DOTSIZE?t=o*(this.dotSizeMinFraction/this.dotSizeMaxFraction):(this.style,Ny.STYLE.BARSIZE),c.strokeStyle=this.axisColor,c.fillStyle=Fr(this.dataColor),c.beginPath(),c.moveTo(s,i),c.lineTo(r,i),c.lineTo(s+t,a),c.lineTo(s,a),c.closePath(),Fr(c).call(c),c.stroke()}const l=e?this.valueRange.min:this.zRange.min,h=e?this.valueRange.max:this.zRange.max,u=new fy(l,h,(h-l)/5,!0);for(u.start(!0);!u.end();){const t=a-(u.getCurrent()-l)/(h-l)*n,e=new ly(s-5,t),i=new ly(s,t);this._line(c,e,i),c.textAlign="right",c.textBaseline="middle",c.fillStyle=this.axisColor,c.fillText(u.getCurrent(),s-10,t),u.next()}c.textAlign="right",c.textBaseline="top";const f=this.legendLabel;c.fillText(f,r,a+this.margin)},Ny.prototype._redrawFilter=function(){const t=this.dataGroup.dataFilter,e=ar(this.frame);if(e.innerHTML="",!t)return void(e.slider=void 0);const n=new hy(e,{visible:this.showAnimationControls});e.slider=n,e.style.padding="10px",n.setValues(vc(t)),n.setPlayInterval(this.animationInterval);const i=this;n.setOnChangeCallback((function(){const t=i.dataGroup.dataFilter,e=n.getIndex();t.selectValue(e),i.dataPoints=t._getDataPoints(),i.redraw()}))},Ny.prototype._redrawSlider=function(){void 0!==ar(this.frame).slider&&ar(this.frame).slider.redraw()},Ny.prototype._redrawInfo=function(){const t=this.dataGroup.getInfo();if(void 0===t)return;const e=this._getContext();e.font="14px arial",e.lineStyle="gray",e.fillStyle="gray",e.textAlign="left",e.textBaseline="top";const n=this.margin,i=this.margin;e.fillText(t,n,i)},Ny.prototype._line=function(t,e,n,i){void 0!==i&&(t.strokeStyle=i),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.stroke()},Ny.prototype.drawAxisLabelX=function(t,e,n,i,o){void 0===o&&(o=0);const r=this._convert3Dto2D(e);Math.cos(2*i)>0?(t.textAlign="center",t.textBaseline="top",r.y+=o):Math.sin(2*i)<0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(n,r.x,r.y)},Ny.prototype.drawAxisLabelY=function(t,e,n,i,o){void 0===o&&(o=0);const r=this._convert3Dto2D(e);Math.cos(2*i)<0?(t.textAlign="center",t.textBaseline="top",r.y+=o):Math.sin(2*i)>0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(n,r.x,r.y)},Ny.prototype.drawAxisLabelZ=function(t,e,n,i){void 0===i&&(i=0);const o=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,o.x-i,o.y)},Ny.prototype.drawAxisLabelXRotate=function(t,e,n,i,o){const r=this._convert3Dto2D(e);Math.cos(2*i)>0?(t.save(),t.translate(r.x,r.y),t.rotate(-Math.PI/2),t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,0,0),t.restore()):Math.sin(2*i)<0?(t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,r.x,r.y)):(t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,r.x,r.y))},Ny.prototype.drawAxisLabelYRotate=function(t,e,n,i,o){const r=this._convert3Dto2D(e);Math.cos(2*i)<0?(t.save(),t.translate(r.x,r.y),t.rotate(-Math.PI/2),t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,0,0),t.restore()):Math.sin(2*i)>0?(t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,r.x,r.y)):(t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,r.x,r.y))},Ny.prototype.drawAxisLabelZRotate=function(t,e,n,i){void 0===i&&(i=0);const o=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,o.x-i,o.y)},Ny.prototype._line3d=function(t,e,n,i){const o=this._convert3Dto2D(e),r=this._convert3Dto2D(n);this._line(t,o,r,i)},Ny.prototype._redrawAxis=function(){const t=this._getContext();let e,n,i,o,r,s,a,c,l,h,u;t.font=this.axisFontSize/this.camera.getArmLength()+"px "+this.axisFontType;const f=.025/this.scale.x,p=.025/this.scale.y,d=5/this.camera.getArmLength(),m=this.camera.getArmRotation().horizontal,y=new ly(Math.cos(m),Math.sin(m)),v=this.xRange,g=this.yRange,b=this.zRange;let x;for(t.lineWidth=1,o=void 0===this.defaultXStep,i=new fy(v.min,v.max,this.xStep,o),i.start(!0);!i.end();){const o=i.getCurrent();if(this.showGrid?(e=new cy(o,g.min,b.min),n=new cy(o,g.max,b.min),this._line3d(t,e,n,this.gridColor)):this.showXAxis&&(e=new cy(o,g.min,b.min),n=new cy(o,g.min+f,b.min),this._line3d(t,e,n,this.axisColor),e=new cy(o,g.max,b.min),n=new cy(o,g.max-f,b.min),this._line3d(t,e,n,this.axisColor)),this.showXAxis){a=y.x>0?g.min:g.max,x=new cy(o,a,b.min);const e="  "+this.xValueLabel(o)+"  ";this._drawAxisLabelX.call(this,t,x,e,m,d)}i.next()}for(t.lineWidth=1,o=void 0===this.defaultYStep,i=new fy(g.min,g.max,this.yStep,o),i.start(!0);!i.end();){const o=i.getCurrent();if(this.showGrid?(e=new cy(v.min,o,b.min),n=new cy(v.max,o,b.min),this._line3d(t,e,n,this.gridColor)):this.showYAxis&&(e=new cy(v.min,o,b.min),n=new cy(v.min+p,o,b.min),this._line3d(t,e,n,this.axisColor),e=new cy(v.max,o,b.min),n=new cy(v.max-p,o,b.min),this._line3d(t,e,n,this.axisColor)),this.showYAxis){s=y.y>0?v.min:v.max,x=new cy(s,o,b.min);const e="  "+this.yValueLabel(o)+"  ";this._drawAxisLabelY.call(this,t,x,e,m,d)}i.next()}if(this.showZAxis){for(t.lineWidth=1,o=void 0===this.defaultZStep,i=new fy(b.min,b.max,this.zStep,o),i.start(!0),s=y.x>0?v.min:v.max,a=y.y<0?g.min:g.max;!i.end();){const e=i.getCurrent(),o=new cy(s,a,e),r=this._convert3Dto2D(o);n=new ly(r.x-d,r.y),this._line(t,r,n,this.axisColor);const c=this.zValueLabel(e)+" ";this._drawAxisLabelZ.call(this,t,o,c,5),i.next()}t.lineWidth=1,e=new cy(s,a,b.min),n=new cy(s,a,b.max),this._line3d(t,e,n,this.axisColor)}if(this.showXAxis){let e,n;t.lineWidth=1,e=new cy(v.min,g.min,b.min),n=new cy(v.max,g.min,b.min),this._line3d(t,e,n,this.axisColor),e=new cy(v.min,g.max,b.min),n=new cy(v.max,g.max,b.min),this._line3d(t,e,n,this.axisColor)}this.showYAxis&&(t.lineWidth=1,e=new cy(v.min,g.min,b.min),n=new cy(v.min,g.max,b.min),this._line3d(t,e,n,this.axisColor),e=new cy(v.max,g.min,b.min),n=new cy(v.max,g.max,b.min),this._line3d(t,e,n,this.axisColor));const w=this.xLabel;w.length>0&&this.showXAxis&&(u=.1/this.scale.y,s=(v.max+3*v.min)/4,a=y.x>0?g.min-u:g.max+u,r=new cy(s,a,b.min),this.drawAxisLabelX(t,r,w,m));const _=this.yLabel;_.length>0&&this.showYAxis&&(h=.1/this.scale.x,s=y.y>0?v.min-h:v.max+h,a=(g.max+3*g.min)/4,r=new cy(s,a,b.min),this.drawAxisLabelY(t,r,_,m));const S=this.zLabel;S.length>0&&this.showZAxis&&(l=30,s=y.x>0?v.min:v.max,a=y.y<0?g.min:g.max,c=(b.max+3*b.min)/4,r=new cy(s,a,c),this.drawAxisLabelZ(t,r,S,30))},Ny.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},Ny.prototype._redrawBar=function(t,e,n,i,o,r){let s;const a=this,c=e.point,l=this.zRange.min,h=[{point:new cy(c.x-n,c.y-i,c.z)},{point:new cy(c.x+n,c.y-i,c.z)},{point:new cy(c.x+n,c.y+i,c.z)},{point:new cy(c.x-n,c.y+i,c.z)}],u=[{point:new cy(c.x-n,c.y-i,l)},{point:new cy(c.x+n,c.y-i,l)},{point:new cy(c.x+n,c.y+i,l)},{point:new cy(c.x-n,c.y+i,l)}];Ec(h).call(h,(function(t){t.screen=a._convert3Dto2D(t.point)})),Ec(u).call(u,(function(t){t.screen=a._convert3Dto2D(t.point)}));const f=[{corners:h,center:cy.avg(u[0].point,u[2].point)},{corners:[h[0],h[1],u[1],u[0]],center:cy.avg(u[1].point,u[0].point)},{corners:[h[1],h[2],u[2],u[1]],center:cy.avg(u[2].point,u[1].point)},{corners:[h[2],h[3],u[3],u[2]],center:cy.avg(u[3].point,u[2].point)},{corners:[h[3],h[0],u[0],u[3]],center:cy.avg(u[0].point,u[3].point)}];e.surfaces=f;for(let t=0;t<f.length;t++){s=f[t];const e=this._convertPointToTranslation(s.center);s.dist=this.showPerspective?e.length():-e.z}to(f).call(f,(function(t,e){const n=e.dist-t.dist;return n||(t.corners===h?1:e.corners===h?-1:0)})),t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=r,t.fillStyle=o;for(let e=2;e<f.length;e++)s=f[e],this._polygon(t,s.corners)},Ny.prototype._polygon=function(t,e,n,i){if(!(e.length<2)){void 0!==n&&(t.fillStyle=n),void 0!==i&&(t.strokeStyle=i),t.beginPath(),t.moveTo(e[0].screen.x,e[0].screen.y);for(let n=1;n<e.length;++n){const i=e[n];t.lineTo(i.screen.x,i.screen.y)}t.closePath(),Fr(t).call(t),t.stroke()}},Ny.prototype._drawCircle=function(t,e,n,i,o){const r=this._calcRadius(e,o);t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=i,t.fillStyle=n,t.beginPath(),t.arc(e.screen.x,e.screen.y,r,0,2*Math.PI,!0),Fr(t).call(t),t.stroke()},Ny.prototype._getColorsRegular=function(t){const e=(t.point.value-this.valueRange.min)*this.scale.value;return{fill:this._colormap(e,1),border:this._colormap(e,.8)}},Ny.prototype._getColorsColor=function(t){let e,n,i;if(t&&t.point&&t.point.data&&t.point.data.style&&(i=t.point.data.style),i&&"object"==typeof i&&Fr(i)&&i.stroke)return{fill:Fr(i),border:i.stroke};if("string"==typeof t.point.value)e=t.point.value,n=t.point.value;else{const i=(t.point.value-this.valueRange.min)*this.scale.value;e=this._colormap(i,1),n=this._colormap(i,.8)}return{fill:e,border:n}},Ny.prototype._getColorsSize=function(){return{fill:Fr(this.dataColor),border:this.dataColor.stroke}},Ny.prototype._colormap=function(t){let e,n,i,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const s=this.colormap;if(Ac(s)){const o=s.length-1,r=Math.max(Math.floor(t*o),0),a=Math.min(r+1,o),c=t*o-r,l=s[r],h=s[a];e=l.r+c*(h.r-l.r),n=l.g+c*(h.g-l.g),i=l.b+c*(h.b-l.b)}else if("function"==typeof s)({r:e,g:n,b:i,a:o}=s(t));else{const o=240*(1-t);({r:e,g:n,b:i}=ey(o/360,1,1))}var a,c,l,h,u;return"number"!=typeof o||Pc(o)?Jc(a=Jc(c="RGB(".concat(Math.round(e*r),", ")).call(c,Math.round(n*r),", ")).call(a,Math.round(i*r),")"):Jc(l=Jc(h=Jc(u="RGBA(".concat(Math.round(e*r),", ")).call(u,Math.round(n*r),", ")).call(h,Math.round(i*r),", ")).call(l,o,")")},Ny.prototype._calcRadius=function(t,e){let n;return void 0===e&&(e=this._dotSize()),n=this.showPerspective?e/-t.trans.z:e*(-this.eye.z/this.camera.getArmLength()),n<0&&(n=0),n},Ny.prototype._redrawBarGraphPoint=function(t,e){const n=this.xBarWidth/2,i=this.yBarWidth/2,o=this._getColorsRegular(e);this._redrawBar(t,e,n,i,Fr(o),o.border)},Ny.prototype._redrawBarColorGraphPoint=function(t,e){const n=this.xBarWidth/2,i=this.yBarWidth/2,o=this._getColorsColor(e);this._redrawBar(t,e,n,i,Fr(o),o.border)},Ny.prototype._redrawBarSizeGraphPoint=function(t,e){const n=(e.point.value-this.valueRange.min)/this.valueRange.range(),i=this.xBarWidth/2*(.8*n+.2),o=this.yBarWidth/2*(.8*n+.2),r=this._getColorsSize();this._redrawBar(t,e,i,o,Fr(r),r.border)},Ny.prototype._redrawDotGraphPoint=function(t,e){const n=this._getColorsRegular(e);this._drawCircle(t,e,Fr(n),n.border)},Ny.prototype._redrawDotLineGraphPoint=function(t,e){const n=this._convert3Dto2D(e.bottom);t.lineWidth=1,this._line(t,n,e.screen,this.gridColor),this._redrawDotGraphPoint(t,e)},Ny.prototype._redrawDotColorGraphPoint=function(t,e){const n=this._getColorsColor(e);this._drawCircle(t,e,Fr(n),n.border)},Ny.prototype._redrawDotSizeGraphPoint=function(t,e){const n=this._dotSize(),i=(e.point.value-this.valueRange.min)/this.valueRange.range(),o=n*this.dotSizeMinFraction,r=o+(n*this.dotSizeMaxFraction-o)*i,s=this._getColorsSize();this._drawCircle(t,e,Fr(s),s.border,r)},Ny.prototype._redrawSurfaceGraphPoint=function(t,e){const n=e.pointRight,i=e.pointTop,o=e.pointCross;if(void 0===e||void 0===n||void 0===i||void 0===o)return;let r,s,a,c=!0;if(this.showGrayBottom||this.showShadow){const t=cy.subtract(o.trans,e.trans),r=cy.subtract(i.trans,n.trans),s=cy.crossProduct(t,r);if(this.showPerspective){const t=cy.avg(cy.avg(e.trans,o.trans),cy.avg(n.trans,i.trans));a=-cy.dotProduct(s.normalize(),t.normalize())}else a=s.z/s.length();c=a>0}if(c||!this.showGrayBottom){const t=((e.point.value+n.point.value+i.point.value+o.point.value)/4-this.valueRange.min)*this.scale.value,s=this.showShadow?(1+a)/2:1;r=this._colormap(t,s)}else r="gray";s=this.showSurfaceGrid?this.axisColor:r,t.lineWidth=this._getStrokeWidth(e);const l=[e,n,o,i];this._polygon(t,l,r,s)},Ny.prototype._drawGridLine=function(t,e,n){if(void 0===e||void 0===n)return;const i=((e.point.value+n.point.value)/2-this.valueRange.min)*this.scale.value;t.lineWidth=2*this._getStrokeWidth(e),t.strokeStyle=this._colormap(i,1),this._line(t,e.screen,n.screen)},Ny.prototype._redrawGridGraphPoint=function(t,e){this._drawGridLine(t,e,e.pointRight),this._drawGridLine(t,e,e.pointTop)},Ny.prototype._redrawLineGraphPoint=function(t,e){void 0!==e.pointNext&&(t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=this.dataColor.stroke,this._line(t,e.screen,e.pointNext.screen))},Ny.prototype._redrawDataGraph=function(){const t=this._getContext();let e;if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),e=0;e<this.dataPoints.length;e++){const n=this.dataPoints[e];this._pointDrawingMethod.call(this,t,n)}},Ny.prototype._storeMousePosition=function(t){this.startMouseX=Wy(t),this.startMouseY=Yy(t),this._startCameraOffset=this.camera.getOffset()},Ny.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,!this.leftButtonDown&&!this.touchDown)return;this._storeMousePosition(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";const e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},document.addEventListener("mousemove",e.onmousemove),document.addEventListener("mouseup",e.onmouseup),ty(t)},Ny.prototype._onMouseMove=function(t){this.moving=!0,t=t||window.event;const e=Er(Wy(t))-this.startMouseX,n=Er(Yy(t))-this.startMouseY;if(t&&!0===t.ctrlKey){const i=.5*this.frame.clientWidth,o=.5*this.frame.clientHeight,r=(this._startCameraOffset.x||0)-e/i*this.camera.armLength*.8,s=(this._startCameraOffset.y||0)+n/o*this.camera.armLength*.8;this.camera.setOffset(r,s),this._storeMousePosition(t)}else{let t=this.startArmRotation.horizontal+e/200,i=this.startArmRotation.vertical+n/200;const o=4,r=Math.sin(o/360*2*Math.PI);Math.abs(Math.sin(t))<r&&(t=Math.round(t/Math.PI)*Math.PI-.001),Math.abs(Math.cos(t))<r&&(t=(Math.round(t/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(i))<r&&(i=Math.round(i/Math.PI)*Math.PI),Math.abs(Math.cos(i))<r&&(i=(Math.round(i/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(t,i)}this.redraw();const i=this.getCameraPosition();this.emit("cameraPositionChange",i),ty(t)},Ny.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,document.removeEventListener("mousemove",this.onmousemove),document.removeEventListener("mouseup",this.onmouseup),ty(t)},Ny.prototype._onClick=function(t){if(this.onclick_callback||this.hasListeners("click")){if(this.moving)this.moving=!1;else{const e=this.frame.getBoundingClientRect(),n=Wy(t)-e.left,i=Yy(t)-e.top,o=this._dataPointFromXY(n,i);o&&(this.onclick_callback&&this.onclick_callback(o.point.data),this.emit("click",o.point.data))}ty(t)}},Ny.prototype._onTooltip=function(t){const e=this.tooltipDelay,n=this.frame.getBoundingClientRect(),i=Wy(t)-n.left,o=Yy(t)-n.top;if(this.showTooltip)if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)this._hideTooltip();else if(this.tooltip&&this.tooltip.dataPoint){const t=this._dataPointFromXY(i,o);t!==this.tooltip.dataPoint&&(t?this._showTooltip(t):this._hideTooltip())}else{const t=this;this.tooltipTimeout=yl((function(){t.tooltipTimeout=null;const e=t._dataPointFromXY(i,o);e&&t._showTooltip(e)}),e)}},Ny.prototype._onTouchStart=function(t){this.touchDown=!0;const e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},document.addEventListener("touchmove",e.ontouchmove),document.addEventListener("touchend",e.ontouchend),this._onMouseDown(t)},Ny.prototype._onTouchMove=function(t){this._onMouseMove(t)},Ny.prototype._onTouchEnd=function(t){this.touchDown=!1,document.removeEventListener("touchmove",this.ontouchmove),document.removeEventListener("touchend",this.ontouchend),this._onMouseUp(t)},Ny.prototype._onWheel=function(t){if(t||(t=window.event),this.zoomable&&(!this.ctrlToZoom||t.ctrlKey)){let e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){const t=this.camera.getArmLength()*(1-e/10);this.camera.setArmLength(t),this.redraw(),this._hideTooltip()}const n=this.getCameraPosition();this.emit("cameraPositionChange",n),ty(t)}},Ny.prototype._insideTriangle=function(t,e){const n=e[0],i=e[1],o=e[2];function r(t){return t>0?1:t<0?-1:0}const s=r((i.x-n.x)*(t.y-n.y)-(i.y-n.y)*(t.x-n.x)),a=r((o.x-i.x)*(t.y-i.y)-(o.y-i.y)*(t.x-i.x)),c=r((n.x-o.x)*(t.y-o.y)-(n.y-o.y)*(t.x-o.x));return!(0!=s&&0!=a&&s!=a||0!=a&&0!=c&&a!=c||0!=s&&0!=c&&s!=c)},Ny.prototype._dataPointFromXY=function(t,e){const n=new ly(t,e);let i,o=null,r=null,s=null;if(this.style===Ny.STYLE.BAR||this.style===Ny.STYLE.BARCOLOR||this.style===Ny.STYLE.BARSIZE)for(i=this.dataPoints.length-1;i>=0;i--){o=this.dataPoints[i];const t=o.surfaces;if(t)for(let e=t.length-1;e>=0;e--){const i=t[e].corners,r=[i[0].screen,i[1].screen,i[2].screen],s=[i[2].screen,i[3].screen,i[0].screen];if(this._insideTriangle(n,r)||this._insideTriangle(n,s))return o}}else for(i=0;i<this.dataPoints.length;i++){o=this.dataPoints[i];const n=o.screen;if(n){const i=Math.abs(t-n.x),a=Math.abs(e-n.y),c=Math.sqrt(i*i+a*a);(null===s||c<s)&&c<100&&(s=c,r=o)}}return r},Ny.prototype.hasBars=function(t){return t==Ny.STYLE.BAR||t==Ny.STYLE.BARCOLOR||t==Ny.STYLE.BARSIZE},Ny.prototype._showTooltip=function(t){let e,n,i;this.tooltip?(e=this.tooltip.dom.content,n=this.tooltip.dom.line,i=this.tooltip.dom.dot):(e=document.createElement("div"),Rl(e.style,{},this.tooltipStyle.content),e.style.position="absolute",n=document.createElement("div"),Rl(n.style,{},this.tooltipStyle.line),n.style.position="absolute",i=document.createElement("div"),Rl(i.style,{},this.tooltipStyle.dot),i.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:e,line:n,dot:i}}),this._hideTooltip(),this.tooltip.dataPoint=t,"function"==typeof this.showTooltip?e.innerHTML=this.showTooltip(t.point):e.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(n),this.frame.appendChild(i);const o=e.offsetWidth,r=e.offsetHeight,s=n.offsetHeight,a=i.offsetWidth,c=i.offsetHeight;let l=t.screen.x-o/2;l=Math.min(Math.max(l,10),this.frame.clientWidth-10-o),n.style.left=t.screen.x+"px",n.style.top=t.screen.y-s+"px",e.style.left=l+"px",e.style.top=t.screen.y-s-r+"px",i.style.left=t.screen.x-a/2+"px",i.style.top=t.screen.y-c/2+"px"},Ny.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(const t in this.tooltip.dom)if(Object.prototype.hasOwnProperty.call(this.tooltip.dom,t)){const e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}}},Ny.prototype.setCameraPosition=function(t){Ey(t,this),this.redraw()},Ny.prototype.setSize=function(t,e){this._setSize(t,e),this.redraw()};export{Ny as Graph3d,dy as Graph3dCamera,jy as Graph3dFilter,ly as Graph3dPoint2d,cy as Graph3dPoint3d,hy as Graph3dSlider,fy as Graph3dStepNumber};
//# sourceMappingURL=vis-graph3d.min.js.map

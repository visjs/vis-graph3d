/**
 * vis-graph3d
 * https://visjs.github.io/vis-graph3d/
 *
 * Create interactive, animated 3d graphs. Surfaces, lines, dots and block styling out of the box.
 *
 * @version 0.0.0-no-version
 * @date    2025-09-03T01:32:00.431Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("vis-data/peer/umd/vis-data.js")):"function"==typeof define&&define.amd?define(["exports","vis-data/peer/umd/vis-data.js"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).vis=t.vis||{},t.vis)}(this,function(t,e){var n,r,i,o,a,s,u,c,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function h(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function f(){return r?n:(r=1,n=function(t){try{return!!t()}catch(t){return!0}})}function p(){return o?i:(o=1,i=!f()(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))}function d(){if(s)return a;s=1;var t=p(),e=Function.prototype,n=e.call,r=t&&e.bind.bind(n,n);return a=t?r:function(t){return function(){return n.apply(t,arguments)}},a}function v(){return c?u:(c=1,u=d()({}.isPrototypeOf))}var m,y,g,b,w,x,_,S,T,C,E={};function L(){if(y)return m;y=1;var t=function(t){return t&&t.Math===Math&&t};return m=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof l&&l)||t("object"==typeof m&&m)||function(){return this}()||Function("return this")()}function A(){if(b)return g;b=1;var t=p(),e=Function.prototype,n=e.apply,r=e.call;return g="object"==typeof Reflect&&Reflect.apply||(t?r.bind(n):function(){return r.apply(n,arguments)}),g}function O(){if(x)return w;x=1;var t=d(),e=t({}.toString),n=t("".slice);return w=function(t){return n(e(t),8,-1)}}function P(){if(S)return _;S=1;var t=O(),e=d();return _=function(n){if("Function"===t(n))return e(n)}}function M(){if(C)return T;C=1;var t="object"==typeof document&&document.all;return T=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(t){return"function"==typeof t}}var D,R,z,I,k={};function j(){return R?D:(R=1,D=!f()(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))}function F(){if(I)return z;I=1;var t=p(),e=Function.prototype.call;return z=t?e.bind(e):function(){return e.apply(e,arguments)},z}var N,B,W,Y,G,X,V,U,Z,H,q,J,$,Q,K,tt,et,nt,rt,it,ot,at,st,ut,ct,lt,ht,ft,pt,dt,vt,mt,yt,gt,bt,wt={};function xt(){if(N)return wt;N=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,n=e&&!t.call({1:2},1);return wt.f=n?function(t){var n=e(this,t);return!!n&&n.enumerable}:t,wt}function _t(){return W?B:(W=1,B=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}})}function St(){if(G)return Y;G=1;var t=d(),e=f(),n=O(),r=Object,i=t("".split);return Y=e(function(){return!r("z").propertyIsEnumerable(0)})?function(t){return"String"===n(t)?i(t,""):r(t)}:r}function Tt(){return V?X:(V=1,X=function(t){return null==t})}function Ct(){if(Z)return U;Z=1;var t=Tt(),e=TypeError;return U=function(n){if(t(n))throw new e("Can't call method on "+n);return n}}function Et(){if(q)return H;q=1;var t=St(),e=Ct();return H=function(n){return t(e(n))}}function Lt(){if($)return J;$=1;var t=M();return J=function(e){return"object"==typeof e?null!==e:t(e)}}function At(){return K?Q:(K=1,Q={})}function Ot(){if(et)return tt;et=1;var t=At(),e=L(),n=M(),r=function(t){return n(t)?t:void 0};return tt=function(n,i){return arguments.length<2?r(t[n])||r(e[n]):t[n]&&t[n][i]||e[n]&&e[n][i]},tt}function Pt(){if(rt)return nt;rt=1;var t=L().navigator,e=t&&t.userAgent;return nt=e?String(e):""}function Mt(){if(ot)return it;ot=1;var t,e,n=L(),r=Pt(),i=n.process,o=n.Deno,a=i&&i.versions||o&&o.version,s=a&&a.v8;return s&&(e=(t=s.split("."))[0]>0&&t[0]<4?1:+(t[0]+t[1])),!e&&r&&(!(t=r.match(/Edge\/(\d+)/))||t[1]>=74)&&(t=r.match(/Chrome\/(\d+)/))&&(e=+t[1]),it=e}function Dt(){if(st)return at;st=1;var t=Mt(),e=f(),n=L().String;return at=!!Object.getOwnPropertySymbols&&!e(function(){var e=Symbol("symbol detection");return!n(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&t&&t<41}),at}function Rt(){return ct?ut:(ct=1,ut=Dt()&&!Symbol.sham&&"symbol"==typeof Symbol.iterator)}function zt(){if(ht)return lt;ht=1;var t=Ot(),e=M(),n=v(),r=Object;return lt=Rt()?function(t){return"symbol"==typeof t}:function(i){var o=t("Symbol");return e(o)&&n(o.prototype,r(i))}}function It(){if(pt)return ft;pt=1;var t=String;return ft=function(e){try{return t(e)}catch(t){return"Object"}}}function kt(){if(vt)return dt;vt=1;var t=M(),e=It(),n=TypeError;return dt=function(r){if(t(r))return r;throw new n(e(r)+" is not a function")}}function jt(){if(yt)return mt;yt=1;var t=kt(),e=Tt();return mt=function(n,r){var i=n[r];return e(i)?void 0:t(i)}}function Ft(){if(bt)return gt;bt=1;var t=F(),e=M(),n=Lt(),r=TypeError;return gt=function(i,o){var a,s;if("string"===o&&e(a=i.toString)&&!n(s=t(a,i)))return s;if(e(a=i.valueOf)&&!n(s=t(a,i)))return s;if("string"!==o&&e(a=i.toString)&&!n(s=t(a,i)))return s;throw new r("Can't convert object to primitive value")}}var Nt,Bt,Wt,Yt,Gt,Xt,Vt,Ut,Zt,Ht,qt,Jt,$t,Qt,Kt,te,ee,ne,re,ie,oe,ae,se,ue,ce,le,he,fe,pe={exports:{}};function de(){return Bt?Nt:(Bt=1,Nt=!0)}function ve(){if(Yt)return Wt;Yt=1;var t=L(),e=Object.defineProperty;return Wt=function(n,r){try{e(t,n,{value:r,configurable:!0,writable:!0})}catch(e){t[n]=r}return r}}function me(){if(Gt)return pe.exports;Gt=1;var t=de(),e=L(),n=ve(),r="__core-js_shared__",i=pe.exports=e[r]||n(r,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),pe.exports}function ye(){if(Vt)return Xt;Vt=1;var t=me();return Xt=function(e,n){return t[e]||(t[e]=n||{})}}function ge(){if(Zt)return Ut;Zt=1;var t=Ct(),e=Object;return Ut=function(n){return e(t(n))}}function be(){if(qt)return Ht;qt=1;var t=d(),e=ge(),n=t({}.hasOwnProperty);return Ht=Object.hasOwn||function(t,r){return n(e(t),r)}}function we(){if($t)return Jt;$t=1;var t=d(),e=0,n=Math.random(),r=t(1.1.toString);return Jt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+r(++e+n,36)}}function xe(){if(Kt)return Qt;Kt=1;var t=L(),e=ye(),n=be(),r=we(),i=Dt(),o=Rt(),a=t.Symbol,s=e("wks"),u=o?a.for||a:a&&a.withoutSetter||r;return Qt=function(t){return n(s,t)||(s[t]=i&&n(a,t)?a[t]:u("Symbol."+t)),s[t]}}function _e(){if(ee)return te;ee=1;var t=F(),e=Lt(),n=zt(),r=jt(),i=Ft(),o=TypeError,a=xe()("toPrimitive");return te=function(s,u){if(!e(s)||n(s))return s;var c,l=r(s,a);if(l){if(void 0===u&&(u="default"),c=t(l,s,u),!e(c)||n(c))return c;throw new o("Can't convert object to primitive value")}return void 0===u&&(u="number"),i(s,u)}}function Se(){if(re)return ne;re=1;var t=_e(),e=zt();return ne=function(n){var r=t(n,"string");return e(r)?r:r+""}}function Te(){if(oe)return ie;oe=1;var t=L(),e=Lt(),n=t.document,r=e(n)&&e(n.createElement);return ie=function(t){return r?n.createElement(t):{}}}function Ce(){if(se)return ae;se=1;var t=j(),e=f(),n=Te();return ae=!t&&!e(function(){return 7!==Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a})}function Ee(){if(ue)return k;ue=1;var t=j(),e=F(),n=xt(),r=_t(),i=Et(),o=Se(),a=be(),s=Ce(),u=Object.getOwnPropertyDescriptor;return k.f=t?u:function(t,c){if(t=i(t),c=o(c),s)try{return u(t,c)}catch(t){}if(a(t,c))return r(!e(n.f,t,c),t[c])},k}function Le(){if(le)return ce;le=1;var t=f(),e=M(),n=/#|\.prototype\./,r=function(n,r){var u=o[i(n)];return u===s||u!==a&&(e(r)?t(r):!!r)},i=r.normalize=function(t){return String(t).replace(n,".").toLowerCase()},o=r.data={},a=r.NATIVE="N",s=r.POLYFILL="P";return ce=r}function Ae(){if(fe)return he;fe=1;var t=P(),e=kt(),n=p(),r=t(t.bind);return he=function(t,i){return e(t),void 0===i?t:n?r(t,i):function(){return t.apply(i,arguments)}},he}var Oe,Pe,Me,De,Re,ze,Ie,ke,je,Fe,Ne,Be,We,Ye,Ge,Xe,Ve,Ue,Ze,He,qe,Je,$e,Qe,Ke,tn,en,nn,rn,on,an,sn,un,cn,ln,hn,fn,pn,dn,vn,mn,yn,gn,bn,wn,xn,_n,Sn,Tn={};function Cn(){return Pe?Oe:(Pe=1,Oe=j()&&f()(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}))}function En(){if(De)return Me;De=1;var t=Lt(),e=String,n=TypeError;return Me=function(r){if(t(r))return r;throw new n(e(r)+" is not an object")}}function Ln(){if(Re)return Tn;Re=1;var t=j(),e=Ce(),n=Cn(),r=En(),i=Se(),o=TypeError,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,u="enumerable",c="configurable",l="writable";return Tn.f=t?n?function(t,e,n){if(r(t),e=i(e),r(n),"function"==typeof t&&"prototype"===e&&"value"in n&&l in n&&!n[l]){var o=s(t,e);o&&o[l]&&(t[e]=n.value,n={configurable:c in n?n[c]:o[c],enumerable:u in n?n[u]:o[u],writable:!1})}return a(t,e,n)}:a:function(t,n,s){if(r(t),n=i(n),r(s),e)try{return a(t,n,s)}catch(t){}if("get"in s||"set"in s)throw new o("Accessors not supported");return"value"in s&&(t[n]=s.value),t},Tn}function An(){if(Ie)return ze;Ie=1;var t=j(),e=Ln(),n=_t();return ze=t?function(t,r,i){return e.f(t,r,n(1,i))}:function(t,e,n){return t[e]=n,t},ze}function On(){if(je)return ke;je=1;var t=L(),e=A(),n=P(),r=M(),i=Ee().f,o=Le(),a=At(),s=Ae(),u=An(),c=be(),l=function(t){var n=function(r,i,o){if(this instanceof n){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,i)}return new t(r,i,o)}return e(t,this,arguments)};return n.prototype=t.prototype,n};return ke=function(e,h){var f,p,d,v,m,y,g,b,w,x=e.target,_=e.global,S=e.stat,T=e.proto,C=_?t:S?t[x]:t[x]&&t[x].prototype,E=_?a:a[x]||u(a,x,{})[x],L=E.prototype;for(v in h)p=!(f=o(_?v:x+(S?".":"#")+v,e.forced))&&C&&c(C,v),y=E[v],p&&(g=e.dontCallGetSet?(w=i(C,v))&&w.value:C[v]),m=p&&g?g:h[v],(f||T||typeof y!=typeof m)&&(b=e.bind&&p?s(m,t):e.wrap&&p?l(m):T&&r(m)?n(m):m,(e.sham||m&&m.sham||y&&y.sham)&&u(b,"sham",!0),u(E,v,b),T&&(c(a,d=x+"Prototype")||u(a,d,{}),u(a[d],v,m),e.real&&L&&(f||!L[v])&&u(L,v,m)))}}function Pn(){if(Ne)return Fe;Ne=1;var t=Math.ceil,e=Math.floor;return Fe=Math.trunc||function(n){var r=+n;return(r>0?e:t)(r)}}function Mn(){if(We)return Be;We=1;var t=Pn();return Be=function(e){var n=+e;return n!=n||0===n?0:t(n)},Be}function Dn(){if(Ge)return Ye;Ge=1;var t=Mn(),e=Math.min;return Ye=function(n){var r=t(n);return r>0?e(r,9007199254740991):0}}function Rn(){if(Ve)return Xe;Ve=1;var t=Dn();return Xe=function(e){return t(e.length)}}function zn(){if(Ze)return Ue;Ze=1;var t=It(),e=TypeError;return Ue=function(n,r){if(!delete n[r])throw new e("Cannot delete property "+t(r)+" of "+t(n))}}function In(){if(qe)return He;qe=1;var t={};return t[xe()("toStringTag")]="z",He="[object z]"===String(t)}function kn(){if($e)return Je;$e=1;var t=In(),e=M(),n=O(),r=xe()("toStringTag"),i=Object,o="Arguments"===n(function(){return arguments}());return Je=t?n:function(t){var a,s,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(s=function(t,e){try{return t[e]}catch(t){}}(a=i(t),r))?s:o?n(a):"Object"===(u=n(a))&&e(a.callee)?"Arguments":u}}function jn(){if(Ke)return Qe;Ke=1;var t=kn(),e=String;return Qe=function(n){if("Symbol"===t(n))throw new TypeError("Cannot convert a Symbol value to a string");return e(n)}}function Fn(){return en?tn:(en=1,tn=d()([].slice))}function Nn(){if(rn)return nn;rn=1;var t=Fn(),e=Math.floor,n=function(r,i){var o=r.length;if(o<8)for(var a,s,u=1;u<o;){for(s=u,a=r[u];s&&i(r[s-1],a)>0;)r[s]=r[--s];s!==u++&&(r[s]=a)}else for(var c=e(o/2),l=n(t(r,0,c),i),h=n(t(r,c),i),f=l.length,p=h.length,d=0,v=0;d<f||v<p;)r[d+v]=d<f&&v<p?i(l[d],h[v])<=0?l[d++]:h[v++]:d<f?l[d++]:h[v++];return r};return nn=n}function Bn(){if(an)return on;an=1;var t=f();return on=function(e,n){var r=[][e];return!!r&&t(function(){r.call(null,n||function(){return 1},1)})}}function Wn(){if(un)return sn;un=1;var t=Pt().match(/firefox\/(\d+)/i);return sn=!!t&&+t[1]}function Yn(){return ln?cn:(ln=1,cn=/MSIE|Trident/.test(Pt()))}function Gn(){if(fn)return hn;fn=1;var t=Pt().match(/AppleWebKit\/(\d+)\./);return hn=!!t&&+t[1]}function Xn(){if(pn)return E;pn=1;var t=On(),e=d(),n=kt(),r=ge(),i=Rn(),o=zn(),a=jn(),s=f(),u=Nn(),c=Bn(),l=Wn(),h=Yn(),p=Mt(),v=Gn(),m=[],y=e(m.sort),g=e(m.push),b=s(function(){m.sort(void 0)}),w=s(function(){m.sort(null)}),x=c("sort"),_=!s(function(){if(p)return p<70;if(!(l&&l>3)){if(h)return!0;if(v)return v<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)m.push({k:e+r,v:n})}for(m.sort(function(t,e){return e.v-t.v}),r=0;r<m.length;r++)e=m[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}});return t({target:"Array",proto:!0,forced:b||!w||!x||!_},{sort:function(t){void 0!==t&&n(t);var e=r(this);if(_)return void 0===t?y(e):y(e,t);var s,c,l=[],h=i(e);for(c=0;c<h;c++)c in e&&g(l,e[c]);for(u(l,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:a(e)>a(n)?1:-1}}(t)),s=i(l),c=0;c<s;)e[c]=l[c++];for(;c<h;)o(e,c++);return e}}),E}function Vn(){if(vn)return dn;vn=1;var t=L(),e=At();return dn=function(n,r){var i=e[n+"Prototype"],o=i&&i[r];if(o)return o;var a=t[n],s=a&&a.prototype;return s&&s[r]}}function Un(){return yn?mn:(yn=1,Xn(),mn=Vn()("Array","sort"))}function Zn(){if(bn)return gn;bn=1;var t=v(),e=Un(),n=Array.prototype;return gn=function(r){var i=r.sort;return r===n||t(n,r)&&i===n.sort?e:i}}function Hn(){return xn?wn:(xn=1,wn=Zn())}var qn,Jn,$n,Qn,Kn,tr,er,nr,rr,ir,or,ar,sr,ur=h(Sn?_n:(Sn=1,_n=Hn())),cr={};function lr(){if(Jn)return qn;Jn=1;var t=Mn(),e=Math.max,n=Math.min;return qn=function(r,i){var o=t(r);return o<0?e(o+i,0):n(o,i)}}function hr(){if(Qn)return $n;Qn=1;var t=Et(),e=lr(),n=Rn(),r=function(r){return function(i,o,a){var s=t(i),u=n(s);if(0===u)return!r&&-1;var c,l=e(a,u);if(r&&o!=o){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((r||l in s)&&s[l]===o)return r||l||0;return!r&&-1}};return $n={includes:r(!0),indexOf:r(!1)}}function fr(){return er?tr:(er=1,function(){if(Kn)return cr;Kn=1;var t=On(),e=P(),n=hr().indexOf,r=Bn(),i=e([].indexOf),o=!!i&&1/i([1],1,-0)<0;t({target:"Array",proto:!0,forced:o||!r("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return o?i(this,t,e)||0:n(this,t,e)}})}(),tr=Vn()("Array","indexOf"))}function pr(){if(rr)return nr;rr=1;var t=v(),e=fr(),n=Array.prototype;return nr=function(r){var i=r.indexOf;return r===n||t(n,r)&&i===n.indexOf?e:i}}function dr(){return or?ir:(or=1,ir=pr())}var vr,mr,yr,gr,br,wr,xr,_r,Sr,Tr,Cr,Er,Lr,Ar,Or,Pr,Mr,Dr,Rr,zr,Ir,kr,jr,Fr=h(sr?ar:(sr=1,ar=dr())),Nr={};function Br(){if(mr)return vr;mr=1;var t=O();return vr=Array.isArray||function(e){return"Array"===t(e)}}function Wr(){if(gr)return yr;gr=1;var t=d(),e=M(),n=me(),r=t(Function.toString);return e(n.inspectSource)||(n.inspectSource=function(t){return r(t)}),yr=n.inspectSource}function Yr(){if(wr)return br;wr=1;var t=d(),e=f(),n=M(),r=kn(),i=Ot(),o=Wr(),a=function(){},s=i("Reflect","construct"),u=/^\s*(?:class|function)\b/,c=t(u.exec),l=!u.test(a),h=function(t){if(!n(t))return!1;try{return s(a,[],t),!0}catch(t){return!1}},p=function(t){if(!n(t))return!1;switch(r(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return l||!!c(u,o(t))}catch(t){return!0}};return p.sham=!0,br=!s||e(function(){var t;return h(h.call)||!h(Object)||!h(function(){t=!0})||t})?p:h}function Gr(){if(_r)return xr;_r=1;var t=Br(),e=Yr(),n=Lt(),r=xe()("species"),i=Array;return xr=function(o){var a;return t(o)&&(a=o.constructor,(e(a)&&(a===i||t(a.prototype))||n(a)&&null===(a=a[r]))&&(a=void 0)),void 0===a?i:a}}function Xr(){if(Tr)return Sr;Tr=1;var t=Gr();return Sr=function(e,n){return new(t(e))(0===n?0:n)}}function Vr(){if(Er)return Cr;Er=1;var t=Ae(),e=d(),n=St(),r=ge(),i=Rn(),o=Xr(),a=e([].push),s=function(e){var s=1===e,u=2===e,c=3===e,l=4===e,h=6===e,f=7===e,p=5===e||h;return function(d,v,m,y){for(var g,b,w=r(d),x=n(w),_=i(x),S=t(v,m),T=0,C=y||o,E=s?C(d,_):u||f?C(d,0):void 0;_>T;T++)if((p||T in x)&&(b=S(g=x[T],T,w),e))if(s)E[T]=b;else if(b)switch(e){case 3:return!0;case 5:return g;case 6:return T;case 2:a(E,g)}else switch(e){case 4:return!1;case 7:a(E,g)}return h?-1:c||l?l:E}};return Cr={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)}}function Ur(){if(Ar)return Lr;Ar=1;var t=f(),e=xe(),n=Mt(),r=e("species");return Lr=function(e){return n>=51||!t(function(){var t=[];return(t.constructor={})[r]=function(){return{foo:1}},1!==t[e](Boolean).foo})},Lr}function Zr(){return Mr?Pr:(Mr=1,function(){if(Or)return Nr;Or=1;var t=On(),e=Vr().filter;t({target:"Array",proto:!0,forced:!Ur()("filter")},{filter:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})}(),Pr=Vn()("Array","filter"))}function Hr(){if(Rr)return Dr;Rr=1;var t=v(),e=Zr(),n=Array.prototype;return Dr=function(r){var i=r.filter;return r===n||t(n,r)&&i===n.filter?e:i}}function qr(){return Ir?zr:(Ir=1,zr=Hr())}var Jr,$r,Qr,Kr,ti,ei,ni,ri,ii,oi,ai,si,ui,ci=h(jr?kr:(jr=1,kr=qr())),li={};function hi(){return $r?Jr:($r=1,Jr="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff")}function fi(){if(Kr)return Qr;Kr=1;var t=d(),e=Ct(),n=jn(),r=hi(),i=t("".replace),o=RegExp("^["+r+"]+"),a=RegExp("(^|[^"+r+"])["+r+"]+$"),s=function(t){return function(r){var s=n(e(r));return 1&t&&(s=i(s,o,"")),2&t&&(s=i(s,a,"$1")),s}};return Qr={start:s(1),end:s(2),trim:s(3)}}function pi(){if(ei)return ti;ei=1;var t=L(),e=f(),n=d(),r=jn(),i=fi().trim,o=hi(),a=n("".charAt),s=t.parseFloat,u=t.Symbol,c=u&&u.iterator,l=1/s(o+"-0")!=-1/0||c&&!e(function(){s(Object(c))});return ti=l?function(t){var e=i(r(t)),n=s(e);return 0===n&&"-"===a(e,0)?-0:n}:s,ti}function di(){return ii?ri:(ii=1,function(){if(ni)return li;ni=1;var t=On(),e=pi();t({global:!0,forced:parseFloat!==e},{parseFloat:e})}(),ri=At().parseFloat)}function vi(){return ai?oi:(ai=1,oi=di())}var mi,yi,gi,bi,wi,xi,_i,Si,Ti,Ci,Ei,Li,Ai,Oi=h(ui?si:(ui=1,si=vi())),Pi={};function Mi(){if(yi)return mi;yi=1;var t=ge(),e=lr(),n=Rn();return mi=function(r){for(var i=t(this),o=n(i),a=arguments.length,s=e(a>1?arguments[1]:void 0,o),u=a>2?arguments[2]:void 0,c=void 0===u?o:e(u,o);c>s;)i[s++]=r;return i},mi}function Di(){return bi?gi:(bi=1,gi=function(){})}function Ri(){return _i?xi:(_i=1,function(){if(wi)return Pi;wi=1;var t=On(),e=Mi(),n=Di();t({target:"Array",proto:!0},{fill:e}),n("fill")}(),xi=Vn()("Array","fill"))}function zi(){if(Ti)return Si;Ti=1;var t=v(),e=Ri(),n=Array.prototype;return Si=function(r){var i=r.fill;return r===n||t(n,r)&&i===n.fill?e:i}}function Ii(){return Ei?Ci:(Ei=1,Ci=zi())}var ki,ji,Fi,Ni,Bi,Wi,Yi,Gi,Xi,Vi,Ui,Zi,Hi=h(Ai?Li:(Ai=1,Li=Ii())),qi={};function Ji(){return ji?ki:(ji=1,ki={})}function $i(){if(Ni)return Fi;Ni=1;var t=L(),e=M(),n=t.WeakMap;return Fi=e(n)&&/native code/.test(String(n))}function Qi(){if(Wi)return Bi;Wi=1;var t=ye(),e=we(),n=t("keys");return Bi=function(t){return n[t]||(n[t]=e(t))}}function Ki(){return Gi?Yi:(Gi=1,Yi={})}function to(){if(Vi)return Xi;Vi=1;var t,e,n,r=$i(),i=L(),o=Lt(),a=An(),s=be(),u=me(),c=Qi(),l=Ki(),h="Object already initialized",f=i.TypeError,p=i.WeakMap;if(r||u.state){var d=u.state||(u.state=new p);d.get=d.get,d.has=d.has,d.set=d.set,t=function(t,e){if(d.has(t))throw new f(h);return e.facade=t,d.set(t,e),e},e=function(t){return d.get(t)||{}},n=function(t){return d.has(t)}}else{var v=c("state");l[v]=!0,t=function(t,e){if(s(t,v))throw new f(h);return e.facade=t,a(t,v,e),e},e=function(t){return s(t,v)?t[v]:{}},n=function(t){return s(t,v)}}return Xi={set:t,get:e,has:n,enforce:function(r){return n(r)?e(r):t(r,{})},getterFor:function(t){return function(n){var r;if(!o(n)||(r=e(n)).type!==t)throw new f("Incompatible receiver, "+t+" required");return r}}}}function eo(){if(Zi)return Ui;Zi=1;var t=j(),e=be(),n=Function.prototype,r=t&&Object.getOwnPropertyDescriptor,i=e(n,"name"),o=i&&"something"===function(){}.name,a=i&&(!t||t&&r(n,"name").configurable);return Ui={EXISTS:i,PROPER:o,CONFIGURABLE:a}}var no,ro,io,oo,ao,so,uo,co,lo,ho,fo,po,vo,mo,yo,go,bo,wo,xo,_o,So,To,Co,Eo,Lo,Ao,Oo,Po,Mo,Do,Ro,zo,Io,ko,jo,Fo,No,Bo,Wo,Yo,Go,Xo,Vo,Uo,Zo,Ho,qo,Jo,$o,Qo,Ko={};function ta(){if(ro)return no;ro=1;var t=d(),e=be(),n=Et(),r=hr().indexOf,i=Ki(),o=t([].push);return no=function(t,a){var s,u=n(t),c=0,l=[];for(s in u)!e(i,s)&&e(u,s)&&o(l,s);for(;a.length>c;)e(u,s=a[c++])&&(~r(l,s)||o(l,s));return l},no}function ea(){return oo?io:(oo=1,io=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}function na(){if(so)return ao;so=1;var t=ta(),e=ea();return ao=Object.keys||function(n){return t(n,e)}}function ra(){if(uo)return Ko;uo=1;var t=j(),e=Cn(),n=Ln(),r=En(),i=Et(),o=na();return Ko.f=t&&!e?Object.defineProperties:function(t,e){r(t);for(var a,s=i(e),u=o(e),c=u.length,l=0;c>l;)n.f(t,a=u[l++],s[a]);return t},Ko}function ia(){return lo?co:(lo=1,co=Ot()("document","documentElement"))}function oa(){if(fo)return ho;fo=1;var t,e=En(),n=ra(),r=ea(),i=Ki(),o=ia(),a=Te(),s="prototype",u="script",c=Qi()("IE_PROTO"),l=function(){},h=function(t){return"<"+u+">"+t+"</"+u+">"},f=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},p=function(){try{t=new ActiveXObject("htmlfile")}catch(t){}var e,n,i;p="undefined"!=typeof document?document.domain&&t?f(t):(n=a("iframe"),i="java"+u+":",n.style.display="none",o.appendChild(n),n.src=String(i),(e=n.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):f(t);for(var c=r.length;c--;)delete p[s][r[c]];return p()};return i[c]=!0,ho=Object.create||function(t,r){var i;return null!==t?(l[s]=e(t),i=new l,l[s]=null,i[c]=t):i=p(),void 0===r?i:n.f(i,r)}}function aa(){return vo?po:(vo=1,po=!f()(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))}function sa(){if(yo)return mo;yo=1;var t=be(),e=M(),n=ge(),r=Qi(),i=aa(),o=r("IE_PROTO"),a=Object,s=a.prototype;return mo=i?a.getPrototypeOf:function(r){var i=n(r);if(t(i,o))return i[o];var u=i.constructor;return e(u)&&i instanceof u?u.prototype:i instanceof a?s:null},mo}function ua(){if(bo)return go;bo=1;var t=An();return go=function(e,n,r,i){return i&&i.enumerable?e[n]=r:t(e,n,r),e}}function ca(){if(xo)return wo;xo=1;var t,e,n,r=f(),i=M(),o=Lt(),a=oa(),s=sa(),u=ua(),c=xe(),l=de(),h=c("iterator"),p=!1;return[].keys&&("next"in(n=[].keys())?(e=s(s(n)))!==Object.prototype&&(t=e):p=!0),!o(t)||r(function(){var e={};return t[h].call(e)!==e})?t={}:l&&(t=a(t)),i(t[h])||u(t,h,function(){return this}),wo={IteratorPrototype:t,BUGGY_SAFARI_ITERATORS:p}}function la(){if(So)return _o;So=1;var t=In(),e=kn();return _o=t?{}.toString:function(){return"[object "+e(this)+"]"}}function ha(){if(Co)return To;Co=1;var t=In(),e=Ln().f,n=An(),r=be(),i=la(),o=xe()("toStringTag");return To=function(a,s,u,c){var l=u?a:a&&a.prototype;l&&(r(l,o)||e(l,o,{configurable:!0,value:s}),c&&!t&&n(l,"toString",i))}}function fa(){if(Lo)return Eo;Lo=1;var t=ca().IteratorPrototype,e=oa(),n=_t(),r=ha(),i=Ji(),o=function(){return this};return Eo=function(a,s,u,c){var l=s+" Iterator";return a.prototype=e(t,{next:n(+!c,u)}),r(a,l,!1,!0),i[l]=o,a}}function pa(){if(Oo)return Ao;Oo=1;var t=d(),e=kt();return Ao=function(n,r,i){try{return t(e(Object.getOwnPropertyDescriptor(n,r)[i]))}catch(t){}},Ao}function da(){if(Mo)return Po;Mo=1;var t=Lt();return Po=function(e){return t(e)||null===e}}function va(){if(Ro)return Do;Ro=1;var t=da(),e=String,n=TypeError;return Do=function(r){if(t(r))return r;throw new n("Can't set "+e(r)+" as a prototype")}}function ma(){if(Io)return zo;Io=1;var t=pa(),e=Lt(),n=Ct(),r=va();return zo=Object.setPrototypeOf||("__proto__"in{}?function(){var i,o=!1,a={};try{(i=t(Object.prototype,"__proto__","set"))(a,[]),o=a instanceof Array}catch(t){}return function(t,a){return n(t),r(a),e(t)?(o?i(t,a):t.__proto__=a,t):t}}():void 0)}function ya(){if(jo)return ko;jo=1;var t=On(),e=F(),n=de(),r=eo(),i=M(),o=fa(),a=sa(),s=ma(),u=ha(),c=An(),l=ua(),h=xe(),f=Ji(),p=ca(),d=r.PROPER,v=r.CONFIGURABLE,m=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,g=h("iterator"),b="keys",w="values",x="entries",_=function(){return this};return ko=function(r,h,p,S,T,C,E){o(p,h,S);var L,A,O,P=function(t){if(t===T&&I)return I;if(!y&&t&&t in R)return R[t];switch(t){case b:case w:case x:return function(){return new p(this,t)}}return function(){return new p(this)}},M=h+" Iterator",D=!1,R=r.prototype,z=R[g]||R["@@iterator"]||T&&R[T],I=!y&&z||P(T),k="Array"===h&&R.entries||z;if(k&&(L=a(k.call(new r)))!==Object.prototype&&L.next&&(n||a(L)===m||(s?s(L,m):i(L[g])||l(L,g,_)),u(L,M,!0,!0),n&&(f[M]=_)),d&&T===w&&z&&z.name!==w&&(!n&&v?c(R,"name",w):(D=!0,I=function(){return e(z,this)})),T)if(A={values:P(w),keys:C?I:P(b),entries:P(x)},E)for(O in A)(y||D||!(O in R))&&l(R,O,A[O]);else t({target:h,proto:!0,forced:y||D},A);return n&&!E||R[g]===I||l(R,g,I,{name:T}),f[h]=I,A}}function ga(){return No?Fo:(No=1,Fo=function(t,e){return{value:t,done:e}})}function ba(){if(Wo)return Bo;Wo=1;var t=Et(),e=Di(),n=Ji(),r=to(),i=Ln().f,o=ya(),a=ga(),s=de(),u=j(),c="Array Iterator",l=r.set,h=r.getterFor(c);Bo=o(Array,"Array",function(e,n){l(this,{type:c,target:t(e),index:0,kind:n})},function(){var t=h(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=null,a(void 0,!0);switch(t.kind){case"keys":return a(n,!1);case"values":return a(e[n],!1)}return a([n,e[n]],!1)},"values");var f=n.Arguments=n.Array;if(e("keys"),e("values"),e("entries"),!s&&u&&"values"!==f.name)try{i(f,"name",{value:"values"})}catch(t){}return Bo}function wa(){return Go?Yo:(Go=1,Yo={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0})}function xa(){if(Xo)return qi;Xo=1,ba();var t=wa(),e=L(),n=ha(),r=Ji();for(var i in t)n(e[i],i),r[i]=r.Array;return qi}function _a(){return Uo?Vo:(Uo=1,ba(),Vo=Vn()("Array","values"))}function Sa(){return Ho?Zo:(Ho=1,Zo=_a())}function Ta(){if(Jo)return qo;Jo=1,xa();var t=kn(),e=be(),n=v(),r=Sa(),i=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return qo=function(a){var s=a.values;return a===i||n(i,a)&&s===i.values||e(o,t(a))?r:s}}var Ca,Ea,La,Aa,Oa,Pa,Ma,Da,Ra,za,Ia,ka=h(Qo?$o:(Qo=1,$o=Ta())),ja={};function Fa(){if(Ea)return Ca;Ea=1;var t=Vr().forEach,e=Bn()("forEach");return Ca=e?[].forEach:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)},Ca}function Na(){return Oa?Aa:(Oa=1,function(){if(La)return ja;La=1;var t=On(),e=Fa();t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e})}(),Aa=Vn()("Array","forEach"))}function Ba(){return Ma?Pa:(Ma=1,Pa=Na())}function Wa(){if(Ra)return Da;Ra=1;var t=kn(),e=be(),n=v(),r=Ba(),i=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return Da=function(a){var s=a.forEach;return a===i||n(i,a)&&s===i.forEach||e(o,t(a))?r:s}}var Ya,Ga,Xa,Va,Ua,Za,Ha,qa=h(Ia?za:(Ia=1,za=Wa()));function Ja(){return Xa?Ga:(Xa=1,Ya||(Ya=1,On()({target:"Array",stat:!0},{isArray:Br()})),Ga=At().Array.isArray)}function $a(){return Ua?Va:(Ua=1,Va=Ja())}var Qa,Ka,ts,es,ns,rs,is,os=h(Ha?Za:(Ha=1,Za=$a()));function as(){return ts?Ka:(ts=1,Qa||(Qa=1,On()({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})),Ka=At().Number.isNaN)}function ss(){return ns?es:(ns=1,es=as())}var us,cs,ls,hs,fs,ps,ds,vs,ms,ys,gs,bs,ws,xs=h(is?rs:(is=1,rs=ss())),_s={};function Ss(){if(cs)return us;cs=1;var t=TypeError;return us=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}}function Ts(){if(hs)return ls;hs=1;var t=j(),e=Ln(),n=_t();return ls=function(r,i,o){t?e.f(r,i,n(0,o)):r[i]=o},ls}function Cs(){if(fs)return _s;fs=1;var t=On(),e=f(),n=Br(),r=Lt(),i=ge(),o=Rn(),a=Ss(),s=Ts(),u=Xr(),c=Ur(),l=xe(),h=Mt(),p=l("isConcatSpreadable"),d=h>=51||!e(function(){var t=[];return t[p]=!1,t.concat()[0]!==t}),v=function(t){if(!r(t))return!1;var e=t[p];return void 0!==e?!!e:n(t)};return t({target:"Array",proto:!0,arity:1,forced:!d||!c("concat")},{concat:function(t){var e,n,r,c,l,h=i(this),f=u(h,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(v(l=-1===e?h:arguments[e]))for(c=o(l),a(p+c),n=0;n<c;n++,p++)n in l&&s(f,p,l[n]);else a(p+1),s(f,p++,l);return f.length=p,f}}),_s}function Es(){return ds?ps:(ds=1,Cs(),ps=Vn()("Array","concat"))}function Ls(){if(ms)return vs;ms=1;var t=v(),e=Es(),n=Array.prototype;return vs=function(r){var i=r.concat;return r===n||t(n,r)&&i===n.concat?e:i}}function As(){return gs?ys:(gs=1,ys=Ls())}var Os,Ps,Ms,Ds,Rs,zs,Is,ks=h(ws?bs:(ws=1,bs=As())),js={},Fs={};function Ns(){if(Ps)return Os;Ps=1;var t=L(),e=Pt(),n=O(),r=function(t){return e.slice(0,t.length)===t};return Os=r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":t.Bun&&"string"==typeof Bun.version?"BUN":t.Deno&&"object"==typeof Deno.version?"DENO":"process"===n(t.process)?"NODE":t.window&&t.document?"BROWSER":"REST"}function Bs(){if(Ds)return Ms;Ds=1;var t=TypeError;return Ms=function(e,n){if(e<n)throw new t("Not enough arguments");return e}}function Ws(){if(zs)return Rs;zs=1;var t,e=L(),n=A(),r=M(),i=Ns(),o=Pt(),a=Fn(),s=Bs(),u=e.Function,c=/MSIE .\./.test(o)||"BUN"===i&&((t=e.Bun.version.split(".")).length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2]));return Rs=function(t,e){var i=e?2:1;return c?function(o,c){var l=s(arguments.length,1)>i,h=r(o)?o:u(o),f=l?a(arguments,i):[],p=l?function(){n(h,this,f)}:h;return e?t(p,c):t(p)}:t},Rs}var Ys,Gs,Xs,Vs,Us,Zs,Hs={};function qs(){return Gs||(Gs=1,function(){if(Is)return Fs;Is=1;var t=On(),e=L(),n=Ws()(e.setInterval,!0);t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n})}(),function(){if(Ys)return Hs;Ys=1;var t=On(),e=L(),n=Ws()(e.setTimeout,!0);t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n})}()),js}function Js(){return Vs?Xs:(Vs=1,qs(),Xs=At().setTimeout)}var $s,Qs,Ks,tu,eu,nu,ru,iu,ou,au,su=h(Zs?Us:(Zs=1,Us=Js())),uu={},cu={};function lu(){return $s||($s=1,cu.f=Object.getOwnPropertySymbols),cu}function hu(){if(Ks)return Qs;Ks=1;var t=j(),e=d(),n=F(),r=f(),i=na(),o=lu(),a=xt(),s=ge(),u=St(),c=Object.assign,l=Object.defineProperty,h=e([].concat);return Qs=!c||r(function(){if(t&&1!==c({b:1},c(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},n={},r=Symbol("assign detection"),o="abcdefghijklmnopqrst";return e[r]=7,o.split("").forEach(function(t){n[t]=t}),7!==c({},e)[r]||i(c({},n)).join("")!==o})?function(e,r){for(var c=s(e),l=arguments.length,f=1,p=o.f,d=a.f;l>f;)for(var v,m=u(arguments[f++]),y=p?h(i(m),p(m)):i(m),g=y.length,b=0;g>b;)v=y[b++],t&&!n(d,m,v)||(c[v]=m[v]);return c}:c,Qs}function fu(){return nu?eu:(nu=1,function(){if(tu)return uu;tu=1;var t=On(),e=hu();t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e})}(),eu=At().Object.assign)}function pu(){return iu?ru:(iu=1,ru=fu())}var du,vu=h(au?ou:(au=1,ou=pu())),mu={exports:{}};function yu(){return du||(du=1,function(t){function e(t){if(t)return function(t){return Object.assign(t,e.prototype),t._callbacks=new Map,t}(t);this._callbacks=new Map}e.prototype.on=function(t,e){const n=this._callbacks.get(t)??[];return n.push(e),this._callbacks.set(t,n),this},e.prototype.once=function(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return n.fn=e,this.on(t,n),this},e.prototype.off=function(t,e){if(void 0===t&&void 0===e)return this._callbacks.clear(),this;if(void 0===e)return this._callbacks.delete(t),this;const n=this._callbacks.get(t);if(n){for(const[t,r]of n.entries())if(r===e||r.fn===e){n.splice(t,1);break}0===n.length?this._callbacks.delete(t):this._callbacks.set(t,n)}return this},e.prototype.emit=function(t,...e){const n=this._callbacks.get(t);if(n){const t=[...n];for(const n of t)n.apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks.get(t)??[]},e.prototype.listenerCount=function(t){if(t)return this.listeners(t).length;let e=0;for(const t of this._callbacks.values())e+=t.length;return e},e.prototype.hasListeners=function(t){return this.listenerCount(t)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(mu)),mu.exports}var gu,bu=h(yu()),wu={},xu={},_u={};function Su(){if(gu)return _u;gu=1;var t=ta(),e=ea().concat("length","prototype");return _u.f=Object.getOwnPropertyNames||function(n){return t(n,e)},_u}var Tu,Cu,Eu,Lu={};function Au(){if(Tu)return Lu;Tu=1;var t=O(),e=Et(),n=Su().f,r=Fn(),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];return Lu.f=function(o){return i&&"Window"===t(o)?function(t){try{return n(t)}catch(t){return r(i)}}(o):n(e(o))},Lu}function Ou(){if(Eu)return Cu;Eu=1;var t=Ln();return Cu=function(e,n,r){return t.f(e,n,r)}}var Pu,Mu,Du,Ru,zu,Iu,ku={};function ju(){if(Pu)return ku;Pu=1;var t=xe();return ku.f=t,ku}function Fu(){if(Du)return Mu;Du=1;var t=At(),e=be(),n=ju(),r=Ln().f;return Mu=function(i){var o=t.Symbol||(t.Symbol={});e(o,i)||r(o,i,{value:n.f(i)})}}function Nu(){if(zu)return Ru;zu=1;var t=F(),e=Ot(),n=xe(),r=ua();return Ru=function(){var i=e("Symbol"),o=i&&i.prototype,a=o&&o.valueOf,s=n("toPrimitive");o&&!o[s]&&r(o,s,function(e){return t(a,this)},{arity:1})}}var Bu,Wu,Yu,Gu={};function Xu(){return Wu?Bu:(Wu=1,Bu=Dt()&&!!Symbol.for&&!!Symbol.keyFor)}var Vu,Uu={};var Zu,Hu,qu,Ju={};function $u(){if(Hu)return Zu;Hu=1;var t=d(),e=Br(),n=M(),r=O(),i=jn(),o=t([].push);return Zu=function(t){if(n(t))return t;if(e(t)){for(var a=t.length,s=[],u=0;u<a;u++){var c=t[u];"string"==typeof c?o(s,c):"number"!=typeof c&&"Number"!==r(c)&&"String"!==r(c)||o(s,i(c))}var l=s.length,h=!0;return function(t,n){if(h)return h=!1,n;if(e(this))return n;for(var r=0;r<l;r++)if(s[r]===t)return n}}},Zu}function Qu(){if(qu)return Ju;qu=1;var t=On(),e=Ot(),n=A(),r=F(),i=d(),o=f(),a=M(),s=zt(),u=Fn(),c=$u(),l=Dt(),h=String,p=e("JSON","stringify"),v=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),g=i("".replace),b=i(1.1.toString),w=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,_=/^[\uDC00-\uDFFF]$/,S=!l||o(function(){var t=e("Symbol")("stringify detection");return"[null]"!==p([t])||"{}"!==p({a:t})||"{}"!==p(Object(t))}),T=o(function(){return'"\\udf06\\ud834"'!==p("\udf06\ud834")||'"\\udead"'!==p("\udead")}),C=function(t,e){var i=u(arguments),o=c(e);if(a(o)||void 0!==t&&!s(t))return i[1]=function(t,e){if(a(o)&&(e=r(o,this,h(t),e)),!s(e))return e},n(p,null,i)},E=function(t,e,n){var r=m(n,e-1),i=m(n,e+1);return v(x,t)&&!v(_,i)||v(_,t)&&!v(x,r)?"\\u"+b(y(t,0),16):t};return p&&t({target:"JSON",stat:!0,arity:3,forced:S||T},{stringify:function(t,e,r){var i=u(arguments),o=n(S?C:p,null,i);return T&&"string"==typeof o?g(o,w,E):o}}),Ju}var Ku,tc,ec={};function nc(){return tc||(tc=1,function(){if(Iu)return xu;Iu=1;var t=On(),e=L(),n=F(),r=d(),i=de(),o=j(),a=Dt(),s=f(),u=be(),c=v(),l=En(),h=Et(),p=Se(),m=jn(),y=_t(),g=oa(),b=na(),w=Su(),x=Au(),_=lu(),S=Ee(),T=Ln(),C=ra(),E=xt(),A=ua(),O=Ou(),P=ye(),M=Qi(),D=Ki(),R=we(),z=xe(),I=ju(),k=Fu(),N=Nu(),B=ha(),W=to(),Y=Vr().forEach,G=M("hidden"),X="Symbol",V="prototype",U=W.set,Z=W.getterFor(X),H=Object[V],q=e.Symbol,J=q&&q[V],$=e.RangeError,Q=e.TypeError,K=e.QObject,tt=S.f,et=T.f,nt=x.f,rt=E.f,it=r([].push),ot=P("symbols"),at=P("op-symbols"),st=P("wks"),ut=!K||!K[V]||!K[V].findChild,ct=function(t,e,n){var r=tt(H,e);r&&delete H[e],et(t,e,n),r&&t!==H&&et(H,e,r)},lt=o&&s(function(){return 7!==g(et({},"a",{get:function(){return et(this,"a",{value:7}).a}})).a})?ct:et,ht=function(t,e){var n=ot[t]=g(J);return U(n,{type:X,tag:t,description:e}),o||(n.description=e),n},ft=function(t,e,n){t===H&&ft(at,e,n),l(t);var r=p(e);return l(n),u(ot,r)?(n.enumerable?(u(t,G)&&t[G][r]&&(t[G][r]=!1),n=g(n,{enumerable:y(0,!1)})):(u(t,G)||et(t,G,y(1,g(null))),t[G][r]=!0),lt(t,r,n)):et(t,r,n)},pt=function(t,e){l(t);var r=h(e),i=b(r).concat(yt(r));return Y(i,function(e){o&&!n(dt,r,e)||ft(t,e,r[e])}),t},dt=function(t){var e=p(t),r=n(rt,this,e);return!(this===H&&u(ot,e)&&!u(at,e))&&(!(r||!u(this,e)||!u(ot,e)||u(this,G)&&this[G][e])||r)},vt=function(t,e){var n=h(t),r=p(e);if(n!==H||!u(ot,r)||u(at,r)){var i=tt(n,r);return!i||!u(ot,r)||u(n,G)&&n[G][r]||(i.enumerable=!0),i}},mt=function(t){var e=nt(h(t)),n=[];return Y(e,function(t){u(ot,t)||u(D,t)||it(n,t)}),n},yt=function(t){var e=t===H,n=nt(e?at:h(t)),r=[];return Y(n,function(t){!u(ot,t)||e&&!u(H,t)||it(r,ot[t])}),r};a||(q=function(){if(c(J,this))throw new Q("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,r=R(t),i=function(t){var o=void 0===this?e:this;o===H&&n(i,at,t),u(o,G)&&u(o[G],r)&&(o[G][r]=!1);var a=y(1,t);try{lt(o,r,a)}catch(t){if(!(t instanceof $))throw t;ct(o,r,a)}};return o&&ut&&lt(H,r,{configurable:!0,set:i}),ht(r,t)},A(J=q[V],"toString",function(){return Z(this).tag}),A(q,"withoutSetter",function(t){return ht(R(t),t)}),E.f=dt,T.f=ft,C.f=pt,S.f=vt,w.f=x.f=mt,_.f=yt,I.f=function(t){return ht(z(t),t)},o&&(O(J,"description",{configurable:!0,get:function(){return Z(this).description}}),i||A(H,"propertyIsEnumerable",dt,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:q}),Y(b(st),function(t){k(t)}),t({target:X,stat:!0,forced:!a},{useSetter:function(){ut=!0},useSimple:function(){ut=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!o},{create:function(t,e){return void 0===e?g(t):pt(g(t),e)},defineProperty:ft,defineProperties:pt,getOwnPropertyDescriptor:vt}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:mt}),N(),B(q,X),D[G]=!0}(),function(){if(Yu)return Gu;Yu=1;var t=On(),e=Ot(),n=be(),r=jn(),i=ye(),o=Xu(),a=i("string-to-symbol-registry"),s=i("symbol-to-string-registry");t({target:"Symbol",stat:!0,forced:!o},{for:function(t){var i=r(t);if(n(a,i))return a[i];var o=e("Symbol")(i);return a[i]=o,s[o]=i,o}})}(),function(){if(Vu)return Uu;Vu=1;var t=On(),e=be(),n=zt(),r=It(),i=ye(),o=Xu(),a=i("symbol-to-string-registry");t({target:"Symbol",stat:!0,forced:!o},{keyFor:function(t){if(!n(t))throw new TypeError(r(t)+" is not a symbol");if(e(a,t))return a[t]}})}(),Qu(),function(){if(Ku)return ec;Ku=1;var t=On(),e=Dt(),n=f(),r=lu(),i=ge();t({target:"Object",stat:!0,forced:!e||n(function(){r.f(1)})},{getOwnPropertySymbols:function(t){var e=r.f;return e?e(i(t)):[]}})}()),wu}var rc;var ic;var oc;var ac;var sc;var uc;var cc;var lc;var hc;var fc;var pc;var dc;var vc,mc={};var yc,gc={};var bc;var wc,xc,_c,Sc,Tc,Cc,Ec,Lc={};function Ac(){return _c?xc:(_c=1,Cs(),nc(),rc||(rc=1,Fu()("asyncDispose")),ic||(ic=1,Fu()("asyncIterator")),oc||(oc=1,Fu()("dispose")),ac||(ac=1,Fu()("hasInstance")),sc||(sc=1,Fu()("isConcatSpreadable")),uc||(uc=1,Fu()("iterator")),cc||(cc=1,Fu()("match")),lc||(lc=1,Fu()("matchAll")),hc||(hc=1,Fu()("replace")),fc||(fc=1,Fu()("search")),pc||(pc=1,Fu()("species")),dc||(dc=1,Fu()("split")),function(){if(vc)return mc;vc=1;var t=Fu(),e=Nu();t("toPrimitive"),e()}(),function(){if(yc)return gc;yc=1;var t=Ot(),e=Fu(),n=ha();e("toStringTag"),n(t("Symbol"),"Symbol")}(),bc||(bc=1,Fu()("unscopables")),function(){if(wc)return Lc;wc=1;var t=L();ha()(t.JSON,"JSON",!0)}(),xc=At().Symbol)}function Oc(){if(Tc)return Sc;Tc=1;var t=Ac();return xa(),Sc=t}var Pc,Mc,Dc,Rc,zc,Ic,kc,jc,Fc,Nc=h(Ec?Cc:(Ec=1,Cc=Oc())),Bc={};function Wc(){return Dc?Mc:(Dc=1,function(){if(Pc)return Bc;Pc=1;var t=On(),e=Br(),n=Yr(),r=Lt(),i=lr(),o=Rn(),a=Et(),s=Ts(),u=xe(),c=Ur(),l=Fn(),h=c("slice"),f=u("species"),p=Array,d=Math.max;t({target:"Array",proto:!0,forced:!h},{slice:function(t,u){var c,h,v,m=a(this),y=o(m),g=i(t,y),b=i(void 0===u?y:u,y);if(e(m)&&(c=m.constructor,(n(c)&&(c===p||e(c.prototype))||r(c)&&null===(c=c[f]))&&(c=void 0),c===p||void 0===c))return l(m,g,b);for(h=new(void 0===c?p:c)(d(b-g,0)),v=0;g<b;g++,v++)g in m&&s(h,v,m[g]);return h.length=v,h}})}(),Mc=Vn()("Array","slice"))}function Yc(){if(zc)return Rc;zc=1;var t=v(),e=Wc(),n=Array.prototype;return Rc=function(r){var i=r.slice;return r===n||t(n,r)&&i===n.slice?e:i}}function Gc(){return kc?Ic:(kc=1,Ic=Yc())}var Xc,Vc,Uc,Zc,Hc,qc,Jc,$c,Qc,Kc=h(Fc?jc:(Fc=1,jc=Gc())),tl={};function el(){return Uc?Vc:(Uc=1,function(){if(Xc)return tl;Xc=1;var t=On(),e=Vr().map;t({target:"Array",proto:!0,forced:!Ur()("map")},{map:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})}(),Vc=Vn()("Array","map"))}function nl(){if(Hc)return Zc;Hc=1;var t=v(),e=el(),n=Array.prototype;return Zc=function(r){var i=r.map;return r===n||t(n,r)&&i===n.map?e:i}}function rl(){return Jc?qc:(Jc=1,qc=nl())}var il,ol,al,sl,ul,cl,ll,hl=h(Qc?$c:(Qc=1,$c=rl())),fl={};function pl(){return al?ol:(al=1,function(){if(il)return fl;il=1;var t=On(),e=ge(),n=na();t({target:"Object",stat:!0,forced:f()(function(){n(1)})},{keys:function(t){return n(e(t))}})}(),ol=At().Object.keys)}function dl(){return ul?sl:(ul=1,sl=pl())}var vl,ml,yl,gl,bl,wl,xl,_l,Sl,Tl,Cl,El=h(ll?cl:(ll=1,cl=dl())),Ll={};function Al(){if(ml)return vl;ml=1;var t=d(),e=kt(),n=Lt(),r=be(),i=Fn(),o=p(),a=Function,s=t([].concat),u=t([].join),c={};return vl=o?a.bind:function(t){var o=e(this),l=o.prototype,h=i(arguments,1),f=function(){var e=s(h,i(arguments));return this instanceof f?function(t,e,n){if(!r(c,e)){for(var i=[],o=0;o<e;o++)i[o]="a["+o+"]";c[e]=a("C,a","return new C("+u(i,",")+")")}return c[e](t,n)}(o,e.length,e):o.apply(t,e)};return n(l)&&(f.prototype=l),f},vl}function Ol(){return bl?gl:(bl=1,function(){if(yl)return Ll;yl=1;var t=On(),e=Al();t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e})}(),gl=Vn()("Function","bind"))}function Pl(){if(xl)return wl;xl=1;var t=v(),e=Ol(),n=Function.prototype;return wl=function(r){var i=r.bind;return r===n||t(n,r)&&i===n.bind?e:i}}function Ml(){return Sl?_l:(Sl=1,_l=Pl())}var Dl,Rl,zl,Il,kl,jl,Fl,Nl,Bl,Wl=h(Cl?Tl:(Cl=1,Tl=Ml())),Yl={};function Gl(){return zl?Rl:(zl=1,function(){if(Dl)return Yl;Dl=1;var t=On(),e=d(),n=Br(),r=e([].reverse),i=[1,2];t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return n(this)&&(this.length=this.length),r(this)}})}(),Rl=Vn()("Array","reverse"))}function Xl(){if(kl)return Il;kl=1;var t=v(),e=Gl(),n=Array.prototype;return Il=function(r){var i=r.reverse;return r===n||t(n,r)&&i===n.reverse?e:i}}function Vl(){return Fl?jl:(Fl=1,jl=Xl())}var Ul,Zl,Hl,ql,Jl,$l,Ql,Kl,th,eh,nh,rh=h(Bl?Nl:(Bl=1,Nl=Vl())),ih={};function oh(){if(Zl)return Ul;Zl=1;var t=j(),e=Br(),n=TypeError,r=Object.getOwnPropertyDescriptor,i=t&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();return Ul=i?function(t,i){if(e(t)&&!r(t,"length").writable)throw new n("Cannot set read only .length");return t.length=i}:function(t,e){return t.length=e}}function ah(){return Jl?ql:(Jl=1,function(){if(Hl)return ih;Hl=1;var t=On(),e=ge(),n=lr(),r=Mn(),i=Rn(),o=oh(),a=Ss(),s=Xr(),u=Ts(),c=zn(),l=Ur()("splice"),h=Math.max,f=Math.min;t({target:"Array",proto:!0,forced:!l},{splice:function(t,l){var p,d,v,m,y,g,b=e(this),w=i(b),x=n(t,w),_=arguments.length;for(0===_?p=d=0:1===_?(p=0,d=w-x):(p=_-2,d=f(h(r(l),0),w-x)),a(w+p-d),v=s(b,d),m=0;m<d;m++)(y=x+m)in b&&u(v,m,b[y]);if(v.length=d,p<d){for(m=x;m<w-d;m++)g=m+p,(y=m+d)in b?b[g]=b[y]:c(b,g);for(m=w;m>w-d+p;m--)c(b,m-1)}else if(p>d)for(m=w-d;m>x;m--)g=m+p-1,(y=m+d-1)in b?b[g]=b[y]:c(b,g);for(m=0;m<p;m++)b[m+x]=arguments[m+2];return o(b,w-d+p),v}})}(),ql=Vn()("Array","splice"))}function sh(){if(Ql)return $l;Ql=1;var t=v(),e=ah(),n=Array.prototype;return $l=function(r){var i=r.splice;return r===n||t(n,r)&&i===n.splice?e:i}}function uh(){return th?Kl:(th=1,Kl=sh())}var ch,lh,hh,fh,ph,dh,vh,mh=h(nh?eh:(nh=1,eh=uh())),yh={};function gh(){return hh?lh:(hh=1,function(){if(ch)return yh;ch=1;var t=On(),e=f(),n=ge(),r=sa(),i=aa();t({target:"Object",stat:!0,forced:e(function(){r(1)}),sham:!i},{getPrototypeOf:function(t){return r(n(t))}})}(),lh=At().Object.getPrototypeOf)}function bh(){return ph?fh:(ph=1,fh=gh())}var wh,xh,_h,Sh,Th,Ch,Eh,Lh,Ah,Oh=h(vh?dh:(vh=1,dh=bh())),Ph={};function Mh(){if(xh)return wh;xh=1;var t=L(),e=f(),n=d(),r=jn(),i=fi().trim,o=hi(),a=t.parseInt,s=t.Symbol,u=s&&s.iterator,c=/^[+-]?0x/i,l=n(c.exec),h=8!==a(o+"08")||22!==a(o+"0x16")||u&&!e(function(){a(Object(u))});return wh=h?function(t,e){var n=i(r(t));return a(n,e>>>0||(l(c,n)?16:10))}:a,wh}function Dh(){return Th?Sh:(Th=1,function(){if(_h)return Ph;_h=1;var t=On(),e=Mh();t({global:!0,forced:parseInt!==e},{parseInt:e})}(),Sh=At().parseInt)}function Rh(){return Eh?Ch:(Eh=1,Ch=Dh())}var zh,Ih,kh,jh,Fh,Nh,Bh,Wh,Yh,Gh,Xh,Vh,Uh,Zh=h(Ah?Lh:(Ah=1,Lh=Rh())),Hh={};function qh(){if(Ih)return zh;Ih=1;var t=Mn(),e=jn(),n=Ct(),r=RangeError;return zh=function(i){var o=e(n(this)),a="",s=t(i);if(s<0||s===1/0)throw new r("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(o+=o))1&s&&(a+=o);return a}}function Jh(){if(jh)return kh;jh=1;var t=d(),e=Dn(),n=jn(),r=qh(),i=Ct(),o=t(r),a=t("".slice),s=Math.ceil,u=function(t){return function(r,u,c){var l,h,f=n(i(r)),p=e(u),d=f.length,v=void 0===c?" ":n(c);return p<=d||""===v?f:((h=o(v,s((l=p-d)/v.length))).length>l&&(h=a(h,0,l)),t?f+h:h+f)}};return kh={start:u(!1),end:u(!0)}}function $h(){if(Nh)return Fh;Nh=1;var t=d(),e=f(),n=Jh().start,r=RangeError,i=isFinite,o=Math.abs,a=Date.prototype,s=a.toISOString,u=t(a.getTime),c=t(a.getUTCDate),l=t(a.getUTCFullYear),h=t(a.getUTCHours),p=t(a.getUTCMilliseconds),v=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return Fh=e(function(){return"0385-07-25T07:06:39.999Z"!==s.call(new Date(-50000000000001))})||!e(function(){s.call(new Date(NaN))})?function(){if(!i(u(this)))throw new r("Invalid time value");var t=this,e=l(t),a=p(t),s=e<0?"-":e>9999?"+":"";return s+n(o(e),s?6:4,0)+"-"+n(m(t)+1,2,0)+"-"+n(c(t),2,0)+"T"+n(h(t),2,0)+":"+n(v(t),2,0)+":"+n(y(t),2,0)+"."+n(a,3,0)+"Z"}:s,Fh}function Qh(){if(Yh)return Wh;Yh=1,function(){if(Bh)return Hh;Bh=1;var t=On(),e=F(),n=ge(),r=_e(),i=$h(),o=O();t({target:"Date",proto:!0,forced:f()(function(){return null!==new Date(NaN).toJSON()||1!==e(Date.prototype.toJSON,{toISOString:function(){return 1}})})},{toJSON:function(t){var a=n(this),s=r(a,"number");return"number"!=typeof s||isFinite(s)?"toISOString"in a||"Date"!==o(a)?a.toISOString():e(i,a):null}})}(),Qu();var t=At(),e=A();return t.JSON||(t.JSON={stringify:JSON.stringify}),Wh=function(n,r,i){return e(t.JSON.stringify,null,arguments)},Wh}function Kh(){return Xh?Gh:(Xh=1,Gh=Qh())}var tf,ef=h(Uh?Vh:(Uh=1,Vh=Kh()));
/*! Hammer.JS - v2.0.17-rc - 2019-12-16
	 * http://naver.github.io/egjs
	 *
	 * Forked By Naver egjs
	 * Copyright (c) hammerjs
	 * Licensed under the MIT license */
function nf(){return nf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nf.apply(this,arguments)}function rf(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function of(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}tf="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var af,sf=tf,uf=["","webkit","Moz","MS","ms","o"],cf="undefined"==typeof document?{style:{}}:document.createElement("div"),lf=Math.round,hf=Math.abs,ff=Date.now;function pf(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<uf.length;){if((r=(n=uf[o])?n+i:e)in t)return r;o++}}af="undefined"==typeof window?{}:window;var df=pf(cf.style,"touchAction"),vf=void 0!==df;var mf="compute",yf="auto",gf="manipulation",bf="none",wf="pan-x",xf="pan-y",_f=function(){if(!vf)return!1;var t={},e=af.CSS&&af.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){return t[n]=!e||af.CSS.supports("touch-action",n)}),t}(),Sf="ontouchstart"in af,Tf=void 0!==pf(af,"PointerEvent"),Cf=Sf&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Ef="touch",Lf="mouse",Af=16,Of=24,Pf=["x","y"],Mf=["clientX","clientY"];function Df(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function Rf(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function zf(t,e){return t.indexOf(e)>-1}var If=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===mf&&(t=this.compute()),vf&&this.manager.element.style&&_f[t]&&(this.manager.element.style[df]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return Df(this.manager.recognizers,function(e){Rf(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(zf(t,bf))return bf;var e=zf(t,wf),n=zf(t,xf);return e&&n?bf:e||n?e?wf:xf:zf(t,gf)?gf:yf}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=zf(r,bf)&&!_f[bf],o=zf(r,xf)&&!_f[xf],a=zf(r,wf)&&!_f[wf];if(i){var s=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(s&&u&&c)return}if(!a||!o)return i||o&&6&n||a&&n&Of?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function kf(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function jf(t){var e=t.length;if(1===e)return{x:lf(t[0].clientX),y:lf(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:lf(n/e),y:lf(r/e)}}function Ff(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:lf(t.pointers[n].clientX),clientY:lf(t.pointers[n].clientY)},n++;return{timeStamp:ff(),pointers:e,center:jf(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Nf(t,e,n){n||(n=Pf);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function Bf(t,e,n){n||(n=Pf);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}function Wf(t,e){return t===e?1:hf(t)>=hf(e)?t<0?2:4:e<0?8:Af}function Yf(t,e,n){return{x:e/t||0,y:n/t||0}}function Gf(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=Ff(e)),i>1&&!n.firstMultiple?n.firstMultiple=Ff(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=e.center=jf(r);e.timeStamp=ff(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Bf(s,u),e.distance=Nf(s,u),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=Wf(e.deltaX,e.deltaY);var c,l,h=Yf(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=hf(h.x)>hf(h.y)?h.x:h.y,e.scale=a?(c=a.pointers,Nf((l=r)[0],l[1],Mf)/Nf(c[0],c[1],Mf)):1,e.rotation=a?function(t,e){return Bf(e[1],e[0],Mf)+Bf(t[1],t[0],Mf)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!==e.eventType&&(s>25||void 0===a.velocity)){var u=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,l=Yf(s,u,c);r=l.x,i=l.y,n=hf(l.x)>hf(l.y)?l.x:l.y,o=Wf(u,c),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var f,p=t.element,d=e.srcEvent;kf(f=d.composedPath?d.composedPath()[0]:d.path?d.path[0]:d.target,p)&&(p=f),e.target=p}function Xf(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i===0,a=12&e&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,Gf(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function Vf(t){return t.trim().split(/\s+/g)}function Uf(t,e,n){Df(Vf(e),function(e){t.addEventListener(e,n,!1)})}function Zf(t,e,n){Df(Vf(e),function(e){t.removeEventListener(e,n,!1)})}function Hf(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var qf=function(){function t(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Rf(t.options.enable,[t])&&n.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Uf(this.element,this.evEl,this.domHandler),this.evTarget&&Uf(this.target,this.evTarget,this.domHandler),this.evWin&&Uf(Hf(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Zf(this.element,this.evEl,this.domHandler),this.evTarget&&Zf(this.target,this.evTarget,this.domHandler),this.evWin&&Zf(Hf(this.element),this.evWin,this.domHandler)},t}();function Jf(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}var $f={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Qf={2:Ef,3:"pen",4:Lf,5:"kinect"},Kf="pointerdown",tp="pointermove pointerup pointercancel";af.MSPointerEvent&&!af.PointerEvent&&(Kf="MSPointerDown",tp="MSPointerMove MSPointerUp MSPointerCancel");var ep=function(t){function e(){var n,r=e.prototype;return r.evEl=Kf,r.evWin=tp,(n=t.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return rf(e,t),e.prototype.handler=function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=$f[r],o=Qf[t.pointerType]||t.pointerType,a=o===Ef,s=Jf(e,t.pointerId,"pointerId");1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))},e}(qf);function np(t){return Array.prototype.slice.call(t,0)}function rp(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];Jf(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}var ip={touchstart:1,touchmove:2,touchend:4,touchcancel:8},op=function(t){function e(){var n;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(n=t.apply(this,arguments)||this).targetIds={},n}return rf(e,t),e.prototype.handler=function(t){var e=ip[t.type],n=ap.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Ef,srcEvent:t})},e}(qf);function ap(t,e){var n,r,i=np(t.touches),o=this.targetIds;if(3&e&&1===i.length)return o[i[0].identifier]=!0,[i,i];var a=np(t.changedTouches),s=[],u=this.target;if(r=i.filter(function(t){return kf(t.target,u)}),1===e)for(n=0;n<r.length;)o[r[n].identifier]=!0,n++;for(n=0;n<a.length;)o[a[n].identifier]&&s.push(a[n]),12&e&&delete o[a[n].identifier],n++;return s.length?[rp(r.concat(s),"identifier",!0),s]:void 0}var sp={mousedown:1,mousemove:2,mouseup:4},up=function(t){function e(){var n,r=e.prototype;return r.evEl="mousedown",r.evWin="mousemove mouseup",(n=t.apply(this,arguments)||this).pressed=!1,n}return rf(e,t),e.prototype.handler=function(t){var e=sp[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Lf,srcEvent:t}))},e}(qf);function cp(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY},r=this.lastTouches;this.lastTouches.push(n);setTimeout(function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)},2500)}}function lp(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,cp.call(this,e)):12&t&&cp.call(this,e)}function hp(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}var fp=function(){return function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).handler=function(t,e,n){var i=n.pointerType===Ef,o=n.pointerType===Lf;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)lp.call(of(of(r)),e,n);else if(o&&hp.call(of(of(r)),n))return;r.callback(t,e,n)}},r.touch=new op(r.manager,r.handler),r.mouse=new up(r.manager,r.handler),r.primaryTouch=null,r.lastTouches=[],r}return rf(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(qf)}();function pp(t,e,n){return!!Array.isArray(t)&&(Df(t,n[e],n),!0)}var dp=32,vp=1;function mp(t,e){var n=e.manager;return n?n.get(t):t}function yp(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var gp=function(){function t(t){void 0===t&&(t={}),this.options=nf({enable:!0},t),this.id=vp++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return sf(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(pp(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=mp(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return pp(t,"dropRecognizeWith",this)||(t=mp(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(pp(t,"requireFailure",this))return this;var e=this.requireFail;return-1===Jf(e,t=mp(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(pp(t,"dropRequireFailure",this))return this;t=mp(t,this);var e=Jf(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+yp(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+yp(n))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=dp},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=sf({},t);if(!Rf(this.options.enable,[this,e]))return this.reset(),void(this.state=dp);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),bp=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,nf({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}rf(e,t);var n=e.prototype;return n.getTouchAction=function(){return[gf]},n.process=function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,i=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&o&&r){if(4!==t.eventType)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<n.interval,s=!this.pCenter||Nf(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){e.state=8,e.tryEmit()},n.interval),2):8}return dp},n.failTimeout=function(){var t=this;return this._timer=setTimeout(function(){t.state=dp},this.options.interval),dp},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(gp),wp=function(t){function e(e){return void 0===e&&(e={}),t.call(this,nf({pointers:1},e))||this}rf(e,t);var n=e.prototype;return n.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},n.process=function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:dp},e}(gp);function xp(t){return t===Af?"down":8===t?"up":2===t?"left":4===t?"right":""}var _p=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,nf({event:"pan",threshold:10,pointers:1,direction:30},e))||this).pX=null,n.pY=null,n}rf(e,t);var n=e.prototype;return n.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push(xf),t&Of&&e.push(wf),e},n.directionTest=function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!==this.pX,r=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:Af,n=a!==this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},n.attrTest=function(t){return wp.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},n.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var n=xp(e.direction);n&&(e.additionalEvent=this.options.event+n),t.prototype.emit.call(this,e)},e}(wp),Sp=function(t){function e(e){return void 0===e&&(e={}),t.call(this,nf({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},e))||this}rf(e,t);var n=e.prototype;return n.getTouchAction=function(){return _p.prototype.getTouchAction.call(this)},n.attrTest=function(e){var n,r=this.options.direction;return 30&r?n=e.overallVelocity:6&r?n=e.overallVelocityX:r&Of&&(n=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&r&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&hf(n)>this.options.velocity&&4&e.eventType},n.emit=function(t){var e=xp(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(wp),Tp=function(t){function e(e){return void 0===e&&(e={}),t.call(this,nf({event:"pinch",threshold:0,pointers:2},e))||this}rf(e,t);var n=e.prototype;return n.getTouchAction=function(){return[bf]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},n.emit=function(e){if(1!==e.scale){var n=e.scale<1?"in":"out";e.additionalEvent=this.options.event+n}t.prototype.emit.call(this,e)},e}(wp),Cp=function(t){function e(e){return void 0===e&&(e={}),t.call(this,nf({event:"rotate",threshold:0,pointers:2},e))||this}rf(e,t);var n=e.prototype;return n.getTouchAction=function(){return[bf]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(wp),Ep=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,nf({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,n._input=null,n}rf(e,t);var n=e.prototype;return n.getTouchAction=function(){return[yf]},n.process=function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,i=t.distance<n.threshold,o=t.deltaTime>n.time;if(this._input=t,!i||!r||12&t.eventType&&!o)this.reset();else if(1&t.eventType)this.reset(),this._timer=setTimeout(function(){e.state=8,e.tryEmit()},n.time);else if(4&t.eventType)return 8;return dp},n.reset=function(){clearTimeout(this._timer)},n.emit=function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=ff(),this.manager.emit(this.options.event,this._input)))},e}(gp),Lp={domEvents:!1,touchAction:mf,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ap=[[Cp,{enable:!1}],[Tp,{enable:!1},["rotate"]],[Sp,{direction:6}],[_p,{direction:6},["swipe"]],[bp],[bp,{event:"doubletap",taps:2},["tap"]],[Ep]];function Op(t,e){var n,r=t.element;r.style&&(Df(t.options.cssProps,function(i,o){n=pf(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}var Pp=function(){function t(t,e){var n,r=this;this.options=sf({},Lp,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(Tf?ep:Cf?op:Sf?fp:up))(n,Xf),this.touchAction=new If(this,this.options.touchAction),Op(this,!0),Df(this.options.recognizers,function(t){var e=r.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}var e=t.prototype;return e.set=function(t){return sf(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(e.curRecognizer=null,i=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!==i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(e.curRecognizer=n,i=n),o++}},e.get=function(t){if(t instanceof gp)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null},e.add=function(t){if(pp(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(pp(t,"remove",this))return this;var e=this.get(t);if(t){var n=this.recognizers,r=Jf(n,e);-1!==r&&(n.splice(r,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var n=this.handlers;return Df(Vf(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},e.off=function(t,e){if(void 0===t)return this;var n=this.handlers;return Df(Vf(t),function(t){e?n[t]&&n[t].splice(Jf(n[t],e),1):delete n[t]}),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},e.destroy=function(){this.element&&Op(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Mp={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Dp=function(t){function e(){var n,r=e.prototype;return r.evTarget="touchstart",r.evWin="touchstart touchmove touchend touchcancel",(n=t.apply(this,arguments)||this).started=!1,n}return rf(e,t),e.prototype.handler=function(t){var e=Mp[t.type];if(1===e&&(this.started=!0),this.started){var n=Rp.call(this,t,e);12&e&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Ef,srcEvent:t})}},e}(qf);function Rp(t,e){var n=np(t.touches),r=np(t.changedTouches);return 12&e&&(n=rp(n.concat(r),"identifier",!0)),[n,r]}function zp(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=window.console&&(window.console.warn||window.console.log);return i&&i.call(window.console,r,n),t.apply(this,arguments)}}var Ip=zp(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t},"extend","Use `assign`."),kp=zp(function(t,e){return Ip(t,e,!0)},"merge","Use `assign`.");function jp(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&sf(r,n)}function Fp(t,e){return function(){return t.apply(e,arguments)}}var Np=function(){var t=function(t,e){return void 0===e&&(e={}),new Pp(t,nf({recognizers:Ap.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=Af,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=Of,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=Af,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=dp,t.Manager=Pp,t.Input=qf,t.TouchAction=If,t.TouchInput=op,t.MouseInput=up,t.PointerEventInput=ep,t.TouchMouseInput=fp,t.SingleTouchInput=Dp,t.Recognizer=gp,t.AttrRecognizer=wp,t.Tap=bp,t.Pan=_p,t.Swipe=Sp,t.Pinch=Tp,t.Rotate=Cp,t.Press=Ep,t.on=Uf,t.off=Zf,t.each=Df,t.merge=kp,t.extend=Ip,t.bindFn=Fp,t.assign=sf,t.inherit=jp,t.bindFn=Fp,t.prefixed=pf,t.toArray=np,t.inArray=Jf,t.uniqueArray=rp,t.splitStr=Vf,t.boolOrFn=Rf,t.hasParent=kf,t.addEventListeners=Uf,t.removeEventListeners=Zf,t.defaults=sf({},Lp,{preset:Ap}),t}();Nc("DELETE");const Bp="undefined"!=typeof window?window.Hammer||Np:function(){return function(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get:()=>({set:t})}}()};function Wp(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const n=Bp(this._dom.overlay);n.on("tap",Wl(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{n.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];qa(r).call(r,t=>{n.on(t,t=>{t.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=e=>{(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=t=>{("key"in t?"Escape"===t.key:27===t.keyCode)&&this.deactivate()}}bu(Wp.prototype),Wp.current=null,Wp.prototype.destroy=function(){this.deactivate();for(const n of rh(t=mh(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;n()}},Wp.prototype.activate=function(){Wp.current&&Wp.current.deactivate(),Wp.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Wp.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Wp.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};const Yp=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Gp=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;function Xp(t,e,n,r){let i=!1;!0===r&&(i=null===e[n]&&void 0!==t[n]),i?delete t[n]:t[n]=e[n]}function Vp(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)||!0===n)if("object"==typeof e[o]&&null!==e[o]&&Oh(e[o])===Object.prototype)void 0===t[o]?t[o]=Vp({},e[o],n):"object"==typeof t[o]&&null!==t[o]&&Oh(t[o])===Object.prototype?Vp(t[o],e[o],n):Xp(t,e,o,r);else if(os(e[o])){var i;t[o]=Kc(i=e[o]).call(i)}else Xp(t,e,o,r);return t}function Up(t,e){return[...t,e]}function Zp(t){return Kc(t).call(t)}function Hp(t){t||(t=window.event),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}function qp(t,e,n){let r,i,o;const a=Math.floor(6*t),s=6*t-a,u=n*(1-e),c=n*(1-s*e),l=n*(1-(1-s)*e);switch(a%6){case 0:r=n,i=l,o=u;break;case 1:r=c,i=n,o=u;break;case 2:r=u,i=n,o=l;break;case 3:r=u,i=c,o=n;break;case 4:r=l,i=u,o=n;break;case 5:r=n,i=u,o=c}return{r:Math.floor(255*r),g:Math.floor(255*i),b:Math.floor(255*o)}}let Jp,$p=!1;const Qp="background: #FFeeee; color: #dd0000";const Kp=Qp,td=class t{static validate(e,n,r){$p=!1,Jp=n;let i=n;return void 0!==r&&(i=n[r]),t.parse(e,i,[]),$p}static parse(e,n,r){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.check(i,e,n,r)}static check(e,n,r,i){if(void 0===r[e]&&void 0===r.__any__)return void t.getSuggestion(e,r,i);let o=e,a=!0;void 0===r[e]&&void 0!==r.__any__&&(o="__any__",a="object"===t.getType(n[e]));let s=r[o];a&&void 0!==s.__type__&&(s=s.__type__),t.checkFields(e,n,r,o,s,i)}static checkFields(e,n,r,i,o,a){const s=function(n){console.error("%c"+n+t.printLocation(a,e),Qp)},u=t.getType(n[e]),c=o[u];void 0!==c?"array"===t.getType(c)&&-1===Fr(c).call(c,n[e])?(s('Invalid option detected in "'+e+'". Allowed values are:'+t.print(c)+' not "'+n[e]+'". '),$p=!0):"object"===u&&"__any__"!==i&&(a=Up(a,e),t.parse(n[e],r[i],a)):void 0===o.any&&(s('Invalid type received for "'+e+'". Expected: '+t.print(El(o))+". Received ["+u+'] "'+n[e]+'"'),$p=!0)}static getType(t){const e=typeof t;return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":os(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}static getSuggestion(e,n,r){const i=t.findInOptions(e,n,r,!1),o=t.findInOptions(e,Jp,[],!0);let a;a=void 0!==i.indexMatch?" in "+t.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+'"?\n\n':o.distance<=4&&i.distance>o.distance?" in "+t.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(o.path,o.closestMatch,""):i.distance<=8?'. Did you mean "'+i.closestMatch+'"?'+t.printLocation(i.path,e):". Did you mean one of these: "+t.print(El(n))+t.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+a,Qp),$p=!0}static findInOptions(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=1e9,a="",s=[];const u=e.toLowerCase();let c;for(const h in n){let f;if(void 0!==n[h].__type__&&!0===i){const i=t.findInOptions(e,n[h],Up(r,h));o>i.distance&&(a=i.closestMatch,s=i.path,o=i.distance,c=i.indexMatch)}else{var l;-1!==Fr(l=h.toLowerCase()).call(l,u)&&(c=h),f=t.levenshteinDistance(e,h),o>f&&(a=h,s=Zp(r),o=f)}}return{closestMatch:a,path:s,distance:o,indexMatch:c}}static printLocation(t,e){let n="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n";for(let e=0;e<t.length;e++){for(let t=0;t<e+1;t++)n+="  ";n+=t[e]+": {\n"}for(let e=0;e<t.length+1;e++)n+="  ";n+=e+"\n";for(let e=0;e<t.length+1;e++){for(let r=0;r<t.length-e;r++)n+="  ";n+="}\n"}return n+"\n\n"}static print(t){return ef(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;const n=[];let r,i;for(r=0;r<=e.length;r++)n[r]=[r];for(i=0;i<=t.length;i++)n[0][i]=i;for(r=1;r<=e.length;r++)for(i=1;i<=t.length;i++)e.charAt(r-1)==t.charAt(i-1)?n[r][i]=n[r-1][i-1]:n[r][i]=Math.min(n[r-1][i-1]+1,Math.min(n[r][i-1]+1,n[r-1][i]+1));return n[e.length][t.length]}};function ed(t,e,n){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==n?n:0}function nd(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}function rd(t,e){if(void 0===t)throw new Error("No container element defined");if(this.container=t,this.visible=!e||null==e.visible||e.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);const t=this;this.frame.slide.onmousedown=function(e){t._onMouseDown(e)},this.frame.prev.onclick=function(e){t.prev(e)},this.frame.play.onclick=function(e){t.togglePlay(e)},this.frame.next.onclick=function(e){t.next(e)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}function id(t,e,n,r){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,n,r)}ed.subtract=function(t,e){const n=new ed;return n.x=t.x-e.x,n.y=t.y-e.y,n.z=t.z-e.z,n},ed.add=function(t,e){const n=new ed;return n.x=t.x+e.x,n.y=t.y+e.y,n.z=t.z+e.z,n},ed.avg=function(t,e){return new ed((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},ed.scalarProduct=function(t,e){return new ed(t.x*e,t.y*e,t.z*e)},ed.dotProduct=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},ed.crossProduct=function(t,e){const n=new ed;return n.x=t.y*e.z-t.z*e.y,n.y=t.z*e.x-t.x*e.z,n.z=t.x*e.y-t.y*e.x,n},ed.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},ed.prototype.normalize=function(){return ed.scalarProduct(this,1/this.length())},rd.prototype.prev=function(){let t=this.getIndex();t>0&&(t--,this.setIndex(t))},rd.prototype.next=function(){let t=this.getIndex();t<ka(this).length-1&&(t++,this.setIndex(t))},rd.prototype.playNext=function(){const t=new Date;let e=this.getIndex();e<ka(this).length-1?(e++,this.setIndex(e)):this.playLoop&&(e=0,this.setIndex(e));const n=new Date-t,r=Math.max(this.playInterval-n,0),i=this;this.playTimeout=su(function(){i.playNext()},r)},rd.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},rd.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},rd.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},rd.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},rd.prototype.setPlayInterval=function(t){this.playInterval=t},rd.prototype.getPlayInterval=function(){return this.playInterval},rd.prototype.setPlayLoop=function(t){this.playLoop=t},rd.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},rd.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";const t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},rd.prototype.setValues=function(t){this.values=t,ka(this).length>0?this.setIndex(0):this.index=void 0},rd.prototype.setIndex=function(t){if(!(t<ka(this).length))throw new Error("Index out of range");this.index=t,this.redraw(),this.onChange()},rd.prototype.getIndex=function(){return this.index},rd.prototype.get=function(){return ka(this)[this.index]},rd.prototype._onMouseDown=function(t){if(!(t.which?1===t.which:1===t.button))return;this.startClientX=t.clientX,this.startSlideX=Oi(this.frame.slide.style.left),this.frame.style.cursor="move";const e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},document.addEventListener("mousemove",this.onmousemove),document.addEventListener("mouseup",this.onmouseup),Hp(t)},rd.prototype.leftToIndex=function(t){const e=Oi(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,n=t-3;let r=Math.round(n/e*(ka(this).length-1));return r<0&&(r=0),r>ka(this).length-1&&(r=ka(this).length-1),r},rd.prototype.indexToLeft=function(t){const e=Oi(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return t/(ka(this).length-1)*e+3},rd.prototype._onMouseMove=function(t){const e=t.clientX-this.startClientX,n=this.startSlideX+e,r=this.leftToIndex(n);this.setIndex(r),Hp()},rd.prototype._onMouseUp=function(){this.frame.style.cursor="auto",document.removeEventListener("mousemove",this.onmousemove),document.removeEventListener("mouseup",this.onmouseup),Hp()},id.prototype.isNumeric=function(t){return!isNaN(Oi(t))&&isFinite(t)},id.prototype.setRange=function(t,e,n,r){if(!this.isNumeric(t))throw new Error("Parameter 'start' is not numeric; value: "+t);if(!this.isNumeric(e))throw new Error("Parameter 'end' is not numeric; value: "+t);if(!this.isNumeric(n))throw new Error("Parameter 'step' is not numeric; value: "+t);this._start=t||0,this._end=e||0,this.setStep(n,r)},id.prototype.setStep=function(t,e){void 0===t||t<=0||(void 0!==e&&(this.prettyStep=e),!0===this.prettyStep?this._step=id.calculatePrettyStep(t):this._step=t)},id.calculatePrettyStep=function(t){const e=function(t){return Math.log(t)/Math.LN10},n=Math.pow(10,Math.round(e(t))),r=2*Math.pow(10,Math.round(e(t/2))),i=5*Math.pow(10,Math.round(e(t/5)));let o=n;return Math.abs(r-t)<=Math.abs(o-t)&&(o=r),Math.abs(i-t)<=Math.abs(o-t)&&(o=i),o<=0&&(o=1),o},id.prototype.getCurrent=function(){return Oi(this._current.toPrecision(this.precision))},id.prototype.getStep=function(){return this._step},id.prototype.start=function(t){void 0===t&&(t=!1),this._current=this._start-this._start%this._step,t&&this.getCurrent()<this._start&&this.next()},id.prototype.next=function(){this._current+=this._step},id.prototype.end=function(){return this._current>this._end};var od,ad,sd,ud,cd,ld,hd,fd,pd;function dd(){return ad?od:(ad=1,od=Math.sign||function(t){var e=+t;return 0===e||e!=e?e:e<0?-1:1})}function vd(){return cd?ud:(cd=1,sd||(sd=1,On()({target:"Math",stat:!0},{sign:dd()})),ud=At().Math.sign)}function md(){return hd?ld:(hd=1,ld=vd())}var yd=h(pd?fd:(pd=1,fd=md()));function gd(){this.armLocation=new ed,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new ed,this.offsetMultiplier=.6,this.cameraLocation=new ed,this.cameraRotation=new ed(.5*Math.PI,0,0),this.calculateCameraOrientation()}gd.prototype.setOffset=function(t,e){const n=Math.abs,r=yd,i=this.offsetMultiplier,o=this.armLength*i;n(t)>o&&(t=r(t)*o),n(e)>o&&(e=r(e)*o),this.cameraOffset.x=t,this.cameraOffset.y=e,this.calculateCameraOrientation()},gd.prototype.getOffset=function(){return this.cameraOffset},gd.prototype.setArmLocation=function(t,e,n){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=n,this.calculateCameraOrientation()},gd.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===t&&void 0===e||this.calculateCameraOrientation()},gd.prototype.getArmRotation=function(){const t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},gd.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},gd.prototype.getArmLength=function(){return this.armLength},gd.prototype.getCameraLocation=function(){return this.cameraLocation},gd.prototype.getCameraRotation=function(){return this.cameraRotation},gd.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;const t=this.cameraRotation.x,e=this.cameraRotation.z,n=this.cameraOffset.x,r=this.cameraOffset.y,i=Math.sin,o=Math.cos;this.cameraLocation.x=this.cameraLocation.x+n*o(e)+r*-i(e)*o(t),this.cameraLocation.y=this.cameraLocation.y+n*i(e)+r*o(e)*o(t),this.cameraLocation.z=this.cameraLocation.z+r*i(t)};const bd={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},wd={dot:bd.DOT,"dot-line":bd.DOTLINE,"dot-color":bd.DOTCOLOR,"dot-size":bd.DOTSIZE,line:bd.LINE,grid:bd.GRID,surface:bd.SURFACE,bar:bd.BAR,"bar-color":bd.BARCOLOR,"bar-size":bd.BARSIZE},xd=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrayBottom","showGrid","showPerspective","showShadow","showSurfaceGrid","keepAspectRatio","rotateAxisLabels","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","axisFontSize","axisFontType","gridColor","xCenter","yCenter","zoomable","tooltipDelay","ctrlToZoom"],_d=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"];let Sd;function Td(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cd(t,e){return void 0===t||""===t?e:t+(void 0===(n=e)||""===n||"string"!=typeof n?n:n.charAt(0).toUpperCase()+Kc(n).call(n,1));var n}function Ed(t,e,n,r){let i,o;for(let a=0;a<n.length;++a)i=n[a],o=Cd(r,i),e[o]=t[i]}function Ld(t,e,n,r){let i,o;for(let a=0;a<n.length;++a)i=n[a],void 0!==t[i]&&(o=Cd(r,i),e[o]=t[i])}function Ad(t,e){if(void 0!==t.backgroundColor&&function(t,e){let n="white",r="gray",i=1;if("string"==typeof t)n=t,r="none",i=0;else{if("object"!=typeof t)throw new Error("Unsupported type of backgroundColor");void 0!==Hi(t)&&(n=Hi(t)),void 0!==t.stroke&&(r=t.stroke),void 0!==t.strokeWidth&&(i=t.strokeWidth)}e.frame.style.backgroundColor=n,e.frame.style.borderColor=r,e.frame.style.borderWidth=i+"px",e.frame.style.borderStyle="solid"}(t.backgroundColor,e),function(t,e){if(void 0===t)return;void 0===e.dataColor&&(e.dataColor={});"string"==typeof t?(e.dataColor.fill=t,e.dataColor.stroke=t):(Hi(t)&&(e.dataColor.fill=Hi(t)),t.stroke&&(e.dataColor.stroke=t.stroke),void 0!==t.strokeWidth&&(e.dataColor.strokeWidth=t.strokeWidth))}(t.dataColor,e),function(t,e){if(void 0===t)return;let n;if("string"==typeof t){if(n=function(t){const e=wd[t];if(void 0===e)return-1;return e}(t),-1===n)throw new Error("Style '"+t+"' is invalid")}else{if(!function(t){let e=!1;for(const n in bd)if(bd[n]===t){e=!0;break}return e}(t))throw new Error("Style '"+t+"' is invalid");n=t}e.style=n}(t.style,e),void 0!==t.surfaceColors){if(console.warn("`options.surfaceColors` is deprecated and may be removed in a future version. Please use `options.colormap` instead. Note that the `colormap` option uses the inverse array ordering (running from vMin to vMax)."),void 0!==t.colormap)throw new Error("The `colormap` and `surfaceColors` options are mutually exclusive.");"surface"!==e.style?console.warn("Ignoring `surfaceColors` in graph style `"+e.style+"` for backward compatibility (only effective in `surface` plots)."):function(t,e){if(void 0===t||!0===t)return;if(!1===t)return void(e.surfaceColors=void 0);void 0===e.surfaceColors&&(e.surfaceColors={});let n;if(os(t))n=Od(t);else{if("object"!=typeof t)throw new Error("Unsupported type of surfaceColors");n=Pd(t.hue)}rh(n).call(n),e.colormap=n}(t.surfaceColors,e)}else!function(t,e){if(void 0===t)return;let n;if(os(t))n=Od(t);else if("object"==typeof t)n=Pd(t.hue);else{if("function"!=typeof t)throw new Error("Unsupported type of colormap");n=t}e.colormap=n}(t.colormap,e);!function(t,e){if(void 0===t){if(void 0===Sd.showLegend){const t=e.style===bd.DOTCOLOR||e.style===bd.DOTSIZE;e.showLegend=t}}else e.showLegend=t}(t.showLegend,e),Md(t.cameraPosition,e),void 0!==t.tooltip&&(e.showTooltip=t.tooltip),null!=t.onclick&&(e.onclick_callback=t.onclick,console.warn("`options.onclick` is deprecated and may be removed in a future version. Please use `Graph3d.on('click', handler)` instead.")),void 0!==t.tooltipStyle&&function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(os(n))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const o=t[i];if(Object.prototype.hasOwnProperty.call(n,o))if(n[o]&&n[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?Vp(e[o],n[o],!1,r):Xp(e,n,o,r);else{if(os(n[o]))throw new TypeError("Arrays are not supported by deepExtend");Xp(e,n,o,r)}}}(["tooltipStyle"],e,t)}function Od(t){if(t.length<2)throw new Error("Colormap array length must be 2 or above.");return hl(t).call(t,function(t){if(!/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t))throw new Error("Invalid hex color code supplied to colormap.");return function(t){let e;switch(t.length){case 3:case 4:return e=Gp.exec(t),e?{r:Zh(e[1]+e[1],16),g:Zh(e[2]+e[2],16),b:Zh(e[3]+e[3],16)}:null;case 6:case 7:return e=Yp.exec(t),e?{r:Zh(e[1],16),g:Zh(e[2],16),b:Zh(e[3],16)}:null;default:return null}}(t)})}function Pd(t){if(void 0===t)throw new Error("Unsupported type of colormap");if(!(t.saturation>=0&&t.saturation<=100))throw new Error("Saturation is out of bounds. Expected range is 0-100.");if(!(t.brightness>=0&&t.brightness<=100))throw new Error("Brightness is out of bounds. Expected range is 0-100.");if(!(t.colorStops>=2))throw new Error("colorStops is out of bounds. Expected 2 or above.");const e=(t.end-t.start)/(t.colorStops-1),n=[];for(let r=0;r<t.colorStops;++r){const i=(t.start+e*r)%360/360;n.push(qp(i<0?i+1:i,t.saturation/100,t.brightness/100))}return n}function Md(t,e){const n=t;void 0!==n&&(void 0===e.camera&&(e.camera=new gd),e.camera.setArmRotation(n.horizontal,n.vertical),e.camera.setArmLength(n.distance))}const Dd="string",Rd="boolean",zd="number",Id="object",kd="array",jd={fill:{string:Dd},stroke:{string:Dd},strokeWidth:{number:zd},__type__:{string:Dd,object:Id,undefined:"undefined"}},Fd={animationAutoStart:{boolean:Rd,undefined:"undefined"},animationInterval:{number:zd},animationPreload:{boolean:Rd},axisColor:{string:Dd},axisFontSize:{number:zd},axisFontType:{string:Dd},backgroundColor:jd,xBarWidth:{number:zd,undefined:"undefined"},yBarWidth:{number:zd,undefined:"undefined"},cameraPosition:{distance:{number:zd},horizontal:{number:zd},vertical:{number:zd},__type__:{object:Id}},zoomable:{boolean:Rd},ctrlToZoom:{boolean:Rd},xCenter:{string:Dd},yCenter:{string:Dd},colormap:{hue:{start:{number:zd},end:{number:zd},saturation:{number:zd},brightness:{number:zd},colorStops:{number:zd},__type__:{object:Id}},__type__:{array:kd,object:Id,function:"function",undefined:"undefined"}},dataColor:jd,dotSizeMinFraction:{number:zd},dotSizeMaxFraction:{number:zd},dotSizeRatio:{number:zd},filterLabel:{string:Dd},gridColor:{string:Dd},onclick:{function:"function"},keepAspectRatio:{boolean:Rd},xLabel:{string:Dd},yLabel:{string:Dd},zLabel:{string:Dd},legendLabel:{string:Dd},xMin:{number:zd,undefined:"undefined"},yMin:{number:zd,undefined:"undefined"},zMin:{number:zd,undefined:"undefined"},xMax:{number:zd,undefined:"undefined"},yMax:{number:zd,undefined:"undefined"},zMax:{number:zd,undefined:"undefined"},showAnimationControls:{boolean:Rd,undefined:"undefined"},showGrayBottom:{boolean:Rd},showGrid:{boolean:Rd},showLegend:{boolean:Rd,undefined:"undefined"},showPerspective:{boolean:Rd},showShadow:{boolean:Rd},showSurfaceGrid:{boolean:Rd},showXAxis:{boolean:Rd},showYAxis:{boolean:Rd},showZAxis:{boolean:Rd},rotateAxisLabels:{boolean:Rd},surfaceColors:{hue:{start:{number:zd},end:{number:zd},saturation:{number:zd},brightness:{number:zd},colorStops:{number:zd},__type__:{object:Id}},__type__:{boolean:Rd,array:kd,object:Id,undefined:"undefined"}},xStep:{number:zd,undefined:"undefined"},yStep:{number:zd,undefined:"undefined"},zStep:{number:zd,undefined:"undefined"},style:{number:zd,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:Rd,function:"function"},tooltipDelay:{number:zd},tooltipStyle:{content:{color:{string:Dd},background:{string:Dd},border:{string:Dd},borderRadius:{string:Dd},boxShadow:{string:Dd},padding:{string:Dd},__type__:{object:Id}},line:{borderLeft:{string:Dd},height:{string:Dd},width:{string:Dd},pointerEvents:{string:Dd},__type__:{object:Id}},dot:{border:{string:Dd},borderRadius:{string:Dd},height:{string:Dd},width:{string:Dd},pointerEvents:{string:Dd},__type__:{object:Id}},__type__:{object:Id}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:zd,undefined:"undefined"},valueMin:{number:zd,undefined:"undefined"},verticalRatio:{number:zd},height:{string:Dd},width:{string:Dd},__type__:{object:Id}};function Nd(){this.min=void 0,this.max=void 0}function Bd(t,e,n){this.dataGroup=t,this.column=e,this.graph=n,this.index=void 0,this.value=void 0,this.values=t.getDistinctValues(this.column),ka(this).length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,n.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}function Wd(){this.dataTable=null}Nd.prototype.adjust=function(t){void 0!==t&&((void 0===this.min||this.min>t)&&(this.min=t),(void 0===this.max||this.max<t)&&(this.max=t))},Nd.prototype.combine=function(t){this.add(t.min),this.add(t.max)},Nd.prototype.expand=function(t){if(void 0===t)return;const e=this.min-t,n=this.max+t;if(e>n)throw new Error("Passed expansion value makes range invalid");this.min=e,this.max=n},Nd.prototype.range=function(){return this.max-this.min},Nd.prototype.center=function(){return(this.min+this.max)/2},Bd.prototype.isLoaded=function(){return this.loaded},Bd.prototype.getLoadedProgress=function(){const t=ka(this).length;let e=0;for(;this.dataPoints[e];)e++;return Math.round(e/t*100)},Bd.prototype.getLabel=function(){return this.graph.filterLabel},Bd.prototype.getColumn=function(){return this.column},Bd.prototype.getSelectedValue=function(){if(void 0!==this.index)return ka(this)[this.index]},Bd.prototype.getValues=function(){return ka(this)},Bd.prototype.getValue=function(t){if(t>=ka(this).length)throw new Error("Index out of range");return ka(this)[t]},Bd.prototype._getDataPoints=function(t){if(void 0===t&&(t=this.index),void 0===t)return[];let n;if(this.dataPoints[t])n=this.dataPoints[t];else{const r={};r.column=this.column,r.value=ka(this)[t];const i=new e.DataView(this.dataGroup.getDataSet(),{filter:function(t){return t[r.column]==r.value}}).get();n=this.dataGroup._getDataPoints(i),this.dataPoints[t]=n}return n},Bd.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},Bd.prototype.selectValue=function(t){if(t>=ka(this).length)throw new Error("Index out of range");this.index=t,this.value=ka(this)[t]},Bd.prototype.loadInBackground=function(t){void 0===t&&(t=0);const e=this.graph.frame;if(t<ka(this).length){void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));const n=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+n+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";const r=this;su(function(){r.loadInBackground(t+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},Wd.prototype.initializeData=function(t,n,r){if(void 0===n)return;let i;if(os(n)&&(n=new e.DataSet(n)),!(n instanceof e.DataSet||n instanceof e.DataView))throw new Error("Array, DataSet, or DataView expected");if(i=n.get(),0==i.length)return;this.style=r,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=n,this.dataTable=i;const o=this;this._onChange=function(){t.setData(o.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";const a=t.hasBars(r);if(a&&(void 0!==t.defaultXBarWidth?this.xBarWidth=t.defaultXBarWidth:this.xBarWidth=this.getSmallestDifference(i,this.colX)||1,void 0!==t.defaultYBarWidth?this.yBarWidth=t.defaultYBarWidth:this.yBarWidth=this.getSmallestDifference(i,this.colY)||1),this._initializeRange(i,this.colX,t,a),this._initializeRange(i,this.colY,t,a),this._initializeRange(i,this.colZ,t,!1),Object.prototype.hasOwnProperty.call(i[0],"style")){this.colValue="style";const e=this.getColumnRange(i,this.colValue);this._setRangeDefaults(e,t.defaultValueMin,t.defaultValueMax),this.valueRange=e}else this.colValue="z",this.valueRange=this.zRange;const s=this.getDataTable();let u;return Object.prototype.hasOwnProperty.call(s[0],"filter")&&void 0===this.dataFilter&&(this.dataFilter=new Bd(this,"filter",t),this.dataFilter.setOnLoadCallback(function(){t.redraw()})),u=this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable()),u},Wd.prototype._collectRangeSettings=function(t,e){var n;if(-1==Fr(n=["x","y","z"]).call(n,t))throw new Error("Column '"+t+"' invalid");const r=t.toUpperCase();return{barWidth:this[t+"BarWidth"],min:e["default"+r+"Min"],max:e["default"+r+"Max"],step:e["default"+r+"Step"],range_label:t+"Range",step_label:t+"Step"}},Wd.prototype._initializeRange=function(t,e,n,r){const i=this._collectRangeSettings(e,n),o=this.getColumnRange(t,e);r&&"z"!=e&&o.expand(i.barWidth/2),this._setRangeDefaults(o,i.min,i.max),this[i.range_label]=o,this[i.step_label]=void 0!==i.step?i.step:o.range()/5},Wd.prototype.getDistinctValues=function(t,e){void 0===e&&(e=this.dataTable);const n=[];for(let r=0;r<e.length;r++){const i=e[r][t]||0;-1===Fr(n).call(n,i)&&n.push(i)}return ur(n).call(n,function(t,e){return t-e})},Wd.prototype.getSmallestDifference=function(t,e){const n=this.getDistinctValues(t,e);let r=null;for(let t=1;t<n.length;t++){const e=n[t]-n[t-1];(null==r||r>e)&&(r=e)}return r},Wd.prototype.getColumnRange=function(t,e){const n=new Nd;for(let r=0;r<t.length;r++){const i=t[r][e];n.adjust(i)}return n},Wd.prototype.getNumberOfRows=function(){return this.dataTable.length},Wd.prototype._setRangeDefaults=function(t,e,n){void 0!==e&&(t.min=e),void 0!==n&&(t.max=n),t.max<=t.min&&(t.max=t.min+1)},Wd.prototype.getDataTable=function(){return this.dataTable},Wd.prototype.getDataSet=function(){return this.dataSet},Wd.prototype.getDataPoints=function(t){const e=[];for(let n=0;n<t.length;n++){const r=new ed;r.x=t[n][this.colX]||0,r.y=t[n][this.colY]||0,r.z=t[n][this.colZ]||0,r.data=t[n],r.value=t[n][this.colValue]||0;const i={};i.point=r,i.bottom=new ed(r.x,r.y,this.zRange.min),i.trans=void 0,i.screen=void 0,e.push(i)}return e},Wd.prototype.initDataAsMatrix=function(t){let e,n,r,i;const o=this.getDistinctValues(this.colX,t),a=this.getDistinctValues(this.colY,t),s=this.getDataPoints(t),u=[];for(r=0;r<s.length;r++){i=s[r];const t=Fr(o).call(o,i.point.x),e=Fr(a).call(a,i.point.y);void 0===u[t]&&(u[t]=[]),u[t][e]=i}for(e=0;e<u.length;e++)for(n=0;n<u[e].length;n++)u[e][n]&&(u[e][n].pointRight=e<u.length-1?u[e+1][n]:void 0,u[e][n].pointTop=n<u[e].length-1?u[e][n+1]:void 0,u[e][n].pointCross=e<u.length-1&&n<u[e].length-1?u[e+1][n+1]:void 0);return s},Wd.prototype.getInfo=function(){const t=this.dataFilter;if(t)return t.getLabel()+": "+t.getSelectedValue()},Wd.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},Wd.prototype._getDataPoints=function(t){let e=[];if(this.style===bd.GRID||this.style===bd.SURFACE)e=this.initDataAsMatrix(t);else if(e=this.getDataPoints(t),this.style===bd.LINE)for(let t=0;t<e.length;t++)t>0&&(e[t-1].pointNext=e[t]);return e},Gd.STYLE=bd;const Yd=void 0;function Gd(t,e,n){if(!(this instanceof Gd))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.dataGroup=new Wd,this.dataPoints=null,this.create(),function(t,e){if(void 0===t||Td(t))throw new Error("No DEFAULTS passed");if(void 0===e)throw new Error("No dst passed");Sd=t,Ed(t,e,xd),Ed(t,e,_d,"default"),Ad(t,e),e.margin=10,e.showTooltip=!1,e.onclick_callback=null,e.eye=new ed(0,0,-1)}(Gd.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(n),this.setData(e)}function Xd(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function Vd(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}Gd.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(t){return t},yValueLabel:function(t){return t},zValueLabel:function(t){return t},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrayBottom:!1,showGrid:!0,showPerspective:!0,showShadow:!1,showSurfaceGrid:!0,keepAspectRatio:!0,rotateAxisLabels:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:Yd,animationInterval:1e3,animationPreload:!1,animationAutoStart:Yd,axisFontSize:14,axisFontType:"arial",axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:Gd.STYLE.DOT,tooltip:!1,tooltipDelay:300,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d",pointerEvents:"none"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px",pointerEvents:"none"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},surfaceColors:Yd,colormap:Yd,cameraPosition:{horizontal:1,vertical:.5,distance:1.7},zoomable:!0,ctrlToZoom:!1,showLegend:Yd,backgroundColor:Yd,xBarWidth:Yd,yBarWidth:Yd,valueMin:Yd,valueMax:Yd,xMin:Yd,xMax:Yd,xStep:Yd,yMin:Yd,yMax:Yd,yStep:Yd,zMin:Yd,zMax:Yd,zStep:Yd},bu(Gd.prototype),Gd.prototype._setScale=function(){this.scale=new ed(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());const t=this.xRange.center()*this.scale.x,e=this.yRange.center()*this.scale.y,n=this.zRange.center()*this.scale.z;this.camera.setArmLocation(t,e,n)},Gd.prototype._convert3Dto2D=function(t){const e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},Gd.prototype._convertPointToTranslation=function(t){const e=this.camera.getCameraLocation(),n=this.camera.getCameraRotation(),r=t.x*this.scale.x,i=t.y*this.scale.y,o=t.z*this.scale.z,a=e.x,s=e.y,u=e.z,c=Math.sin(n.x),l=Math.cos(n.x),h=Math.sin(n.y),f=Math.cos(n.y),p=Math.sin(n.z),d=Math.cos(n.z);return new ed(f*(p*(i-s)+d*(r-a))-h*(o-u),c*(f*(o-u)+h*(p*(i-s)+d*(r-a)))+l*(d*(i-s)-p*(r-a)),l*(f*(o-u)+h*(p*(i-s)+d*(r-a)))-c*(d*(i-s)-p*(r-a)))},Gd.prototype._convertTranslationToScreen=function(t){const e=this.eye.x,n=this.eye.y,r=this.eye.z,i=t.x,o=t.y,a=t.z;let s,u;return this.showPerspective?(s=r/a*(i-e),u=r/a*(o-n)):(s=i*(-r/this.camera.getArmLength()),u=o*(-r/this.camera.getArmLength())),new nd(this.currentXCenter+s*this.frame.canvas.clientWidth,this.currentYCenter-u*this.frame.canvas.clientWidth)},Gd.prototype._calcTranslations=function(t){for(let e=0;e<t.length;e++){const n=t[e];n.trans=this._convertPointToTranslation(n.point),n.screen=this._convertTranslationToScreen(n.trans);const r=this._convertPointToTranslation(n.bottom);n.dist=this.showPerspective?r.length():-r.z}ur(t).call(t,function(t,e){return e.dist-t.dist})},Gd.prototype._initializeRanges=function(){const t=this.dataGroup;this.xRange=t.xRange,this.yRange=t.yRange,this.zRange=t.zRange,this.valueRange=t.valueRange,this.xStep=t.xStep,this.yStep=t.yStep,this.zStep=t.zStep,this.xBarWidth=t.xBarWidth,this.yBarWidth=t.yBarWidth,this.colX=t.colX,this.colY=t.colY,this.colZ=t.colZ,this.colValue=t.colValue,this._setScale()},Gd.prototype.getDataPoints=function(t){const e=[];for(let n=0;n<t.length;n++){const r=new ed;r.x=t[n][this.colX]||0,r.y=t[n][this.colY]||0,r.z=t[n][this.colZ]||0,r.data=t[n],r.value=t[n][this.colValue]||0;const i={};i.point=r,i.bottom=new ed(r.x,r.y,this.zRange.min),i.trans=void 0,i.screen=void 0,e.push(i)}return e},Gd.prototype._getDataPoints=function(t){let e,n,r,i,o=[];if(this.style===Gd.STYLE.GRID||this.style===Gd.STYLE.SURFACE){const a=this.dataGroup.getDistinctValues(this.colX,t),s=this.dataGroup.getDistinctValues(this.colY,t);o=this.getDataPoints(t);const u=[];for(r=0;r<o.length;r++){i=o[r];const t=Fr(a).call(a,i.point.x),e=Fr(s).call(s,i.point.y);void 0===u[t]&&(u[t]=[]),u[t][e]=i}for(e=0;e<u.length;e++)for(n=0;n<u[e].length;n++)u[e][n]&&(u[e][n].pointRight=e<u.length-1?u[e+1][n]:void 0,u[e][n].pointTop=n<u[e].length-1?u[e][n+1]:void 0,u[e][n].pointCross=e<u.length-1&&n<u[e].length-1?u[e+1][n+1]:void 0)}else if(o=this.getDataPoints(t),this.style===Gd.STYLE.LINE)for(r=0;r<o.length;r++)r>0&&(o[r-1].pointNext=o[r]);return o},Gd.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.frame.filter=document.createElement("div"),ci(this.frame).style.position="absolute",ci(this.frame).style.bottom="0px",ci(this.frame).style.left="0px",ci(this.frame).style.width="100%",this.frame.appendChild(ci(this.frame));const t=this;this.frame.canvas.addEventListener("mousedown",function(e){t._onMouseDown(e)}),this.frame.canvas.addEventListener("touchstart",function(e){t._onTouchStart(e)}),this.frame.canvas.addEventListener("mousewheel",function(e){t._onWheel(e)}),this.frame.canvas.addEventListener("mousemove",function(e){t._onTooltip(e)}),this.frame.canvas.addEventListener("click",function(e){t._onClick(e)}),this.containerElement.appendChild(this.frame)},Gd.prototype._setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},Gd.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,ci(this.frame).style.width=this.frame.canvas.clientWidth-20+"px"},Gd.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!ci(this.frame)||!ci(this.frame).slider)throw new Error("No animation available");ci(this.frame).slider.play()}},Gd.prototype.animationStop=function(){ci(this.frame)&&ci(this.frame).slider&&ci(this.frame).slider.stop()},Gd.prototype._resizeCenter=function(){"%"===this.xCenter.charAt(this.xCenter.length-1)?this.currentXCenter=Oi(this.xCenter)/100*this.frame.canvas.clientWidth:this.currentXCenter=Oi(this.xCenter),"%"===this.yCenter.charAt(this.yCenter.length-1)?this.currentYCenter=Oi(this.yCenter)/100*(this.frame.canvas.clientHeight-ci(this.frame).clientHeight):this.currentYCenter=Oi(this.yCenter)},Gd.prototype.getCameraPosition=function(){const t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},Gd.prototype._readData=function(t){this.dataPoints=this.dataGroup.initializeData(this,t,this.style),this._initializeRanges(),this._redrawFilter()},Gd.prototype.setData=function(t){null!=t&&(this._readData(t),this.redraw(),this.animationStart())},Gd.prototype.setOptions=function(t){if(void 0===t)return;!0===td.validate(t,Fd)&&console.error("%cErrors have been found in the supplied options object.",Kp),this.animationStop(),function(t,e){if(void 0!==t){if(void 0===e)throw new Error("No dst passed");if(void 0===Sd||Td(Sd))throw new Error("DEFAULTS not set for module Settings");Ld(t,e,xd),Ld(t,e,_d,"default"),Ad(t,e)}}(t,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setAxisLabelMethod(),this.setData(this.dataGroup.getDataTable()),this.animationStart()},Gd.prototype.setPointDrawingMethod=function(){let t;switch(this.style){case Gd.STYLE.BAR:t=this._redrawBarGraphPoint;break;case Gd.STYLE.BARCOLOR:t=this._redrawBarColorGraphPoint;break;case Gd.STYLE.BARSIZE:t=this._redrawBarSizeGraphPoint;break;case Gd.STYLE.DOT:t=this._redrawDotGraphPoint;break;case Gd.STYLE.DOTLINE:t=this._redrawDotLineGraphPoint;break;case Gd.STYLE.DOTCOLOR:t=this._redrawDotColorGraphPoint;break;case Gd.STYLE.DOTSIZE:t=this._redrawDotSizeGraphPoint;break;case Gd.STYLE.SURFACE:t=this._redrawSurfaceGraphPoint;break;case Gd.STYLE.GRID:t=this._redrawGridGraphPoint;break;case Gd.STYLE.LINE:t=this._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=t},Gd.prototype.setAxisLabelMethod=function(){this.rotateAxisLabels?(this._drawAxisLabelX=this.drawAxisLabelXRotate,this._drawAxisLabelY=this.drawAxisLabelYRotate,this._drawAxisLabelZ=this.drawAxisLabelZRotate):(this._drawAxisLabelX=this.drawAxisLabelX,this._drawAxisLabelY=this.drawAxisLabelY,this._drawAxisLabelZ=this.drawAxisLabelZ)},Gd.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},Gd.prototype._getContext=function(){const t=this.frame.canvas.getContext("2d");return t.lineJoin="round",t.lineCap="round",t},Gd.prototype._redrawClear=function(){const t=this.frame.canvas;t.getContext("2d").clearRect(0,0,t.width,t.height)},Gd.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},Gd.prototype._getLegendWidth=function(){let t;if(this.style===Gd.STYLE.DOTSIZE){t=this._dotSize()*this.dotSizeMaxFraction}else t=this.style===Gd.STYLE.BARSIZE?this.xBarWidth:20;return t},Gd.prototype._redrawLegend=function(){if(!0!==this.showLegend)return;if(this.style===Gd.STYLE.LINE||this.style===Gd.STYLE.BARSIZE)return;const t=this.style===Gd.STYLE.BARSIZE||this.style===Gd.STYLE.DOTSIZE,e=this.style===Gd.STYLE.DOTSIZE||this.style===Gd.STYLE.DOTCOLOR||this.style===Gd.STYLE.SURFACE||this.style===Gd.STYLE.BARCOLOR,n=Math.max(.25*this.frame.clientHeight,100),r=this.margin,i=this._getLegendWidth(),o=this.frame.clientWidth-this.margin,a=o-i,s=r+n,u=this._getContext();if(u.lineWidth=1,u.font="14px arial",!1===t){const t=0,e=n;let s;for(s=t;s<e;s++){const n=1-(s-t)/(e-t),i=this._colormap(n,1);u.strokeStyle=i,u.beginPath(),u.moveTo(a,r+s),u.lineTo(o,r+s),u.stroke()}u.strokeStyle=this.axisColor,u.strokeRect(a,r,i,n)}else{let t;this.style===Gd.STYLE.DOTSIZE?t=i*(this.dotSizeMinFraction/this.dotSizeMaxFraction):(this.style,Gd.STYLE.BARSIZE),u.strokeStyle=this.axisColor,u.fillStyle=Hi(this.dataColor),u.beginPath(),u.moveTo(a,r),u.lineTo(o,r),u.lineTo(a+t,s),u.lineTo(a,s),u.closePath(),Hi(u).call(u),u.stroke()}const c=e?this.valueRange.min:this.zRange.min,l=e?this.valueRange.max:this.zRange.max,h=new id(c,l,(l-c)/5,!0);for(h.start(!0);!h.end();){const t=s-(h.getCurrent()-c)/(l-c)*n,e=new nd(a-5,t),r=new nd(a,t);this._line(u,e,r),u.textAlign="right",u.textBaseline="middle",u.fillStyle=this.axisColor,u.fillText(h.getCurrent(),a-10,t),h.next()}u.textAlign="right",u.textBaseline="top";const f=this.legendLabel;u.fillText(f,o,s+this.margin)},Gd.prototype._redrawFilter=function(){const t=this.dataGroup.dataFilter,e=ci(this.frame);if(e.innerHTML="",!t)return void(e.slider=void 0);const n=new rd(e,{visible:this.showAnimationControls});e.slider=n,e.style.padding="10px",n.setValues(ka(t)),n.setPlayInterval(this.animationInterval);const r=this;n.setOnChangeCallback(function(){const t=r.dataGroup.dataFilter,e=n.getIndex();t.selectValue(e),r.dataPoints=t._getDataPoints(),r.redraw()})},Gd.prototype._redrawSlider=function(){void 0!==ci(this.frame).slider&&ci(this.frame).slider.redraw()},Gd.prototype._redrawInfo=function(){const t=this.dataGroup.getInfo();if(void 0===t)return;const e=this._getContext();e.font="14px arial",e.lineStyle="gray",e.fillStyle="gray",e.textAlign="left",e.textBaseline="top";const n=this.margin,r=this.margin;e.fillText(t,n,r)},Gd.prototype._line=function(t,e,n,r){void 0!==r&&(t.strokeStyle=r),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.stroke()},Gd.prototype.drawAxisLabelX=function(t,e,n,r,i){void 0===i&&(i=0);const o=this._convert3Dto2D(e);Math.cos(2*r)>0?(t.textAlign="center",t.textBaseline="top",o.y+=i):Math.sin(2*r)<0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(n,o.x,o.y)},Gd.prototype.drawAxisLabelY=function(t,e,n,r,i){void 0===i&&(i=0);const o=this._convert3Dto2D(e);Math.cos(2*r)<0?(t.textAlign="center",t.textBaseline="top",o.y+=i):Math.sin(2*r)>0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(n,o.x,o.y)},Gd.prototype.drawAxisLabelZ=function(t,e,n,r){void 0===r&&(r=0);const i=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,i.x-r,i.y)},Gd.prototype.drawAxisLabelXRotate=function(t,e,n,r,i){const o=this._convert3Dto2D(e);Math.cos(2*r)>0?(t.save(),t.translate(o.x,o.y),t.rotate(-Math.PI/2),t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,0,0),t.restore()):Math.sin(2*r)<0?(t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,o.x,o.y)):(t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,o.x,o.y))},Gd.prototype.drawAxisLabelYRotate=function(t,e,n,r,i){const o=this._convert3Dto2D(e);Math.cos(2*r)<0?(t.save(),t.translate(o.x,o.y),t.rotate(-Math.PI/2),t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,0,0),t.restore()):Math.sin(2*r)>0?(t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,o.x,o.y)):(t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,o.x,o.y))},Gd.prototype.drawAxisLabelZRotate=function(t,e,n,r){void 0===r&&(r=0);const i=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,i.x-r,i.y)},Gd.prototype._line3d=function(t,e,n,r){const i=this._convert3Dto2D(e),o=this._convert3Dto2D(n);this._line(t,i,o,r)},Gd.prototype._redrawAxis=function(){const t=this._getContext();let e,n,r,i,o,a,s,u,c,l,h;t.font=this.axisFontSize/this.camera.getArmLength()+"px "+this.axisFontType;const f=.025/this.scale.x,p=.025/this.scale.y,d=5/this.camera.getArmLength(),v=this.camera.getArmRotation().horizontal,m=new nd(Math.cos(v),Math.sin(v)),y=this.xRange,g=this.yRange,b=this.zRange;let w;for(t.lineWidth=1,i=void 0===this.defaultXStep,r=new id(y.min,y.max,this.xStep,i),r.start(!0);!r.end();){const i=r.getCurrent();if(this.showGrid?(e=new ed(i,g.min,b.min),n=new ed(i,g.max,b.min),this._line3d(t,e,n,this.gridColor)):this.showXAxis&&(e=new ed(i,g.min,b.min),n=new ed(i,g.min+f,b.min),this._line3d(t,e,n,this.axisColor),e=new ed(i,g.max,b.min),n=new ed(i,g.max-f,b.min),this._line3d(t,e,n,this.axisColor)),this.showXAxis){s=m.x>0?g.min:g.max,w=new ed(i,s,b.min);const e="  "+this.xValueLabel(i)+"  ";this._drawAxisLabelX.call(this,t,w,e,v,d)}r.next()}for(t.lineWidth=1,i=void 0===this.defaultYStep,r=new id(g.min,g.max,this.yStep,i),r.start(!0);!r.end();){const i=r.getCurrent();if(this.showGrid?(e=new ed(y.min,i,b.min),n=new ed(y.max,i,b.min),this._line3d(t,e,n,this.gridColor)):this.showYAxis&&(e=new ed(y.min,i,b.min),n=new ed(y.min+p,i,b.min),this._line3d(t,e,n,this.axisColor),e=new ed(y.max,i,b.min),n=new ed(y.max-p,i,b.min),this._line3d(t,e,n,this.axisColor)),this.showYAxis){a=m.y>0?y.min:y.max,w=new ed(a,i,b.min);const e="  "+this.yValueLabel(i)+"  ";this._drawAxisLabelY.call(this,t,w,e,v,d)}r.next()}if(this.showZAxis){for(t.lineWidth=1,i=void 0===this.defaultZStep,r=new id(b.min,b.max,this.zStep,i),r.start(!0),a=m.x>0?y.min:y.max,s=m.y<0?g.min:g.max;!r.end();){const e=r.getCurrent(),i=new ed(a,s,e),o=this._convert3Dto2D(i);n=new nd(o.x-d,o.y),this._line(t,o,n,this.axisColor);const u=this.zValueLabel(e)+" ";this._drawAxisLabelZ.call(this,t,i,u,5),r.next()}t.lineWidth=1,e=new ed(a,s,b.min),n=new ed(a,s,b.max),this._line3d(t,e,n,this.axisColor)}if(this.showXAxis){let e,n;t.lineWidth=1,e=new ed(y.min,g.min,b.min),n=new ed(y.max,g.min,b.min),this._line3d(t,e,n,this.axisColor),e=new ed(y.min,g.max,b.min),n=new ed(y.max,g.max,b.min),this._line3d(t,e,n,this.axisColor)}this.showYAxis&&(t.lineWidth=1,e=new ed(y.min,g.min,b.min),n=new ed(y.min,g.max,b.min),this._line3d(t,e,n,this.axisColor),e=new ed(y.max,g.min,b.min),n=new ed(y.max,g.max,b.min),this._line3d(t,e,n,this.axisColor));const x=this.xLabel;x.length>0&&this.showXAxis&&(h=.1/this.scale.y,a=(y.max+3*y.min)/4,s=m.x>0?g.min-h:g.max+h,o=new ed(a,s,b.min),this.drawAxisLabelX(t,o,x,v));const _=this.yLabel;_.length>0&&this.showYAxis&&(l=.1/this.scale.x,a=m.y>0?y.min-l:y.max+l,s=(g.max+3*g.min)/4,o=new ed(a,s,b.min),this.drawAxisLabelY(t,o,_,v));const S=this.zLabel;S.length>0&&this.showZAxis&&(c=30,a=m.x>0?y.min:y.max,s=m.y<0?g.min:g.max,u=(b.max+3*b.min)/4,o=new ed(a,s,u),this.drawAxisLabelZ(t,o,S,30))},Gd.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},Gd.prototype._redrawBar=function(t,e,n,r,i,o){let a;const s=this,u=e.point,c=this.zRange.min,l=[{point:new ed(u.x-n,u.y-r,u.z)},{point:new ed(u.x+n,u.y-r,u.z)},{point:new ed(u.x+n,u.y+r,u.z)},{point:new ed(u.x-n,u.y+r,u.z)}],h=[{point:new ed(u.x-n,u.y-r,c)},{point:new ed(u.x+n,u.y-r,c)},{point:new ed(u.x+n,u.y+r,c)},{point:new ed(u.x-n,u.y+r,c)}];qa(l).call(l,function(t){t.screen=s._convert3Dto2D(t.point)}),qa(h).call(h,function(t){t.screen=s._convert3Dto2D(t.point)});const f=[{corners:l,center:ed.avg(h[0].point,h[2].point)},{corners:[l[0],l[1],h[1],h[0]],center:ed.avg(h[1].point,h[0].point)},{corners:[l[1],l[2],h[2],h[1]],center:ed.avg(h[2].point,h[1].point)},{corners:[l[2],l[3],h[3],h[2]],center:ed.avg(h[3].point,h[2].point)},{corners:[l[3],l[0],h[0],h[3]],center:ed.avg(h[0].point,h[3].point)}];e.surfaces=f;for(let t=0;t<f.length;t++){a=f[t];const e=this._convertPointToTranslation(a.center);a.dist=this.showPerspective?e.length():-e.z}ur(f).call(f,function(t,e){const n=e.dist-t.dist;return n||(t.corners===l?1:e.corners===l?-1:0)}),t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=o,t.fillStyle=i;for(let e=2;e<f.length;e++)a=f[e],this._polygon(t,a.corners)},Gd.prototype._polygon=function(t,e,n,r){if(!(e.length<2)){void 0!==n&&(t.fillStyle=n),void 0!==r&&(t.strokeStyle=r),t.beginPath(),t.moveTo(e[0].screen.x,e[0].screen.y);for(let n=1;n<e.length;++n){const r=e[n];t.lineTo(r.screen.x,r.screen.y)}t.closePath(),Hi(t).call(t),t.stroke()}},Gd.prototype._drawCircle=function(t,e,n,r,i){const o=this._calcRadius(e,i);t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=r,t.fillStyle=n,t.beginPath(),t.arc(e.screen.x,e.screen.y,o,0,2*Math.PI,!0),Hi(t).call(t),t.stroke()},Gd.prototype._getColorsRegular=function(t){const e=(t.point.value-this.valueRange.min)*this.scale.value;return{fill:this._colormap(e,1),border:this._colormap(e,.8)}},Gd.prototype._getColorsColor=function(t){let e,n,r;if(t&&t.point&&t.point.data&&t.point.data.style&&(r=t.point.data.style),r&&"object"==typeof r&&Hi(r)&&r.stroke)return{fill:Hi(r),border:r.stroke};if("string"==typeof t.point.value)e=t.point.value,n=t.point.value;else{const r=(t.point.value-this.valueRange.min)*this.scale.value;e=this._colormap(r,1),n=this._colormap(r,.8)}return{fill:e,border:n}},Gd.prototype._getColorsSize=function(){return{fill:Hi(this.dataColor),border:this.dataColor.stroke}},Gd.prototype._colormap=function(t){let e,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const a=this.colormap;if(os(a)){const i=a.length-1,o=Math.max(Math.floor(t*i),0),s=Math.min(o+1,i),u=t*i-o,c=a[o],l=a[s];e=c.r+u*(l.r-c.r),n=c.g+u*(l.g-c.g),r=c.b+u*(l.b-c.b)}else if("function"==typeof a)({r:e,g:n,b:r,a:i}=a(t));else{const i=240*(1-t);({r:e,g:n,b:r}=qp(i/360,1,1))}var s,u,c,l,h;return"number"!=typeof i||xs(i)?ks(s=ks(u="RGB(".concat(Math.round(e*o),", ")).call(u,Math.round(n*o),", ")).call(s,Math.round(r*o),")"):ks(c=ks(l=ks(h="RGBA(".concat(Math.round(e*o),", ")).call(h,Math.round(n*o),", ")).call(l,Math.round(r*o),", ")).call(c,i,")")},Gd.prototype._calcRadius=function(t,e){let n;return void 0===e&&(e=this._dotSize()),n=this.showPerspective?e/-t.trans.z:e*(-this.eye.z/this.camera.getArmLength()),n<0&&(n=0),n},Gd.prototype._redrawBarGraphPoint=function(t,e){const n=this.xBarWidth/2,r=this.yBarWidth/2,i=this._getColorsRegular(e);this._redrawBar(t,e,n,r,Hi(i),i.border)},Gd.prototype._redrawBarColorGraphPoint=function(t,e){const n=this.xBarWidth/2,r=this.yBarWidth/2,i=this._getColorsColor(e);this._redrawBar(t,e,n,r,Hi(i),i.border)},Gd.prototype._redrawBarSizeGraphPoint=function(t,e){const n=(e.point.value-this.valueRange.min)/this.valueRange.range(),r=this.xBarWidth/2*(.8*n+.2),i=this.yBarWidth/2*(.8*n+.2),o=this._getColorsSize();this._redrawBar(t,e,r,i,Hi(o),o.border)},Gd.prototype._redrawDotGraphPoint=function(t,e){const n=this._getColorsRegular(e);this._drawCircle(t,e,Hi(n),n.border)},Gd.prototype._redrawDotLineGraphPoint=function(t,e){const n=this._convert3Dto2D(e.bottom);t.lineWidth=1,this._line(t,n,e.screen,this.gridColor),this._redrawDotGraphPoint(t,e)},Gd.prototype._redrawDotColorGraphPoint=function(t,e){const n=this._getColorsColor(e);this._drawCircle(t,e,Hi(n),n.border)},Gd.prototype._redrawDotSizeGraphPoint=function(t,e){const n=this._dotSize(),r=(e.point.value-this.valueRange.min)/this.valueRange.range(),i=n*this.dotSizeMinFraction,o=i+(n*this.dotSizeMaxFraction-i)*r,a=this._getColorsSize();this._drawCircle(t,e,Hi(a),a.border,o)},Gd.prototype._redrawSurfaceGraphPoint=function(t,e){const n=e.pointRight,r=e.pointTop,i=e.pointCross;if(void 0===e||void 0===n||void 0===r||void 0===i)return;let o,a,s,u=!0;if(this.showGrayBottom||this.showShadow){const t=ed.subtract(i.trans,e.trans),o=ed.subtract(r.trans,n.trans),a=ed.crossProduct(t,o);if(this.showPerspective){const t=ed.avg(ed.avg(e.trans,i.trans),ed.avg(n.trans,r.trans));s=-ed.dotProduct(a.normalize(),t.normalize())}else s=a.z/a.length();u=s>0}if(u||!this.showGrayBottom){const t=((e.point.value+n.point.value+r.point.value+i.point.value)/4-this.valueRange.min)*this.scale.value,a=this.showShadow?(1+s)/2:1;o=this._colormap(t,a)}else o="gray";a=this.showSurfaceGrid?this.axisColor:o,t.lineWidth=this._getStrokeWidth(e);const c=[e,n,i,r];this._polygon(t,c,o,a)},Gd.prototype._drawGridLine=function(t,e,n){if(void 0===e||void 0===n)return;const r=((e.point.value+n.point.value)/2-this.valueRange.min)*this.scale.value;t.lineWidth=2*this._getStrokeWidth(e),t.strokeStyle=this._colormap(r,1),this._line(t,e.screen,n.screen)},Gd.prototype._redrawGridGraphPoint=function(t,e){this._drawGridLine(t,e,e.pointRight),this._drawGridLine(t,e,e.pointTop)},Gd.prototype._redrawLineGraphPoint=function(t,e){void 0!==e.pointNext&&(t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=this.dataColor.stroke,this._line(t,e.screen,e.pointNext.screen))},Gd.prototype._redrawDataGraph=function(){const t=this._getContext();let e;if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),e=0;e<this.dataPoints.length;e++){const n=this.dataPoints[e];this._pointDrawingMethod.call(this,t,n)}},Gd.prototype._storeMousePosition=function(t){this.startMouseX=Xd(t),this.startMouseY=Vd(t),this._startCameraOffset=this.camera.getOffset()},Gd.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,!this.leftButtonDown&&!this.touchDown)return;this._storeMousePosition(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";const e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},document.addEventListener("mousemove",e.onmousemove),document.addEventListener("mouseup",e.onmouseup),Hp(t)},Gd.prototype._onMouseMove=function(t){this.moving=!0,t=t||window.event;const e=Oi(Xd(t))-this.startMouseX,n=Oi(Vd(t))-this.startMouseY;if(t&&!0===t.ctrlKey){const r=.5*this.frame.clientWidth,i=.5*this.frame.clientHeight,o=(this._startCameraOffset.x||0)-e/r*this.camera.armLength*.8,a=(this._startCameraOffset.y||0)+n/i*this.camera.armLength*.8;this.camera.setOffset(o,a),this._storeMousePosition(t)}else{let t=this.startArmRotation.horizontal+e/200,r=this.startArmRotation.vertical+n/200;const i=4,o=Math.sin(i/360*2*Math.PI);Math.abs(Math.sin(t))<o&&(t=Math.round(t/Math.PI)*Math.PI-.001),Math.abs(Math.cos(t))<o&&(t=(Math.round(t/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(r))<o&&(r=Math.round(r/Math.PI)*Math.PI),Math.abs(Math.cos(r))<o&&(r=(Math.round(r/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(t,r)}this.redraw();const r=this.getCameraPosition();this.emit("cameraPositionChange",r),Hp(t)},Gd.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,document.removeEventListener("mousemove",this.onmousemove),document.removeEventListener("mouseup",this.onmouseup),Hp(t)},Gd.prototype._onClick=function(t){if(this.onclick_callback||this.hasListeners("click")){if(this.moving)this.moving=!1;else{const e=this.frame.getBoundingClientRect(),n=Xd(t)-e.left,r=Vd(t)-e.top,i=this._dataPointFromXY(n,r);i&&(this.onclick_callback&&this.onclick_callback(i.point.data),this.emit("click",i.point.data))}Hp(t)}},Gd.prototype._onTooltip=function(t){const e=this.tooltipDelay,n=this.frame.getBoundingClientRect(),r=Xd(t)-n.left,i=Vd(t)-n.top;if(this.showTooltip)if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)this._hideTooltip();else if(this.tooltip&&this.tooltip.dataPoint){const t=this._dataPointFromXY(r,i);t!==this.tooltip.dataPoint&&(t?this._showTooltip(t):this._hideTooltip())}else{const t=this;this.tooltipTimeout=su(function(){t.tooltipTimeout=null;const e=t._dataPointFromXY(r,i);e&&t._showTooltip(e)},e)}},Gd.prototype._onTouchStart=function(t){this.touchDown=!0;const e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},document.addEventListener("touchmove",e.ontouchmove),document.addEventListener("touchend",e.ontouchend),this._onMouseDown(t)},Gd.prototype._onTouchMove=function(t){this._onMouseMove(t)},Gd.prototype._onTouchEnd=function(t){this.touchDown=!1,document.removeEventListener("touchmove",this.ontouchmove),document.removeEventListener("touchend",this.ontouchend),this._onMouseUp(t)},Gd.prototype._onWheel=function(t){if(t||(t=window.event),this.zoomable&&(!this.ctrlToZoom||t.ctrlKey)){let e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){const t=this.camera.getArmLength()*(1-e/10);this.camera.setArmLength(t),this.redraw(),this._hideTooltip()}const n=this.getCameraPosition();this.emit("cameraPositionChange",n),Hp(t)}},Gd.prototype._insideTriangle=function(t,e){const n=e[0],r=e[1],i=e[2];function o(t){return t>0?1:t<0?-1:0}const a=o((r.x-n.x)*(t.y-n.y)-(r.y-n.y)*(t.x-n.x)),s=o((i.x-r.x)*(t.y-r.y)-(i.y-r.y)*(t.x-r.x)),u=o((n.x-i.x)*(t.y-i.y)-(n.y-i.y)*(t.x-i.x));return!(0!=a&&0!=s&&a!=s||0!=s&&0!=u&&s!=u||0!=a&&0!=u&&a!=u)},Gd.prototype._dataPointFromXY=function(t,e){const n=new nd(t,e);let r,i=null,o=null,a=null;if(this.style===Gd.STYLE.BAR||this.style===Gd.STYLE.BARCOLOR||this.style===Gd.STYLE.BARSIZE)for(r=this.dataPoints.length-1;r>=0;r--){i=this.dataPoints[r];const t=i.surfaces;if(t)for(let e=t.length-1;e>=0;e--){const r=t[e].corners,o=[r[0].screen,r[1].screen,r[2].screen],a=[r[2].screen,r[3].screen,r[0].screen];if(this._insideTriangle(n,o)||this._insideTriangle(n,a))return i}}else for(r=0;r<this.dataPoints.length;r++){i=this.dataPoints[r];const n=i.screen;if(n){const r=Math.abs(t-n.x),s=Math.abs(e-n.y),u=Math.sqrt(r*r+s*s);(null===a||u<a)&&u<100&&(a=u,o=i)}}return o},Gd.prototype.hasBars=function(t){return t==Gd.STYLE.BAR||t==Gd.STYLE.BARCOLOR||t==Gd.STYLE.BARSIZE},Gd.prototype._showTooltip=function(t){let e,n,r;this.tooltip?(e=this.tooltip.dom.content,n=this.tooltip.dom.line,r=this.tooltip.dom.dot):(e=document.createElement("div"),vu(e.style,{},this.tooltipStyle.content),e.style.position="absolute",n=document.createElement("div"),vu(n.style,{},this.tooltipStyle.line),n.style.position="absolute",r=document.createElement("div"),vu(r.style,{},this.tooltipStyle.dot),r.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:e,line:n,dot:r}}),this._hideTooltip(),this.tooltip.dataPoint=t,"function"==typeof this.showTooltip?e.innerHTML=this.showTooltip(t.point):e.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(n),this.frame.appendChild(r);const i=e.offsetWidth,o=e.offsetHeight,a=n.offsetHeight,s=r.offsetWidth,u=r.offsetHeight;let c=t.screen.x-i/2;c=Math.min(Math.max(c,10),this.frame.clientWidth-10-i),n.style.left=t.screen.x+"px",n.style.top=t.screen.y-a+"px",e.style.left=c+"px",e.style.top=t.screen.y-a-o+"px",r.style.left=t.screen.x-s/2+"px",r.style.top=t.screen.y-u/2+"px"},Gd.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(const t in this.tooltip.dom)if(Object.prototype.hasOwnProperty.call(this.tooltip.dom,t)){const e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}}},Gd.prototype.setCameraPosition=function(t){Md(t,this),this.redraw()},Gd.prototype.setSize=function(t,e){this._setSize(t,e),this.redraw()},t.Graph3d=Gd,t.Graph3dCamera=gd,t.Graph3dFilter=Bd,t.Graph3dPoint2d=nd,t.Graph3dPoint3d=ed,t.Graph3dSlider=rd,t.Graph3dStepNumber=id});
//# sourceMappingURL=vis-graph3d.min.cjs.map

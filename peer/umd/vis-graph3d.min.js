/**
 * vis-graph3d
 * https://visjs.github.io/vis-graph3d/
 *
 * Create interactive, animated 3d graphs. Surfaces, lines, dots and block styling out of the box.
 *
 * @version 0.0.0-no-version
 * @date    2025-07-01T16:01:55.889Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("vis-data/peer/umd/vis-data.js")):"function"==typeof define&&define.amd?define(["exports","vis-data/peer/umd/vis-data.js"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).vis=t.vis||{},t.vis)}(this,(function(t,e){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o=function(t){try{return!!t()}catch(t){return!0}},r=!o((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),s=r,a=Function.prototype,c=a.call,l=s&&a.bind.bind(c,c),h=s?l:function(t){return function(){return c.apply(t,arguments)}},u=h({}.isPrototypeOf),f=function(t){return t&&t.Math===Math&&t},p=f("object"==typeof globalThis&&globalThis)||f("object"==typeof window&&window)||f("object"==typeof self&&self)||f("object"==typeof n&&n)||function(){return this}()||n||Function("return this")(),d=r,m=Function.prototype,y=m.apply,v=m.call,g="object"==typeof Reflect&&Reflect.apply||(d?v.bind(y):function(){return v.apply(y,arguments)}),b=h,x=b({}.toString),w=b("".slice),_=function(t){return w(x(t),8,-1)},S=_,T=h,L=function(t){if("Function"===S(t))return T(t)},C="object"==typeof document&&document.all,E={all:C,IS_HTMLDDA:void 0===C&&void 0!==C},A=E.all,P=E.IS_HTMLDDA?function(t){return"function"==typeof t||t===A}:function(t){return"function"==typeof t},M={},O=!o((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),D=r,R=Function.prototype.call,z=D?R.bind(R):function(){return R.apply(R,arguments)},k={},I={}.propertyIsEnumerable,j=Object.getOwnPropertyDescriptor,F=j&&!I.call({1:2},1);k.f=F?function(t){var e=j(this,t);return!!e&&e.enumerable}:I;var B,N,W=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Y=o,G=_,X=Object,V=h("".split),U=Y((function(){return!X("z").propertyIsEnumerable(0)}))?function(t){return"String"===G(t)?V(t,""):X(t)}:X,Z=function(t){return null==t},H=Z,q=TypeError,J=function(t){if(H(t))throw new q("Can't call method on "+t);return t},$=U,Q=J,K=function(t){return $(Q(t))},tt=P,et=E.all,nt=E.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:tt(t)||t===et}:function(t){return"object"==typeof t?null!==t:tt(t)},it={},ot=it,rt=p,st=P,at=function(t){return st(t)?t:void 0},ct=function(t,e){return arguments.length<2?at(ot[t])||at(rt[t]):ot[t]&&ot[t][e]||rt[t]&&rt[t][e]},lt="undefined"!=typeof navigator&&String(navigator.userAgent)||"",ht=p,ut=lt,ft=ht.process,pt=ht.Deno,dt=ft&&ft.versions||pt&&pt.version,mt=dt&&dt.v8;mt&&(N=(B=mt.split("."))[0]>0&&B[0]<4?1:+(B[0]+B[1])),!N&&ut&&(!(B=ut.match(/Edge\/(\d+)/))||B[1]>=74)&&(B=ut.match(/Chrome\/(\d+)/))&&(N=+B[1]);var yt=N,vt=yt,gt=o,bt=p.String,xt=!!Object.getOwnPropertySymbols&&!gt((function(){var t=Symbol("symbol detection");return!bt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&vt&&vt<41})),wt=xt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,_t=ct,St=P,Tt=u,Lt=Object,Ct=wt?function(t){return"symbol"==typeof t}:function(t){var e=_t("Symbol");return St(e)&&Tt(e.prototype,Lt(t))},Et=String,At=function(t){try{return Et(t)}catch(t){return"Object"}},Pt=P,Mt=At,Ot=TypeError,Dt=function(t){if(Pt(t))return t;throw new Ot(Mt(t)+" is not a function")},Rt=Dt,zt=Z,kt=z,It=P,jt=nt,Ft=TypeError,Bt={exports:{}},Nt=p,Wt=Object.defineProperty,Yt=function(t,e){try{Wt(Nt,t,{value:e,configurable:!0,writable:!0})}catch(n){Nt[t]=e}return e},Gt="__core-js_shared__",Xt=p[Gt]||Yt(Gt,{}),Vt=Xt;(Bt.exports=function(t,e){return Vt[t]||(Vt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var Ut=Bt.exports,Zt=J,Ht=Object,qt=function(t){return Ht(Zt(t))},Jt=qt,$t=h({}.hasOwnProperty),Qt=Object.hasOwn||function(t,e){return $t(Jt(t),e)},Kt=h,te=0,ee=Math.random(),ne=Kt(1..toString),ie=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ne(++te+ee,36)},oe=Ut,re=Qt,se=ie,ae=xt,ce=wt,le=p.Symbol,he=oe("wks"),ue=ce?le.for||le:le&&le.withoutSetter||se,fe=function(t){return re(he,t)||(he[t]=ae&&re(le,t)?le[t]:ue("Symbol."+t)),he[t]},pe=z,de=nt,me=Ct,ye=function(t,e){var n=t[e];return zt(n)?void 0:Rt(n)},ve=function(t,e){var n,i;if("string"===e&&It(n=t.toString)&&!jt(i=kt(n,t)))return i;if(It(n=t.valueOf)&&!jt(i=kt(n,t)))return i;if("string"!==e&&It(n=t.toString)&&!jt(i=kt(n,t)))return i;throw new Ft("Can't convert object to primitive value")},ge=TypeError,be=fe("toPrimitive"),xe=function(t,e){if(!de(t)||me(t))return t;var n,i=ye(t,be);if(i){if(void 0===e&&(e="default"),n=pe(i,t,e),!de(n)||me(n))return n;throw new ge("Can't convert object to primitive value")}return void 0===e&&(e="number"),ve(t,e)},we=Ct,_e=function(t){var e=xe(t,"string");return we(e)?e:e+""},Se=nt,Te=p.document,Le=Se(Te)&&Se(Te.createElement),Ce=function(t){return Le?Te.createElement(t):{}},Ee=Ce,Ae=!O&&!o((function(){return 7!==Object.defineProperty(Ee("div"),"a",{get:function(){return 7}}).a})),Pe=O,Me=z,Oe=k,De=W,Re=K,ze=_e,ke=Qt,Ie=Ae,je=Object.getOwnPropertyDescriptor;M.f=Pe?je:function(t,e){if(t=Re(t),e=ze(e),Ie)try{return je(t,e)}catch(t){}if(ke(t,e))return De(!Me(Oe.f,t,e),t[e])};var Fe=o,Be=P,Ne=/#|\.prototype\./,We=function(t,e){var n=Ge[Ye(t)];return n===Ve||n!==Xe&&(Be(e)?Fe(e):!!e)},Ye=We.normalize=function(t){return String(t).replace(Ne,".").toLowerCase()},Ge=We.data={},Xe=We.NATIVE="N",Ve=We.POLYFILL="P",Ue=We,Ze=Dt,He=r,qe=L(L.bind),Je=function(t,e){return Ze(t),void 0===e?t:He?qe(t,e):function(){return t.apply(e,arguments)}},$e={},Qe=O&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ke=nt,tn=String,en=TypeError,nn=function(t){if(Ke(t))return t;throw new en(tn(t)+" is not an object")},on=O,rn=Ae,sn=Qe,an=nn,cn=_e,ln=TypeError,hn=Object.defineProperty,un=Object.getOwnPropertyDescriptor,fn="enumerable",pn="configurable",dn="writable";$e.f=on?sn?function(t,e,n){if(an(t),e=cn(e),an(n),"function"==typeof t&&"prototype"===e&&"value"in n&&dn in n&&!n[dn]){var i=un(t,e);i&&i[dn]&&(t[e]=n.value,n={configurable:pn in n?n[pn]:i[pn],enumerable:fn in n?n[fn]:i[fn],writable:!1})}return hn(t,e,n)}:hn:function(t,e,n){if(an(t),e=cn(e),an(n),rn)try{return hn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new ln("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var mn=$e,yn=W,vn=O?function(t,e,n){return mn.f(t,e,yn(1,n))}:function(t,e,n){return t[e]=n,t},gn=p,bn=g,xn=L,wn=P,_n=M.f,Sn=Ue,Tn=it,Ln=Je,Cn=vn,En=Qt,An=function(t){var e=function(n,i,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,i)}return new t(n,i,o)}return bn(t,this,arguments)};return e.prototype=t.prototype,e},Pn=function(t,e){var n,i,o,r,s,a,c,l,h,u=t.target,f=t.global,p=t.stat,d=t.proto,m=f?gn:p?gn[u]:(gn[u]||{}).prototype,y=f?Tn:Tn[u]||Cn(Tn,u,{})[u],v=y.prototype;for(r in e)i=!(n=Sn(f?r:u+(p?".":"#")+r,t.forced))&&m&&En(m,r),a=y[r],i&&(c=t.dontCallGetSet?(h=_n(m,r))&&h.value:m[r]),s=i&&c?c:e[r],i&&typeof a==typeof s||(l=t.bind&&i?Ln(s,gn):t.wrap&&i?An(s):d&&wn(s)?xn(s):s,(t.sham||s&&s.sham||a&&a.sham)&&Cn(l,"sham",!0),Cn(y,r,l),d&&(En(Tn,o=u+"Prototype")||Cn(Tn,o,{}),Cn(Tn[o],r,s),t.real&&v&&(n||!v[r])&&Cn(v,r,s)))},Mn=Math.ceil,On=Math.floor,Dn=Math.trunc||function(t){var e=+t;return(e>0?On:Mn)(e)},Rn=function(t){var e=+t;return e!=e||0===e?0:Dn(e)},zn=Rn,kn=Math.min,In=function(t){return t>0?kn(zn(t),9007199254740991):0},jn=function(t){return In(t.length)},Fn=At,Bn=TypeError,Nn=function(t,e){if(!delete t[e])throw new Bn("Cannot delete property "+Fn(e)+" of "+Fn(t))},Wn={};Wn[fe("toStringTag")]="z";var Yn="[object z]"===String(Wn),Gn=Yn,Xn=P,Vn=_,Un=fe("toStringTag"),Zn=Object,Hn="Arguments"===Vn(function(){return arguments}()),qn=Gn?Vn:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Zn(t),Un))?n:Hn?Vn(e):"Object"===(i=Vn(e))&&Xn(e.callee)?"Arguments":i},Jn=qn,$n=String,Qn=function(t){if("Symbol"===Jn(t))throw new TypeError("Cannot convert a Symbol value to a string");return $n(t)},Kn=Rn,ti=Math.max,ei=Math.min,ni=function(t,e){var n=Kn(t);return n<0?ti(n+e,0):ei(n,e)},ii=_e,oi=$e,ri=W,si=function(t,e,n){var i=ii(e);i in t?oi.f(t,i,ri(0,n)):t[i]=n},ai=ni,ci=jn,li=si,hi=Array,ui=Math.max,fi=function(t,e,n){for(var i=ci(t),o=ai(e,i),r=ai(void 0===n?i:n,i),s=hi(ui(r-o,0)),a=0;o<r;o++,a++)li(s,a,t[o]);return s.length=a,s},pi=fi,di=Math.floor,mi=function(t,e){var n=t.length,i=di(n/2);return n<8?yi(t,e):vi(t,mi(pi(t,0,i),e),mi(pi(t,i),e),e)},yi=function(t,e){for(var n,i,o=t.length,r=1;r<o;){for(i=r,n=t[r];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==r++&&(t[i]=n)}return t},vi=function(t,e,n,i){for(var o=e.length,r=n.length,s=0,a=0;s<o||a<r;)t[s+a]=s<o&&a<r?i(e[s],n[a])<=0?e[s++]:n[a++]:s<o?e[s++]:n[a++];return t},gi=mi,bi=o,xi=function(t,e){var n=[][t];return!!n&&bi((function(){n.call(null,e||function(){return 1},1)}))},wi=lt.match(/firefox\/(\d+)/i),_i=!!wi&&+wi[1],Si=/MSIE|Trident/.test(lt),Ti=lt.match(/AppleWebKit\/(\d+)\./),Li=!!Ti&&+Ti[1],Ci=Pn,Ei=h,Ai=Dt,Pi=qt,Mi=jn,Oi=Nn,Di=Qn,Ri=o,zi=gi,ki=xi,Ii=_i,ji=Si,Fi=yt,Bi=Li,Ni=[],Wi=Ei(Ni.sort),Yi=Ei(Ni.push),Gi=Ri((function(){Ni.sort(void 0)})),Xi=Ri((function(){Ni.sort(null)})),Vi=ki("sort"),Ui=!Ri((function(){if(Fi)return Fi<70;if(!(Ii&&Ii>3)){if(ji)return!0;if(Bi)return Bi<603;var t,e,n,i,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)Ni.push({k:e+i,v:n})}for(Ni.sort((function(t,e){return e.v-t.v})),i=0;i<Ni.length;i++)e=Ni[i].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));Ci({target:"Array",proto:!0,forced:Gi||!Xi||!Vi||!Ui},{sort:function(t){void 0!==t&&Ai(t);var e=Pi(this);if(Ui)return void 0===t?Wi(e):Wi(e,t);var n,i,o=[],r=Mi(e);for(i=0;i<r;i++)i in e&&Yi(o,e[i]);for(zi(o,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:Di(e)>Di(n)?1:-1}}(t)),n=Mi(o),i=0;i<n;)e[i]=o[i++];for(;i<r;)Oi(e,i++);return e}});var Zi=p,Hi=it,qi=function(t,e){var n=Hi[t+"Prototype"],i=n&&n[e];if(i)return i;var o=Zi[t],r=o&&o.prototype;return r&&r[e]},Ji=qi("Array","sort"),$i=u,Qi=Ji,Ki=Array.prototype,to=i((function(t){var e=t.sort;return t===Ki||$i(Ki,t)&&e===Ki.sort?Qi:e})),eo=K,no=ni,io=jn,oo=function(t){return function(e,n,i){var o,r=eo(e),s=io(r),a=no(i,s);if(t&&n!=n){for(;s>a;)if((o=r[a++])!=o)return!0}else for(;s>a;a++)if((t||a in r)&&r[a]===n)return t||a||0;return!t&&-1}},ro={includes:oo(!0),indexOf:oo(!1)},so=Pn,ao=ro.indexOf,co=xi,lo=L([].indexOf),ho=!!lo&&1/lo([1],1,-0)<0;so({target:"Array",proto:!0,forced:ho||!co("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return ho?lo(this,t,e)||0:ao(this,t,e)}});var uo=qi("Array","indexOf"),fo=u,po=uo,mo=Array.prototype,yo=i((function(t){var e=t.indexOf;return t===mo||fo(mo,t)&&e===mo.indexOf?po:e})),vo=_,go=Array.isArray||function(t){return"Array"===vo(t)},bo=P,xo=Xt,wo=h(Function.toString);bo(xo.inspectSource)||(xo.inspectSource=function(t){return wo(t)});var _o=xo.inspectSource,So=h,To=o,Lo=P,Co=qn,Eo=_o,Ao=function(){},Po=[],Mo=ct("Reflect","construct"),Oo=/^\s*(?:class|function)\b/,Do=So(Oo.exec),Ro=!Oo.test(Ao),zo=function(t){if(!Lo(t))return!1;try{return Mo(Ao,Po,t),!0}catch(t){return!1}},ko=function(t){if(!Lo(t))return!1;switch(Co(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ro||!!Do(Oo,Eo(t))}catch(t){return!0}};ko.sham=!0;var Io=!Mo||To((function(){var t;return zo(zo.call)||!zo(Object)||!zo((function(){t=!0}))||t}))?ko:zo,jo=go,Fo=Io,Bo=nt,No=fe("species"),Wo=Array,Yo=function(t){var e;return jo(t)&&(e=t.constructor,(Fo(e)&&(e===Wo||jo(e.prototype))||Bo(e)&&null===(e=e[No]))&&(e=void 0)),void 0===e?Wo:e},Go=function(t,e){return new(Yo(t))(0===e?0:e)},Xo=Je,Vo=U,Uo=qt,Zo=jn,Ho=Go,qo=h([].push),Jo=function(t){var e=1===t,n=2===t,i=3===t,o=4===t,r=6===t,s=7===t,a=5===t||r;return function(c,l,h,u){for(var f,p,d=Uo(c),m=Vo(d),y=Xo(l,h),v=Zo(m),g=0,b=u||Ho,x=e?b(c,v):n||s?b(c,0):void 0;v>g;g++)if((a||g in m)&&(p=y(f=m[g],g,d),t))if(e)x[g]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return g;case 2:qo(x,f)}else switch(t){case 4:return!1;case 7:qo(x,f)}return r?-1:i||o?o:x}},$o={forEach:Jo(0),map:Jo(1),filter:Jo(2),some:Jo(3),every:Jo(4),find:Jo(5),findIndex:Jo(6),filterReject:Jo(7)},Qo=o,Ko=yt,tr=fe("species"),er=function(t){return Ko>=51||!Qo((function(){var e=[];return(e.constructor={})[tr]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},nr=$o.filter;Pn({target:"Array",proto:!0,forced:!er("filter")},{filter:function(t){return nr(this,t,arguments.length>1?arguments[1]:void 0)}});var ir=qi("Array","filter"),or=u,rr=ir,sr=Array.prototype,ar=i((function(t){var e=t.filter;return t===sr||or(sr,t)&&e===sr.filter?rr:e})),cr="\t\n\v\f\r                　\u2028\u2029\ufeff",lr=J,hr=Qn,ur=cr,fr=h("".replace),pr=RegExp("^["+ur+"]+"),dr=RegExp("(^|[^"+ur+"])["+ur+"]+$"),mr=function(t){return function(e){var n=hr(lr(e));return 1&t&&(n=fr(n,pr,"")),2&t&&(n=fr(n,dr,"$1")),n}},yr={start:mr(1),end:mr(2),trim:mr(3)},vr=p,gr=o,br=Qn,xr=yr.trim,wr=cr,_r=h("".charAt),Sr=vr.parseFloat,Tr=vr.Symbol,Lr=Tr&&Tr.iterator,Cr=1/Sr(wr+"-0")!=-1/0||Lr&&!gr((function(){Sr(Object(Lr))}))?function(t){var e=xr(br(t)),n=Sr(e);return 0===n&&"-"===_r(e,0)?-0:n}:Sr;Pn({global:!0,forced:parseFloat!==Cr},{parseFloat:Cr});var Er=i(it.parseFloat),Ar=qt,Pr=ni,Mr=jn,Or=function(t){for(var e=Ar(this),n=Mr(e),i=arguments.length,o=Pr(i>1?arguments[1]:void 0,n),r=i>2?arguments[2]:void 0,s=void 0===r?n:Pr(r,n);s>o;)e[o++]=t;return e};Pn({target:"Array",proto:!0},{fill:Or});var Dr,Rr,zr,kr=qi("Array","fill"),Ir=u,jr=kr,Fr=Array.prototype,Br=i((function(t){var e=t.fill;return t===Fr||Ir(Fr,t)&&e===Fr.fill?jr:e})),Nr={},Wr=P,Yr=p.WeakMap,Gr=Wr(Yr)&&/native code/.test(String(Yr)),Xr=ie,Vr=Ut("keys"),Ur=function(t){return Vr[t]||(Vr[t]=Xr(t))},Zr={},Hr=Gr,qr=p,Jr=nt,$r=vn,Qr=Qt,Kr=Xt,ts=Ur,es=Zr,ns="Object already initialized",is=qr.TypeError,os=qr.WeakMap;if(Hr||Kr.state){var rs=Kr.state||(Kr.state=new os);rs.get=rs.get,rs.has=rs.has,rs.set=rs.set,Dr=function(t,e){if(rs.has(t))throw new is(ns);return e.facade=t,rs.set(t,e),e},Rr=function(t){return rs.get(t)||{}},zr=function(t){return rs.has(t)}}else{var ss=ts("state");es[ss]=!0,Dr=function(t,e){if(Qr(t,ss))throw new is(ns);return e.facade=t,$r(t,ss,e),e},Rr=function(t){return Qr(t,ss)?t[ss]:{}},zr=function(t){return Qr(t,ss)}}var as={set:Dr,get:Rr,has:zr,enforce:function(t){return zr(t)?Rr(t):Dr(t,{})},getterFor:function(t){return function(e){var n;if(!Jr(e)||(n=Rr(e)).type!==t)throw new is("Incompatible receiver, "+t+" required");return n}}},cs=O,ls=Qt,hs=Function.prototype,us=cs&&Object.getOwnPropertyDescriptor,fs=ls(hs,"name"),ps={EXISTS:fs,PROPER:fs&&"something"===function(){}.name,CONFIGURABLE:fs&&(!cs||cs&&us(hs,"name").configurable)},ds={},ms=Qt,ys=K,vs=ro.indexOf,gs=Zr,bs=h([].push),xs=function(t,e){var n,i=ys(t),o=0,r=[];for(n in i)!ms(gs,n)&&ms(i,n)&&bs(r,n);for(;e.length>o;)ms(i,n=e[o++])&&(~vs(r,n)||bs(r,n));return r},ws=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_s=xs,Ss=ws,Ts=Object.keys||function(t){return _s(t,Ss)},Ls=O,Cs=Qe,Es=$e,As=nn,Ps=K,Ms=Ts;ds.f=Ls&&!Cs?Object.defineProperties:function(t,e){As(t);for(var n,i=Ps(e),o=Ms(e),r=o.length,s=0;r>s;)Es.f(t,n=o[s++],i[n]);return t};var Os,Ds=ct("document","documentElement"),Rs=nn,zs=ds,ks=ws,Is=Zr,js=Ds,Fs=Ce,Bs="prototype",Ns="script",Ws=Ur("IE_PROTO"),Ys=function(){},Gs=function(t){return"<"+Ns+">"+t+"</"+Ns+">"},Xs=function(t){t.write(Gs("")),t.close();var e=t.parentWindow.Object;return t=null,e},Vs=function(){try{Os=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;Vs="undefined"!=typeof document?document.domain&&Os?Xs(Os):(e=Fs("iframe"),n="java"+Ns+":",e.style.display="none",js.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(Gs("document.F=Object")),t.close(),t.F):Xs(Os);for(var i=ks.length;i--;)delete Vs[Bs][ks[i]];return Vs()};Is[Ws]=!0;var Us,Zs,Hs,qs=Object.create||function(t,e){var n;return null!==t?(Ys[Bs]=Rs(t),n=new Ys,Ys[Bs]=null,n[Ws]=t):n=Vs(),void 0===e?n:zs.f(n,e)},Js=!o((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),$s=Qt,Qs=P,Ks=qt,ta=Js,ea=Ur("IE_PROTO"),na=Object,ia=na.prototype,oa=ta?na.getPrototypeOf:function(t){var e=Ks(t);if($s(e,ea))return e[ea];var n=e.constructor;return Qs(n)&&e instanceof n?n.prototype:e instanceof na?ia:null},ra=vn,sa=function(t,e,n,i){return i&&i.enumerable?t[e]=n:ra(t,e,n),t},aa=o,ca=P,la=nt,ha=qs,ua=oa,fa=sa,pa=fe("iterator"),da=!1;[].keys&&("next"in(Hs=[].keys())?(Zs=ua(ua(Hs)))!==Object.prototype&&(Us=Zs):da=!0);var ma=!la(Us)||aa((function(){var t={};return Us[pa].call(t)!==t}));ca((Us=ma?{}:ha(Us))[pa])||fa(Us,pa,(function(){return this}));var ya={IteratorPrototype:Us,BUGGY_SAFARI_ITERATORS:da},va=qn,ga=Yn?{}.toString:function(){return"[object "+va(this)+"]"},ba=Yn,xa=$e.f,wa=vn,_a=Qt,Sa=ga,Ta=fe("toStringTag"),La=function(t,e,n,i){if(t){var o=n?t:t.prototype;_a(o,Ta)||xa(o,Ta,{configurable:!0,value:e}),i&&!ba&&wa(o,"toString",Sa)}},Ca=ya.IteratorPrototype,Ea=qs,Aa=W,Pa=La,Ma=Nr,Oa=function(){return this},Da=Pn,Ra=z,za=ps,ka=function(t,e,n,i){var o=e+" Iterator";return t.prototype=Ea(Ca,{next:Aa(+!i,n)}),Pa(t,o,!1,!0),Ma[o]=Oa,t},Ia=oa,ja=La,Fa=sa,Ba=Nr,Na=ya,Wa=za.PROPER,Ya=Na.BUGGY_SAFARI_ITERATORS,Ga=fe("iterator"),Xa="keys",Va="values",Ua="entries",Za=function(){return this},Ha=K,qa=Nr,Ja=as;$e.f;var $a=function(t,e,n,i,o,r,s){ka(n,e,i);var a,c,l,h=function(t){if(t===o&&m)return m;if(!Ya&&t&&t in p)return p[t];switch(t){case Xa:case Va:case Ua:return function(){return new n(this,t)}}return function(){return new n(this)}},u=e+" Iterator",f=!1,p=t.prototype,d=p[Ga]||p["@@iterator"]||o&&p[o],m=!Ya&&d||h(o),y="Array"===e&&p.entries||d;if(y&&(a=Ia(y.call(new t)))!==Object.prototype&&a.next&&(ja(a,u,!0,!0),Ba[u]=Za),Wa&&o===Va&&d&&d.name!==Va&&(f=!0,m=function(){return Ra(d,this)}),o)if(c={values:h(Va),keys:r?m:h(Xa),entries:h(Ua)},s)for(l in c)(Ya||f||!(l in p))&&Fa(p,l,c[l]);else Da({target:e,proto:!0,forced:Ya||f},c);return s&&p[Ga]!==m&&Fa(p,Ga,m,{name:o}),Ba[e]=m,c},Qa=function(t,e){return{value:t,done:e}},Ka="Array Iterator",tc=Ja.set,ec=Ja.getterFor(Ka);$a(Array,"Array",(function(t,e){tc(this,{type:Ka,target:Ha(t),index:0,kind:e})}),(function(){var t=ec(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,Qa(void 0,!0);switch(t.kind){case"keys":return Qa(n,!1);case"values":return Qa(e[n],!1)}return Qa([n,e[n]],!1)}),"values"),qa.Arguments=qa.Array;var nc={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ic=p,oc=qn,rc=vn,sc=Nr,ac=fe("toStringTag");for(var cc in nc){var lc=ic[cc],hc=lc&&lc.prototype;hc&&oc(hc)!==ac&&rc(hc,ac,cc),sc[cc]=sc.Array}var uc=qi("Array","values"),fc=qn,pc=Qt,dc=u,mc=uc,yc=Array.prototype,vc={DOMTokenList:!0,NodeList:!0},gc=i((function(t){var e=t.values;return t===yc||dc(yc,t)&&e===yc.values||pc(vc,fc(t))?mc:e})),bc=$o.forEach,xc=xi("forEach")?[].forEach:function(t){return bc(this,t,arguments.length>1?arguments[1]:void 0)};Pn({target:"Array",proto:!0,forced:[].forEach!==xc},{forEach:xc});var wc=qi("Array","forEach"),_c=qn,Sc=Qt,Tc=u,Lc=wc,Cc=Array.prototype,Ec={DOMTokenList:!0,NodeList:!0},Ac=i((function(t){var e=t.forEach;return t===Cc||Tc(Cc,t)&&e===Cc.forEach||Sc(Ec,_c(t))?Lc:e}));Pn({target:"Array",stat:!0},{isArray:go});var Pc=i(it.Array.isArray);Pn({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var Mc=i(it.Number.isNaN),Oc=TypeError,Dc=function(t){if(t>9007199254740991)throw Oc("Maximum allowed index exceeded");return t},Rc=Pn,zc=o,kc=go,Ic=nt,jc=qt,Fc=jn,Bc=Dc,Nc=si,Wc=Go,Yc=er,Gc=yt,Xc=fe("isConcatSpreadable"),Vc=Gc>=51||!zc((function(){var t=[];return t[Xc]=!1,t.concat()[0]!==t})),Uc=function(t){if(!Ic(t))return!1;var e=t[Xc];return void 0!==e?!!e:kc(t)};Rc({target:"Array",proto:!0,arity:1,forced:!Vc||!Yc("concat")},{concat:function(t){var e,n,i,o,r,s=jc(this),a=Wc(s,0),c=0;for(e=-1,i=arguments.length;e<i;e++)if(Uc(r=-1===e?s:arguments[e]))for(o=Fc(r),Bc(c+o),n=0;n<o;n++,c++)n in r&&Nc(a,c,r[n]);else Bc(c+1),Nc(a,c++,r);return a.length=c,a}});var Zc=qi("Array","concat"),Hc=u,qc=Zc,Jc=Array.prototype,$c=i((function(t){var e=t.concat;return t===Jc||Hc(Jc,t)&&e===Jc.concat?qc:e})),Qc="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,Kc=h([].slice),tl=TypeError,el=p,nl=g,il=P,ol=Qc,rl=lt,sl=Kc,al=function(t,e){if(t<e)throw new tl("Not enough arguments");return t},cl=el.Function,ll=/MSIE .\./.test(rl)||ol&&function(){var t=el.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),hl=function(t,e){var n=e?2:1;return ll?function(i,o){var r=al(arguments.length,1)>n,s=il(i)?i:cl(i),a=r?sl(arguments,n):[],c=r?function(){nl(s,this,a)}:s;return e?t(c,o):t(c)}:t},ul=Pn,fl=p,pl=hl(fl.setInterval,!0);ul({global:!0,bind:!0,forced:fl.setInterval!==pl},{setInterval:pl});var dl=Pn,ml=p,yl=hl(ml.setTimeout,!0);dl({global:!0,bind:!0,forced:ml.setTimeout!==yl},{setTimeout:yl});var vl=i(it.setTimeout),gl={};gl.f=Object.getOwnPropertySymbols;var bl=O,xl=h,wl=z,_l=o,Sl=Ts,Tl=gl,Ll=k,Cl=qt,El=U,Al=Object.assign,Pl=Object.defineProperty,Ml=xl([].concat),Ol=!Al||_l((function(){if(bl&&1!==Al({b:1},Al(Pl({},"a",{enumerable:!0,get:function(){Pl(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!==Al({},t)[n]||Sl(Al({},e)).join("")!==i}))?function(t,e){for(var n=Cl(t),i=arguments.length,o=1,r=Tl.f,s=Ll.f;i>o;)for(var a,c=El(arguments[o++]),l=r?Ml(Sl(c),r(c)):Sl(c),h=l.length,u=0;h>u;)a=l[u++],bl&&!wl(s,c,a)||(n[a]=c[a]);return n}:Al,Dl=Ol;Pn({target:"Object",stat:!0,arity:2,forced:Object.assign!==Dl},{assign:Dl});var Rl=i(it.Object.assign),zl={exports:{}};!function(t){function e(t){if(t)return function(t){return Object.assign(t,e.prototype),t._callbacks=new Map,t}(t);this._callbacks=new Map}e.prototype.on=function(t,e){const n=this._callbacks.get(t)??[];return n.push(e),this._callbacks.set(t,n),this},e.prototype.once=function(t,e){const n=(...i)=>{this.off(t,n),e.apply(this,i)};return n.fn=e,this.on(t,n),this},e.prototype.off=function(t,e){if(void 0===t&&void 0===e)return this._callbacks.clear(),this;if(void 0===e)return this._callbacks.delete(t),this;const n=this._callbacks.get(t);if(n){for(const[t,i]of n.entries())if(i===e||i.fn===e){n.splice(t,1);break}0===n.length?this._callbacks.delete(t):this._callbacks.set(t,n)}return this},e.prototype.emit=function(t,...e){const n=this._callbacks.get(t);if(n){const t=[...n];for(const n of t)n.apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks.get(t)??[]},e.prototype.listenerCount=function(t){if(t)return this.listeners(t).length;let e=0;for(const t of this._callbacks.values())e+=t.length;return e},e.prototype.hasListeners=function(t){return this.listenerCount(t)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(zl);var kl=i(zl.exports),Il={},jl=xs,Fl=ws.concat("length","prototype");Il.f=Object.getOwnPropertyNames||function(t){return jl(t,Fl)};var Bl={},Nl=_,Wl=K,Yl=Il.f,Gl=fi,Xl="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Bl.f=function(t){return Xl&&"Window"===Nl(t)?function(t){try{return Yl(t)}catch(t){return Gl(Xl)}}(t):Yl(Wl(t))};var Vl=$e,Ul={},Zl=fe;Ul.f=Zl;var Hl=it,ql=Qt,Jl=Ul,$l=$e.f,Ql=function(t){var e=Hl.Symbol||(Hl.Symbol={});ql(e,t)||$l(e,t,{value:Jl.f(t)})},Kl=z,th=ct,eh=fe,nh=sa,ih=function(){var t=th("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,i=eh("toPrimitive");e&&!e[i]&&nh(e,i,(function(t){return Kl(n,this)}),{arity:1})},oh=Pn,rh=p,sh=z,ah=h,ch=O,lh=xt,hh=o,uh=Qt,fh=u,ph=nn,dh=K,mh=_e,yh=Qn,vh=W,gh=qs,bh=Ts,xh=Il,wh=Bl,_h=gl,Sh=M,Th=$e,Lh=ds,Ch=k,Eh=sa,Ah=function(t,e,n){return Vl.f(t,e,n)},Ph=Ut,Mh=Zr,Oh=ie,Dh=fe,Rh=Ul,zh=Ql,kh=ih,Ih=La,jh=as,Fh=$o.forEach,Bh=Ur("hidden"),Nh="Symbol",Wh="prototype",Yh=jh.set,Gh=jh.getterFor(Nh),Xh=Object[Wh],Vh=rh.Symbol,Uh=Vh&&Vh[Wh],Zh=rh.RangeError,Hh=rh.TypeError,qh=rh.QObject,Jh=Sh.f,$h=Th.f,Qh=wh.f,Kh=Ch.f,tu=ah([].push),eu=Ph("symbols"),nu=Ph("op-symbols"),iu=Ph("wks"),ou=!qh||!qh[Wh]||!qh[Wh].findChild,ru=function(t,e,n){var i=Jh(Xh,e);i&&delete Xh[e],$h(t,e,n),i&&t!==Xh&&$h(Xh,e,i)},su=ch&&hh((function(){return 7!==gh($h({},"a",{get:function(){return $h(this,"a",{value:7}).a}})).a}))?ru:$h,au=function(t,e){var n=eu[t]=gh(Uh);return Yh(n,{type:Nh,tag:t,description:e}),ch||(n.description=e),n},cu=function(t,e,n){t===Xh&&cu(nu,e,n),ph(t);var i=mh(e);return ph(n),uh(eu,i)?(n.enumerable?(uh(t,Bh)&&t[Bh][i]&&(t[Bh][i]=!1),n=gh(n,{enumerable:vh(0,!1)})):(uh(t,Bh)||$h(t,Bh,vh(1,{})),t[Bh][i]=!0),su(t,i,n)):$h(t,i,n)},lu=function(t,e){ph(t);var n=dh(e),i=bh(n).concat(pu(n));return Fh(i,(function(e){ch&&!sh(hu,n,e)||cu(t,e,n[e])})),t},hu=function(t){var e=mh(t),n=sh(Kh,this,e);return!(this===Xh&&uh(eu,e)&&!uh(nu,e))&&(!(n||!uh(this,e)||!uh(eu,e)||uh(this,Bh)&&this[Bh][e])||n)},uu=function(t,e){var n=dh(t),i=mh(e);if(n!==Xh||!uh(eu,i)||uh(nu,i)){var o=Jh(n,i);return!o||!uh(eu,i)||uh(n,Bh)&&n[Bh][i]||(o.enumerable=!0),o}},fu=function(t){var e=Qh(dh(t)),n=[];return Fh(e,(function(t){uh(eu,t)||uh(Mh,t)||tu(n,t)})),n},pu=function(t){var e=t===Xh,n=Qh(e?nu:dh(t)),i=[];return Fh(n,(function(t){!uh(eu,t)||e&&!uh(Xh,t)||tu(i,eu[t])})),i};lh||(Vh=function(){if(fh(Uh,this))throw new Hh("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?yh(arguments[0]):void 0,e=Oh(t),n=function(t){var i=void 0===this?rh:this;i===Xh&&sh(n,nu,t),uh(i,Bh)&&uh(i[Bh],e)&&(i[Bh][e]=!1);var o=vh(1,t);try{su(i,e,o)}catch(t){if(!(t instanceof Zh))throw t;ru(i,e,o)}};return ch&&ou&&su(Xh,e,{configurable:!0,set:n}),au(e,t)},Eh(Uh=Vh[Wh],"toString",(function(){return Gh(this).tag})),Eh(Vh,"withoutSetter",(function(t){return au(Oh(t),t)})),Ch.f=hu,Th.f=cu,Lh.f=lu,Sh.f=uu,xh.f=wh.f=fu,_h.f=pu,Rh.f=function(t){return au(Dh(t),t)},ch&&Ah(Uh,"description",{configurable:!0,get:function(){return Gh(this).description}})),oh({global:!0,constructor:!0,wrap:!0,forced:!lh,sham:!lh},{Symbol:Vh}),Fh(bh(iu),(function(t){zh(t)})),oh({target:Nh,stat:!0,forced:!lh},{useSetter:function(){ou=!0},useSimple:function(){ou=!1}}),oh({target:"Object",stat:!0,forced:!lh,sham:!ch},{create:function(t,e){return void 0===e?gh(t):lu(gh(t),e)},defineProperty:cu,defineProperties:lu,getOwnPropertyDescriptor:uu}),oh({target:"Object",stat:!0,forced:!lh},{getOwnPropertyNames:fu}),kh(),Ih(Vh,Nh),Mh[Bh]=!0;var du=xt&&!!Symbol.for&&!!Symbol.keyFor,mu=Pn,yu=ct,vu=Qt,gu=Qn,bu=Ut,xu=du,wu=bu("string-to-symbol-registry"),_u=bu("symbol-to-string-registry");mu({target:"Symbol",stat:!0,forced:!xu},{for:function(t){var e=gu(t);if(vu(wu,e))return wu[e];var n=yu("Symbol")(e);return wu[e]=n,_u[n]=e,n}});var Su=Pn,Tu=Qt,Lu=Ct,Cu=At,Eu=du,Au=Ut("symbol-to-string-registry");Su({target:"Symbol",stat:!0,forced:!Eu},{keyFor:function(t){if(!Lu(t))throw new TypeError(Cu(t)+" is not a symbol");if(Tu(Au,t))return Au[t]}});var Pu=go,Mu=P,Ou=_,Du=Qn,Ru=h([].push),zu=Pn,ku=ct,Iu=g,ju=z,Fu=h,Bu=o,Nu=P,Wu=Ct,Yu=Kc,Gu=function(t){if(Mu(t))return t;if(Pu(t)){for(var e=t.length,n=[],i=0;i<e;i++){var o=t[i];"string"==typeof o?Ru(n,o):"number"!=typeof o&&"Number"!==Ou(o)&&"String"!==Ou(o)||Ru(n,Du(o))}var r=n.length,s=!0;return function(t,e){if(s)return s=!1,e;if(Pu(this))return e;for(var i=0;i<r;i++)if(n[i]===t)return e}}},Xu=xt,Vu=String,Uu=ku("JSON","stringify"),Zu=Fu(/./.exec),Hu=Fu("".charAt),qu=Fu("".charCodeAt),Ju=Fu("".replace),$u=Fu(1..toString),Qu=/[\uD800-\uDFFF]/g,Ku=/^[\uD800-\uDBFF]$/,tf=/^[\uDC00-\uDFFF]$/,ef=!Xu||Bu((function(){var t=ku("Symbol")("stringify detection");return"[null]"!==Uu([t])||"{}"!==Uu({a:t})||"{}"!==Uu(Object(t))})),nf=Bu((function(){return'"\\udf06\\ud834"'!==Uu("\udf06\ud834")||'"\\udead"'!==Uu("\udead")})),of=function(t,e){var n=Yu(arguments),i=Gu(e);if(Nu(i)||void 0!==t&&!Wu(t))return n[1]=function(t,e){if(Nu(i)&&(e=ju(i,this,Vu(t),e)),!Wu(e))return e},Iu(Uu,null,n)},rf=function(t,e,n){var i=Hu(n,e-1),o=Hu(n,e+1);return Zu(Ku,t)&&!Zu(tf,o)||Zu(tf,t)&&!Zu(Ku,i)?"\\u"+$u(qu(t,0),16):t};Uu&&zu({target:"JSON",stat:!0,arity:3,forced:ef||nf},{stringify:function(t,e,n){var i=Yu(arguments),o=Iu(ef?of:Uu,null,i);return nf&&"string"==typeof o?Ju(o,Qu,rf):o}});var sf=gl,af=qt;Pn({target:"Object",stat:!0,forced:!xt||o((function(){sf.f(1)}))},{getOwnPropertySymbols:function(t){var e=sf.f;return e?e(af(t)):[]}}),Ql("asyncIterator"),Ql("hasInstance"),Ql("isConcatSpreadable"),Ql("iterator"),Ql("match"),Ql("matchAll"),Ql("replace"),Ql("search"),Ql("species"),Ql("split");var cf=ih;Ql("toPrimitive"),cf();var lf=ct,hf=La;Ql("toStringTag"),hf(lf("Symbol"),"Symbol"),Ql("unscopables"),La(p.JSON,"JSON",!0);var uf=i(it.Symbol),ff=Pn,pf=go,df=Io,mf=nt,yf=ni,vf=jn,gf=K,bf=si,xf=fe,wf=Kc,_f=er("slice"),Sf=xf("species"),Tf=Array,Lf=Math.max;ff({target:"Array",proto:!0,forced:!_f},{slice:function(t,e){var n,i,o,r=gf(this),s=vf(r),a=yf(t,s),c=yf(void 0===e?s:e,s);if(pf(r)&&(n=r.constructor,(df(n)&&(n===Tf||pf(n.prototype))||mf(n)&&null===(n=n[Sf]))&&(n=void 0),n===Tf||void 0===n))return wf(r,a,c);for(i=new(void 0===n?Tf:n)(Lf(c-a,0)),o=0;a<c;a++,o++)a in r&&bf(i,o,r[a]);return i.length=o,i}});var Cf=qi("Array","slice"),Ef=u,Af=Cf,Pf=Array.prototype,Mf=i((function(t){var e=t.slice;return t===Pf||Ef(Pf,t)&&e===Pf.slice?Af:e})),Of=$o.map;Pn({target:"Array",proto:!0,forced:!er("map")},{map:function(t){return Of(this,t,arguments.length>1?arguments[1]:void 0)}});var Df=qi("Array","map"),Rf=u,zf=Df,kf=Array.prototype,If=i((function(t){var e=t.map;return t===kf||Rf(kf,t)&&e===kf.map?zf:e})),jf=qt,Ff=Ts;Pn({target:"Object",stat:!0,forced:o((function(){Ff(1)}))},{keys:function(t){return Ff(jf(t))}});var Bf=i(it.Object.keys),Nf=h,Wf=Dt,Yf=nt,Gf=Qt,Xf=Kc,Vf=r,Uf=Function,Zf=Nf([].concat),Hf=Nf([].join),qf={},Jf=Vf?Uf.bind:function(t){var e=Wf(this),n=e.prototype,i=Xf(arguments,1),o=function(){var n=Zf(i,Xf(arguments));return this instanceof o?function(t,e,n){if(!Gf(qf,e)){for(var i=[],o=0;o<e;o++)i[o]="a["+o+"]";qf[e]=Uf("C,a","return new C("+Hf(i,",")+")")}return qf[e](t,n)}(e,n.length,n):e.apply(t,n)};return Yf(n)&&(o.prototype=n),o},$f=Jf;Pn({target:"Function",proto:!0,forced:Function.bind!==$f},{bind:$f});var Qf=qi("Function","bind"),Kf=u,tp=Qf,ep=Function.prototype,np=i((function(t){var e=t.bind;return t===ep||Kf(ep,t)&&e===ep.bind?tp:e})),ip=Pn,op=go,rp=h([].reverse),sp=[1,2];ip({target:"Array",proto:!0,forced:String(sp)===String(sp.reverse())},{reverse:function(){return op(this)&&(this.length=this.length),rp(this)}});var ap=qi("Array","reverse"),cp=u,lp=ap,hp=Array.prototype,up=i((function(t){var e=t.reverse;return t===hp||cp(hp,t)&&e===hp.reverse?lp:e})),fp=O,pp=go,dp=TypeError,mp=Object.getOwnPropertyDescriptor,yp=fp&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),vp=Pn,gp=qt,bp=ni,xp=Rn,wp=jn,_p=yp?function(t,e){if(pp(t)&&!mp(t,"length").writable)throw new dp("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Sp=Dc,Tp=Go,Lp=si,Cp=Nn,Ep=er("splice"),Ap=Math.max,Pp=Math.min;vp({target:"Array",proto:!0,forced:!Ep},{splice:function(t,e){var n,i,o,r,s,a,c=gp(this),l=wp(c),h=bp(t,l),u=arguments.length;for(0===u?n=i=0:1===u?(n=0,i=l-h):(n=u-2,i=Pp(Ap(xp(e),0),l-h)),Sp(l+n-i),o=Tp(c,i),r=0;r<i;r++)(s=h+r)in c&&Lp(o,r,c[s]);if(o.length=i,n<i){for(r=h;r<l-i;r++)a=r+n,(s=r+i)in c?c[a]=c[s]:Cp(c,a);for(r=l;r>l-i+n;r--)Cp(c,r-1)}else if(n>i)for(r=l-i;r>h;r--)a=r+n-1,(s=r+i-1)in c?c[a]=c[s]:Cp(c,a);for(r=0;r<n;r++)c[r+h]=arguments[r+2];return _p(c,l-i+n),o}});var Mp=qi("Array","splice"),Op=u,Dp=Mp,Rp=Array.prototype,zp=i((function(t){var e=t.splice;return t===Rp||Op(Rp,t)&&e===Rp.splice?Dp:e})),kp=qt,Ip=oa,jp=Js;Pn({target:"Object",stat:!0,forced:o((function(){Ip(1)})),sham:!jp},{getPrototypeOf:function(t){return Ip(kp(t))}});var Fp=i(it.Object.getPrototypeOf),Bp=p,Np=o,Wp=h,Yp=Qn,Gp=yr.trim,Xp=cr,Vp=Bp.parseInt,Up=Bp.Symbol,Zp=Up&&Up.iterator,Hp=/^[+-]?0x/i,qp=Wp(Hp.exec),Jp=8!==Vp(Xp+"08")||22!==Vp(Xp+"0x16")||Zp&&!Np((function(){Vp(Object(Zp))}))?function(t,e){var n=Gp(Yp(t));return Vp(n,e>>>0||(qp(Hp,n)?16:10))}:Vp;Pn({global:!0,forced:parseInt!==Jp},{parseInt:Jp});var $p=i(it.parseInt),Qp=it,Kp=g;Qp.JSON||(Qp.JSON={stringify:JSON.stringify});var td,ed=function(t,e,n){return Kp(Qp.JSON.stringify,null,arguments)},nd=i(ed);
/*! Hammer.JS - v2.0.17-rc - 2019-12-16
	 * http://naver.github.io/egjs
	 *
	 * Forked By Naver egjs
	 * Copyright (c) hammerjs
	 * Licensed under the MIT license */
function id(){return id=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},id.apply(this,arguments)}function od(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function rd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}td="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}return e}:Object.assign;var sd,ad=td,cd=["","webkit","Moz","MS","ms","o"],ld="undefined"==typeof document?{style:{}}:document.createElement("div"),hd=Math.round,ud=Math.abs,fd=Date.now;function pd(t,e){for(var n,i,o=e[0].toUpperCase()+e.slice(1),r=0;r<cd.length;){if((i=(n=cd[r])?n+o:e)in t)return i;r++}}sd="undefined"==typeof window?{}:window;var dd=pd(ld.style,"touchAction"),md=void 0!==dd;var yd="compute",vd="auto",gd="manipulation",bd="none",xd="pan-x",wd="pan-y",_d=function(){if(!md)return!1;var t={},e=sd.CSS&&sd.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){return t[n]=!e||sd.CSS.supports("touch-action",n)})),t}(),Sd="ontouchstart"in sd,Td=void 0!==pd(sd,"PointerEvent"),Ld=Sd&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Cd="touch",Ed="mouse",Ad=25,Pd=1,Md=4,Od=8,Dd=1,Rd=2,zd=4,kd=8,Id=16,jd=Rd|zd,Fd=kd|Id,Bd=jd|Fd,Nd=["x","y"],Wd=["clientX","clientY"];function Yd(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function Gd(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function Xd(t,e){return t.indexOf(e)>-1}var Vd=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===yd&&(t=this.compute()),md&&this.manager.element.style&&_d[t]&&(this.manager.element.style[dd]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return Yd(this.manager.recognizers,(function(e){Gd(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(Xd(t,bd))return bd;var e=Xd(t,xd),n=Xd(t,wd);return e&&n?bd:e||n?e?xd:wd:Xd(t,gd)?gd:vd}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,o=Xd(i,bd)&&!_d[bd],r=Xd(i,wd)&&!_d[wd],s=Xd(i,xd)&&!_d[xd];if(o){var a=1===t.pointers.length,c=t.distance<2,l=t.deltaTime<250;if(a&&c&&l)return}if(!s||!r)return o||r&&n&jd||s&&n&Fd?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function Ud(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Zd(t){var e=t.length;if(1===e)return{x:hd(t[0].clientX),y:hd(t[0].clientY)};for(var n=0,i=0,o=0;o<e;)n+=t[o].clientX,i+=t[o].clientY,o++;return{x:hd(n/e),y:hd(i/e)}}function Hd(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:hd(t.pointers[n].clientX),clientY:hd(t.pointers[n].clientY)},n++;return{timeStamp:fd(),pointers:e,center:Zd(e),deltaX:t.deltaX,deltaY:t.deltaY}}function qd(t,e,n){n||(n=Nd);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(i*i+o*o)}function Jd(t,e,n){n||(n=Nd);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,i)/Math.PI}function $d(t,e){return t===e?Dd:ud(t)>=ud(e)?t<0?Rd:zd:e<0?kd:Id}function Qd(t,e,n){return{x:e/t||0,y:n/t||0}}function Kd(t,e){var n=t.session,i=e.pointers,o=i.length;n.firstInput||(n.firstInput=Hd(e)),o>1&&!n.firstMultiple?n.firstMultiple=Hd(e):1===o&&(n.firstMultiple=!1);var r=n.firstInput,s=n.firstMultiple,a=s?s.center:r.center,c=e.center=Zd(i);e.timeStamp=fd(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=Jd(a,c),e.distance=qd(a,c),function(t,e){var n=e.center,i=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};e.eventType!==Pd&&r.eventType!==Md||(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-i.x),e.deltaY=o.y+(n.y-i.y)}(n,e),e.offsetDirection=$d(e.deltaX,e.deltaY);var l,h,u=Qd(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=ud(u.x)>ud(u.y)?u.x:u.y,e.scale=s?(l=s.pointers,qd((h=i)[0],h[1],Wd)/qd(l[0],l[1],Wd)):1,e.rotation=s?function(t,e){return Jd(e[1],e[0],Wd)+Jd(t[1],t[0],Wd)}(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,o,r,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!==Od&&(a>Ad||void 0===s.velocity)){var c=e.deltaX-s.deltaX,l=e.deltaY-s.deltaY,h=Qd(a,c,l);i=h.x,o=h.y,n=ud(h.x)>ud(h.y)?h.x:h.y,r=$d(c,l),t.lastInterval=e}else n=s.velocity,i=s.velocityX,o=s.velocityY,r=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=o,e.direction=r}(n,e);var f,p=t.element,d=e.srcEvent;Ud(f=d.composedPath?d.composedPath()[0]:d.path?d.path[0]:d.target,p)&&(p=f),e.target=p}function tm(t,e,n){var i=n.pointers.length,o=n.changedPointers.length,r=e&Pd&&i-o==0,s=e&(Md|Od)&&i-o==0;n.isFirst=!!r,n.isFinal=!!s,r&&(t.session={}),n.eventType=e,Kd(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function em(t){return t.trim().split(/\s+/g)}function nm(t,e,n){Yd(em(e),(function(e){t.addEventListener(e,n,!1)}))}function im(t,e,n){Yd(em(e),(function(e){t.removeEventListener(e,n,!1)}))}function om(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var rm=function(){function t(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Gd(t.options.enable,[t])&&n.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&nm(this.element,this.evEl,this.domHandler),this.evTarget&&nm(this.target,this.evTarget,this.domHandler),this.evWin&&nm(om(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&im(this.element,this.evEl,this.domHandler),this.evTarget&&im(this.target,this.evTarget,this.domHandler),this.evWin&&im(om(this.element),this.evWin,this.domHandler)},t}();function sm(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}var am={pointerdown:Pd,pointermove:2,pointerup:Md,pointercancel:Od,pointerout:Od},cm={2:Cd,3:"pen",4:Ed,5:"kinect"},lm="pointerdown",hm="pointermove pointerup pointercancel";sd.MSPointerEvent&&!sd.PointerEvent&&(lm="MSPointerDown",hm="MSPointerMove MSPointerUp MSPointerCancel");var um=function(t){function e(){var n,i=e.prototype;return i.evEl=lm,i.evWin=hm,(n=t.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return od(e,t),e.prototype.handler=function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),o=am[i],r=cm[t.pointerType]||t.pointerType,s=r===Cd,a=sm(e,t.pointerId,"pointerId");o&Pd&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):o&(Md|Od)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),n&&e.splice(a,1))},e}(rm);function fm(t){return Array.prototype.slice.call(t,0)}function pm(t,e,n){for(var i=[],o=[],r=0;r<t.length;){var s=e?t[r][e]:t[r];sm(o,s)<0&&i.push(t[r]),o[r]=s,r++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}var dm={touchstart:Pd,touchmove:2,touchend:Md,touchcancel:Od},mm=function(t){function e(){var n;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(n=t.apply(this,arguments)||this).targetIds={},n}return od(e,t),e.prototype.handler=function(t){var e=dm[t.type],n=ym.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Cd,srcEvent:t})},e}(rm);function ym(t,e){var n,i,o=fm(t.touches),r=this.targetIds;if(e&(2|Pd)&&1===o.length)return r[o[0].identifier]=!0,[o,o];var s=fm(t.changedTouches),a=[],c=this.target;if(i=o.filter((function(t){return Ud(t.target,c)})),e===Pd)for(n=0;n<i.length;)r[i[n].identifier]=!0,n++;for(n=0;n<s.length;)r[s[n].identifier]&&a.push(s[n]),e&(Md|Od)&&delete r[s[n].identifier],n++;return a.length?[pm(i.concat(a),"identifier",!0),a]:void 0}var vm={mousedown:Pd,mousemove:2,mouseup:Md},gm=function(t){function e(){var n,i=e.prototype;return i.evEl="mousedown",i.evWin="mousemove mouseup",(n=t.apply(this,arguments)||this).pressed=!1,n}return od(e,t),e.prototype.handler=function(t){var e=vm[t.type];e&Pd&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=Md),this.pressed&&(e&Md&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Ed,srcEvent:t}))},e}(rm),bm=2500;function xm(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(n);setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),bm)}}function wm(t,e){t&Pd?(this.primaryTouch=e.changedPointers[0].identifier,xm.call(this,e)):t&(Md|Od)&&xm.call(this,e)}function _m(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var o=this.lastTouches[i],r=Math.abs(e-o.x),s=Math.abs(n-o.y);if(r<=25&&s<=25)return!0}return!1}var Sm=function(){return function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handler=function(t,e,n){var o=n.pointerType===Cd,r=n.pointerType===Ed;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(o)wm.call(rd(rd(i)),e,n);else if(r&&_m.call(rd(rd(i)),n))return;i.callback(t,e,n)}},i.touch=new mm(i.manager,i.handler),i.mouse=new gm(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return od(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(rm)}();function Tm(t,e,n){return!!Array.isArray(t)&&(Yd(t,n[e],n),!0)}var Lm=32,Cm=1;function Em(t,e){var n=e.manager;return n?n.get(t):t}function Am(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var Pm=function(){function t(t){void 0===t&&(t={}),this.options=id({enable:!0},t),this.id=Cm++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return ad(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(Tm(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Em(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return Tm(t,"dropRecognizeWith",this)||(t=Em(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(Tm(t,"requireFailure",this))return this;var e=this.requireFail;return-1===sm(e,t=Em(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(Tm(t,"dropRequireFailure",this))return this;t=Em(t,this);var e=sm(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+Am(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+Am(n))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Lm},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=ad({},t);if(!Gd(this.options.enable,[this,e]))return this.reset(),void(this.state=Lm);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),Mm=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,id({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}od(e,t);var n=e.prototype;return n.getTouchAction=function(){return[gd]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,o=t.distance<n.threshold,r=t.deltaTime<n.time;if(this.reset(),t.eventType&Pd&&0===this.count)return this.failTimeout();if(o&&r&&i){if(t.eventType!==Md)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<n.interval,a=!this.pCenter||qd(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.interval),2):8}return Lm},n.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=Lm}),this.options.interval),Lm},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Pm),Om=function(t){function e(e){return void 0===e&&(e={}),t.call(this,id({pointers:1},e))||this}od(e,t);var n=e.prototype;return n.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},n.process=function(t){var e=this.state,n=t.eventType,i=6&e,o=this.attrTest(t);return i&&(n&Od||!o)?16|e:i||o?n&Md?8|e:2&e?4|e:2:Lm},e}(Pm);function Dm(t){return t===Id?"down":t===kd?"up":t===Rd?"left":t===zd?"right":""}var Rm=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,id({event:"pan",threshold:10,pointers:1,direction:Bd},e))||this).pX=null,n.pY=null,n}od(e,t);var n=e.prototype;return n.getTouchAction=function(){var t=this.options.direction,e=[];return t&jd&&e.push(wd),t&Fd&&e.push(xd),e},n.directionTest=function(t){var e=this.options,n=!0,i=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&jd?(o=0===r?Dd:r<0?Rd:zd,n=r!==this.pX,i=Math.abs(t.deltaX)):(o=0===s?Dd:s<0?kd:Id,n=s!==this.pY,i=Math.abs(t.deltaY))),t.direction=o,n&&i>e.threshold&&o&e.direction},n.attrTest=function(t){return Om.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},n.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var n=Dm(e.direction);n&&(e.additionalEvent=this.options.event+n),t.prototype.emit.call(this,e)},e}(Om),zm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,id({event:"swipe",threshold:10,velocity:.3,direction:jd|Fd,pointers:1},e))||this}od(e,t);var n=e.prototype;return n.getTouchAction=function(){return Rm.prototype.getTouchAction.call(this)},n.attrTest=function(e){var n,i=this.options.direction;return i&(jd|Fd)?n=e.overallVelocity:i&jd?n=e.overallVelocityX:i&Fd&&(n=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&ud(n)>this.options.velocity&&e.eventType&Md},n.emit=function(t){var e=Dm(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(Om),km=function(t){function e(e){return void 0===e&&(e={}),t.call(this,id({event:"pinch",threshold:0,pointers:2},e))||this}od(e,t);var n=e.prototype;return n.getTouchAction=function(){return[bd]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},n.emit=function(e){if(1!==e.scale){var n=e.scale<1?"in":"out";e.additionalEvent=this.options.event+n}t.prototype.emit.call(this,e)},e}(Om),Im=function(t){function e(e){return void 0===e&&(e={}),t.call(this,id({event:"rotate",threshold:0,pointers:2},e))||this}od(e,t);var n=e.prototype;return n.getTouchAction=function(){return[bd]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(Om),jm=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,id({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,n._input=null,n}od(e,t);var n=e.prototype;return n.getTouchAction=function(){return[vd]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,o=t.distance<n.threshold,r=t.deltaTime>n.time;if(this._input=t,!o||!i||t.eventType&(Md|Od)&&!r)this.reset();else if(t.eventType&Pd)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.time);else if(t.eventType&Md)return 8;return Lm},n.reset=function(){clearTimeout(this._timer)},n.emit=function(t){8===this.state&&(t&&t.eventType&Md?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=fd(),this.manager.emit(this.options.event,this._input)))},e}(Pm),Fm={domEvents:!1,touchAction:yd,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Bm=[[Im,{enable:!1}],[km,{enable:!1},["rotate"]],[zm,{direction:jd}],[Rm,{direction:jd},["swipe"]],[Mm],[Mm,{event:"doubletap",taps:2},["tap"]],[jm]];function Nm(t,e){var n,i=t.element;i.style&&(Yd(t.options.cssProps,(function(o,r){n=pd(i.style,r),e?(t.oldCssProps[n]=i.style[n],i.style[n]=o):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}var Wm=function(){function t(t,e){var n,i=this;this.options=ad({},Fm,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(Td?um:Ld?mm:Sd?Sm:gm))(n,tm),this.touchAction=new Vd(this,this.options.touchAction),Nm(this,!0),Yd(this.options.recognizers,(function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return ad(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,o=e.curRecognizer;(!o||o&&8&o.state)&&(e.curRecognizer=null,o=null);for(var r=0;r<i.length;)n=i[r],2===e.stopped||o&&n!==o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&14&n.state&&(e.curRecognizer=n,o=n),r++}},e.get=function(t){if(t instanceof Pm)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null},e.add=function(t){if(Tm(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(Tm(t,"remove",this))return this;var e=this.get(t);if(t){var n=this.recognizers,i=sm(n,e);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var n=this.handlers;return Yd(em(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var n=this.handlers;return Yd(em(t),(function(t){e?n[t]&&n[t].splice(sm(n[t],e),1):delete n[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},e.destroy=function(){this.element&&Nm(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Ym={touchstart:Pd,touchmove:2,touchend:Md,touchcancel:Od},Gm=function(t){function e(){var n,i=e.prototype;return i.evTarget="touchstart",i.evWin="touchstart touchmove touchend touchcancel",(n=t.apply(this,arguments)||this).started=!1,n}return od(e,t),e.prototype.handler=function(t){var e=Ym[t.type];if(e===Pd&&(this.started=!0),this.started){var n=Xm.call(this,t,e);e&(Md|Od)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Cd,srcEvent:t})}},e}(rm);function Xm(t,e){var n=fm(t.touches),i=fm(t.changedTouches);return e&(Md|Od)&&(n=pm(n.concat(i),"identifier",!0)),[n,i]}function Vm(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,i,n),t.apply(this,arguments)}}var Um=Vm((function(t,e,n){for(var i=Object.keys(e),o=0;o<i.length;)(!n||n&&void 0===t[i[o]])&&(t[i[o]]=e[i[o]]),o++;return t}),"extend","Use `assign`."),Zm=Vm((function(t,e){return Um(t,e,!0)}),"merge","Use `assign`.");function Hm(t,e,n){var i,o=e.prototype;(i=t.prototype=Object.create(o)).constructor=t,i._super=o,n&&ad(i,n)}function qm(t,e){return function(){return t.apply(e,arguments)}}var Jm=function(){var t=function(t,e){return void 0===e&&(e={}),new Wm(t,id({recognizers:Bm.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=Bd,t.DIRECTION_DOWN=Id,t.DIRECTION_LEFT=Rd,t.DIRECTION_RIGHT=zd,t.DIRECTION_UP=kd,t.DIRECTION_HORIZONTAL=jd,t.DIRECTION_VERTICAL=Fd,t.DIRECTION_NONE=Dd,t.DIRECTION_DOWN=Id,t.INPUT_START=Pd,t.INPUT_MOVE=2,t.INPUT_END=Md,t.INPUT_CANCEL=Od,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=Lm,t.Manager=Wm,t.Input=rm,t.TouchAction=Vd,t.TouchInput=mm,t.MouseInput=gm,t.PointerEventInput=um,t.TouchMouseInput=Sm,t.SingleTouchInput=Gm,t.Recognizer=Pm,t.AttrRecognizer=Om,t.Tap=Mm,t.Pan=Rm,t.Swipe=zm,t.Pinch=km,t.Rotate=Im,t.Press=jm,t.on=nm,t.off=im,t.each=Yd,t.merge=Zm,t.extend=Um,t.bindFn=qm,t.assign=ad,t.inherit=Hm,t.bindFn=qm,t.prefixed=pd,t.toArray=fm,t.inArray=sm,t.uniqueArray=pm,t.splitStr=em,t.boolOrFn=Gd,t.hasParent=Ud,t.addEventListeners=nm,t.removeEventListeners=im,t.defaults=ad({},Fm,{preset:Bm}),t}();uf("DELETE");const $m="undefined"!=typeof window?window.Hammer||Jm:function(){return function(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get:()=>({set:t})}}()};function Qm(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)}));const n=$m(this._dom.overlay);n.on("tap",np(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((()=>{n.destroy()}));const i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ac(i).call(i,(t=>{n.on(t,(t=>{t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=e=>{(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((()=>{document.body.removeEventListener("click",this._onClick)}))),this._escListener=t=>{("key"in t?"Escape"===t.key:27===t.keyCode)&&this.deactivate()}}kl(Qm.prototype),Qm.current=null,Qm.prototype.destroy=function(){this.deactivate();for(const n of up(t=zp(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;n()}},Qm.prototype.activate=function(){Qm.current&&Qm.current.deactivate(),Qm.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Qm.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Qm.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};const Km=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ty=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;function ey(t,e,n,i){let o=!1;!0===i&&(o=null===e[n]&&void 0!==t[n]),o?delete t[n]:t[n]=e[n]}function ny(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)||!0===n)if("object"==typeof e[r]&&null!==e[r]&&Fp(e[r])===Object.prototype)void 0===t[r]?t[r]=ny({},e[r],n):"object"==typeof t[r]&&null!==t[r]&&Fp(t[r])===Object.prototype?ny(t[r],e[r],n):ey(t,e,r,i);else if(Pc(e[r])){var o;t[r]=Mf(o=e[r]).call(o)}else ey(t,e,r,i);return t}function iy(t,e){return[...t,e]}function oy(t){t||(t=window.event),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}function ry(t,e,n){let i,o,r;const s=Math.floor(6*t),a=6*t-s,c=n*(1-e),l=n*(1-a*e),h=n*(1-(1-a)*e);switch(s%6){case 0:i=n,o=h,r=c;break;case 1:i=l,o=n,r=c;break;case 2:i=c,o=n,r=h;break;case 3:i=c,o=l,r=n;break;case 4:i=h,o=c,r=n;break;case 5:i=n,o=c,r=l}return{r:Math.floor(255*i),g:Math.floor(255*o),b:Math.floor(255*r)}}let sy,ay=!1;const cy="background: #FFeeee; color: #dd0000";const ly=cy,hy=class t{static validate(e,n,i){ay=!1,sy=n;let o=n;return void 0!==i&&(o=n[i]),t.parse(e,o,[]),ay}static parse(e,n,i){for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.check(o,e,n,i)}static check(e,n,i,o){if(void 0===i[e]&&void 0===i.__any__)return void t.getSuggestion(e,i,o);let r=e,s=!0;void 0===i[e]&&void 0!==i.__any__&&(r="__any__",s="object"===t.getType(n[e]));let a=i[r];s&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,n,i,r,a,o)}static checkFields(e,n,i,o,r,s){const a=function(n){console.error("%c"+n+t.printLocation(s,e),cy)},c=t.getType(n[e]),l=r[c];void 0!==l?"array"===t.getType(l)&&-1===yo(l).call(l,n[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+t.print(l)+' not "'+n[e]+'". '),ay=!0):"object"===c&&"__any__"!==o&&(s=iy(s,e),t.parse(n[e],i[o],s)):void 0===r.any&&(a('Invalid type received for "'+e+'". Expected: '+t.print(Bf(r))+". Received ["+c+'] "'+n[e]+'"'),ay=!0)}static getType(t){const e=typeof t;return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Pc(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}static getSuggestion(e,n,i){const o=t.findInOptions(e,n,i,!1),r=t.findInOptions(e,sy,[],!0);let s;s=void 0!==o.indexMatch?" in "+t.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':r.distance<=4&&o.distance>r.distance?" in "+t.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(r.path,r.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+t.printLocation(o.path,e):". Did you mean one of these: "+t.print(Bf(n))+t.printLocation(i,e),console.error('%cUnknown option detected: "'+e+'"'+s,cy),ay=!0}static findInOptions(e,n,i){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=1e9,s="",a=[];const c=e.toLowerCase();let l;for(const f in n){let p;if(void 0!==n[f].__type__&&!0===o){const o=t.findInOptions(e,n[f],iy(i,f));r>o.distance&&(s=o.closestMatch,a=o.path,r=o.distance,l=o.indexMatch)}else{var h;-1!==yo(h=f.toLowerCase()).call(h,c)&&(l=f),p=t.levenshteinDistance(e,f),r>p&&(s=f,a=Mf(u=i).call(u),r=p)}}var u;return{closestMatch:s,path:a,distance:r,indexMatch:l}}static printLocation(t,e){let n="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n";for(let e=0;e<t.length;e++){for(let t=0;t<e+1;t++)n+="  ";n+=t[e]+": {\n"}for(let e=0;e<t.length+1;e++)n+="  ";n+=e+"\n";for(let e=0;e<t.length+1;e++){for(let i=0;i<t.length-e;i++)n+="  ";n+="}\n"}return n+"\n\n"}static print(t){return nd(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;const n=[];let i,o;for(i=0;i<=e.length;i++)n[i]=[i];for(o=0;o<=t.length;o++)n[0][o]=o;for(i=1;i<=e.length;i++)for(o=1;o<=t.length;o++)e.charAt(i-1)==t.charAt(o-1)?n[i][o]=n[i-1][o-1]:n[i][o]=Math.min(n[i-1][o-1]+1,Math.min(n[i][o-1]+1,n[i-1][o]+1));return n[e.length][t.length]}};function uy(t,e,n){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==n?n:0}uy.subtract=function(t,e){const n=new uy;return n.x=t.x-e.x,n.y=t.y-e.y,n.z=t.z-e.z,n},uy.add=function(t,e){const n=new uy;return n.x=t.x+e.x,n.y=t.y+e.y,n.z=t.z+e.z,n},uy.avg=function(t,e){return new uy((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},uy.scalarProduct=function(t,e){return new uy(t.x*e,t.y*e,t.z*e)},uy.dotProduct=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},uy.crossProduct=function(t,e){const n=new uy;return n.x=t.y*e.z-t.z*e.y,n.y=t.z*e.x-t.x*e.z,n.z=t.x*e.y-t.y*e.x,n},uy.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},uy.prototype.normalize=function(){return uy.scalarProduct(this,1/this.length())};var fy=i(uy);var py=i((function(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}));function dy(t,e){if(void 0===t)throw new Error("No container element defined");if(this.container=t,this.visible=!e||null==e.visible||e.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);const t=this;this.frame.slide.onmousedown=function(e){t._onMouseDown(e)},this.frame.prev.onclick=function(e){t.prev(e)},this.frame.play.onclick=function(e){t.togglePlay(e)},this.frame.next.onclick=function(e){t.next(e)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}function my(t,e,n,i){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,n,i)}dy.prototype.prev=function(){let t=this.getIndex();t>0&&(t--,this.setIndex(t))},dy.prototype.next=function(){let t=this.getIndex();t<gc(this).length-1&&(t++,this.setIndex(t))},dy.prototype.playNext=function(){const t=new Date;let e=this.getIndex();e<gc(this).length-1?(e++,this.setIndex(e)):this.playLoop&&(e=0,this.setIndex(e));const n=new Date-t,i=Math.max(this.playInterval-n,0),o=this;this.playTimeout=vl((function(){o.playNext()}),i)},dy.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},dy.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},dy.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},dy.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},dy.prototype.setPlayInterval=function(t){this.playInterval=t},dy.prototype.getPlayInterval=function(){return this.playInterval},dy.prototype.setPlayLoop=function(t){this.playLoop=t},dy.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},dy.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";const t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},dy.prototype.setValues=function(t){this.values=t,gc(this).length>0?this.setIndex(0):this.index=void 0},dy.prototype.setIndex=function(t){if(!(t<gc(this).length))throw new Error("Index out of range");this.index=t,this.redraw(),this.onChange()},dy.prototype.getIndex=function(){return this.index},dy.prototype.get=function(){return gc(this)[this.index]},dy.prototype._onMouseDown=function(t){if(!(t.which?1===t.which:1===t.button))return;this.startClientX=t.clientX,this.startSlideX=Er(this.frame.slide.style.left),this.frame.style.cursor="move";const e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},document.addEventListener("mousemove",this.onmousemove),document.addEventListener("mouseup",this.onmouseup),oy(t)},dy.prototype.leftToIndex=function(t){const e=Er(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,n=t-3;let i=Math.round(n/e*(gc(this).length-1));return i<0&&(i=0),i>gc(this).length-1&&(i=gc(this).length-1),i},dy.prototype.indexToLeft=function(t){const e=Er(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return t/(gc(this).length-1)*e+3},dy.prototype._onMouseMove=function(t){const e=t.clientX-this.startClientX,n=this.startSlideX+e,i=this.leftToIndex(n);this.setIndex(i),oy()},dy.prototype._onMouseUp=function(){this.frame.style.cursor="auto",document.removeEventListener("mousemove",this.onmousemove),document.removeEventListener("mouseup",this.onmouseup),oy()},my.prototype.isNumeric=function(t){return!isNaN(Er(t))&&isFinite(t)},my.prototype.setRange=function(t,e,n,i){if(!this.isNumeric(t))throw new Error("Parameter 'start' is not numeric; value: "+t);if(!this.isNumeric(e))throw new Error("Parameter 'end' is not numeric; value: "+t);if(!this.isNumeric(n))throw new Error("Parameter 'step' is not numeric; value: "+t);this._start=t||0,this._end=e||0,this.setStep(n,i)},my.prototype.setStep=function(t,e){void 0===t||t<=0||(void 0!==e&&(this.prettyStep=e),!0===this.prettyStep?this._step=my.calculatePrettyStep(t):this._step=t)},my.calculatePrettyStep=function(t){const e=function(t){return Math.log(t)/Math.LN10},n=Math.pow(10,Math.round(e(t))),i=2*Math.pow(10,Math.round(e(t/2))),o=5*Math.pow(10,Math.round(e(t/5)));let r=n;return Math.abs(i-t)<=Math.abs(r-t)&&(r=i),Math.abs(o-t)<=Math.abs(r-t)&&(r=o),r<=0&&(r=1),r},my.prototype.getCurrent=function(){return Er(this._current.toPrecision(this.precision))},my.prototype.getStep=function(){return this._step},my.prototype.start=function(t){void 0===t&&(t=!1),this._current=this._start-this._start%this._step,t&&this.getCurrent()<this._start&&this.next()},my.prototype.next=function(){this._current+=this._step},my.prototype.end=function(){return this._current>this._end};var yy=i(my);Pn({target:"Math",stat:!0},{sign:Math.sign||function(t){var e=+t;return 0===e||e!=e?e:e<0?-1:1}});var vy=i(it.Math.sign);function gy(){this.armLocation=new fy,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new fy,this.offsetMultiplier=.6,this.cameraLocation=new fy,this.cameraRotation=new fy(.5*Math.PI,0,0),this.calculateCameraOrientation()}gy.prototype.setOffset=function(t,e){const n=Math.abs,i=vy,o=this.offsetMultiplier,r=this.armLength*o;n(t)>r&&(t=i(t)*r),n(e)>r&&(e=i(e)*r),this.cameraOffset.x=t,this.cameraOffset.y=e,this.calculateCameraOrientation()},gy.prototype.getOffset=function(){return this.cameraOffset},gy.prototype.setArmLocation=function(t,e,n){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=n,this.calculateCameraOrientation()},gy.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===t&&void 0===e||this.calculateCameraOrientation()},gy.prototype.getArmRotation=function(){const t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},gy.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},gy.prototype.getArmLength=function(){return this.armLength},gy.prototype.getCameraLocation=function(){return this.cameraLocation},gy.prototype.getCameraRotation=function(){return this.cameraRotation},gy.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;const t=this.cameraRotation.x,e=this.cameraRotation.z,n=this.cameraOffset.x,i=this.cameraOffset.y,o=Math.sin,r=Math.cos;this.cameraLocation.x=this.cameraLocation.x+n*r(e)+i*-o(e)*r(t),this.cameraLocation.y=this.cameraLocation.y+n*o(e)+i*r(e)*r(t),this.cameraLocation.z=this.cameraLocation.z+i*o(t)};const by={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},xy={dot:by.DOT,"dot-line":by.DOTLINE,"dot-color":by.DOTCOLOR,"dot-size":by.DOTSIZE,line:by.LINE,grid:by.GRID,surface:by.SURFACE,bar:by.BAR,"bar-color":by.BARCOLOR,"bar-size":by.BARSIZE},wy=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrayBottom","showGrid","showPerspective","showShadow","showSurfaceGrid","keepAspectRatio","rotateAxisLabels","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","axisFontSize","axisFontType","gridColor","xCenter","yCenter","zoomable","tooltipDelay","ctrlToZoom"],_y=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"];let Sy;function Ty(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ly(t,e){return void 0===t||""===t?e:t+(void 0===(n=e)||""===n||"string"!=typeof n?n:n.charAt(0).toUpperCase()+Mf(n).call(n,1));var n}function Cy(t,e,n,i){let o,r;for(let s=0;s<n.length;++s)o=n[s],r=Ly(i,o),e[r]=t[o]}function Ey(t,e,n,i){let o,r;for(let s=0;s<n.length;++s)o=n[s],void 0!==t[o]&&(r=Ly(i,o),e[r]=t[o])}function Ay(t,e){if(void 0!==t.backgroundColor&&function(t,e){let n="white",i="gray",o=1;if("string"==typeof t)n=t,i="none",o=0;else{if("object"!=typeof t)throw new Error("Unsupported type of backgroundColor");void 0!==Br(t)&&(n=Br(t)),void 0!==t.stroke&&(i=t.stroke),void 0!==t.strokeWidth&&(o=t.strokeWidth)}e.frame.style.backgroundColor=n,e.frame.style.borderColor=i,e.frame.style.borderWidth=o+"px",e.frame.style.borderStyle="solid"}(t.backgroundColor,e),function(t,e){if(void 0===t)return;void 0===e.dataColor&&(e.dataColor={});"string"==typeof t?(e.dataColor.fill=t,e.dataColor.stroke=t):(Br(t)&&(e.dataColor.fill=Br(t)),t.stroke&&(e.dataColor.stroke=t.stroke),void 0!==t.strokeWidth&&(e.dataColor.strokeWidth=t.strokeWidth))}(t.dataColor,e),function(t,e){if(void 0===t)return;let n;if("string"==typeof t){if(n=function(t){const e=xy[t];if(void 0===e)return-1;return e}(t),-1===n)throw new Error("Style '"+t+"' is invalid")}else{if(!function(t){let e=!1;for(const n in by)if(by[n]===t){e=!0;break}return e}(t))throw new Error("Style '"+t+"' is invalid");n=t}e.style=n}(t.style,e),void 0!==t.surfaceColors){if(console.warn("`options.surfaceColors` is deprecated and may be removed in a future version. Please use `options.colormap` instead. Note that the `colormap` option uses the inverse array ordering (running from vMin to vMax)."),void 0!==t.colormap)throw new Error("The `colormap` and `surfaceColors` options are mutually exclusive.");"surface"!==e.style?console.warn("Ignoring `surfaceColors` in graph style `"+e.style+"` for backward compatibility (only effective in `surface` plots)."):function(t,e){if(void 0===t||!0===t)return;if(!1===t)return void(e.surfaceColors=void 0);void 0===e.surfaceColors&&(e.surfaceColors={});let n;if(Pc(t))n=Py(t);else{if("object"!=typeof t)throw new Error("Unsupported type of surfaceColors");n=My(t.hue)}up(n).call(n),e.colormap=n}(t.surfaceColors,e)}else!function(t,e){if(void 0===t)return;let n;if(Pc(t))n=Py(t);else if("object"==typeof t)n=My(t.hue);else{if("function"!=typeof t)throw new Error("Unsupported type of colormap");n=t}e.colormap=n}(t.colormap,e);!function(t,e){if(void 0===t){if(void 0===Sy.showLegend){const t=e.style===by.DOTCOLOR||e.style===by.DOTSIZE;e.showLegend=t}}else e.showLegend=t}(t.showLegend,e),Oy(t.cameraPosition,e),void 0!==t.tooltip&&(e.showTooltip=t.tooltip),null!=t.onclick&&(e.onclick_callback=t.onclick,console.warn("`options.onclick` is deprecated and may be removed in a future version. Please use `Graph3d.on('click', handler)` instead.")),void 0!==t.tooltipStyle&&function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Pc(n))throw new TypeError("Arrays are not supported by deepExtend");for(let o=0;o<t.length;o++){const r=t[o];if(Object.prototype.hasOwnProperty.call(n,r))if(n[r]&&n[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?ny(e[r],n[r],!1,i):ey(e,n,r,i);else{if(Pc(n[r]))throw new TypeError("Arrays are not supported by deepExtend");ey(e,n,r,i)}}}(["tooltipStyle"],e,t)}function Py(t){if(t.length<2)throw new Error("Colormap array length must be 2 or above.");return If(t).call(t,(function(t){if(!function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}(t))throw new Error("Invalid hex color code supplied to colormap.");return function(t){let e;switch(t.length){case 3:case 4:return e=ty.exec(t),e?{r:$p(e[1]+e[1],16),g:$p(e[2]+e[2],16),b:$p(e[3]+e[3],16)}:null;case 6:case 7:return e=Km.exec(t),e?{r:$p(e[1],16),g:$p(e[2],16),b:$p(e[3],16)}:null;default:return null}}(t)}))}function My(t){if(void 0===t)throw new Error("Unsupported type of colormap");if(!(t.saturation>=0&&t.saturation<=100))throw new Error("Saturation is out of bounds. Expected range is 0-100.");if(!(t.brightness>=0&&t.brightness<=100))throw new Error("Brightness is out of bounds. Expected range is 0-100.");if(!(t.colorStops>=2))throw new Error("colorStops is out of bounds. Expected 2 or above.");const e=(t.end-t.start)/(t.colorStops-1),n=[];for(let i=0;i<t.colorStops;++i){const o=(t.start+e*i)%360/360;n.push(ry(o<0?o+1:o,t.saturation/100,t.brightness/100))}return n}function Oy(t,e){const n=t;void 0!==n&&(void 0===e.camera&&(e.camera=new gy),e.camera.setArmRotation(n.horizontal,n.vertical),e.camera.setArmLength(n.distance))}const Dy="string",Ry="boolean",zy="number",ky="object",Iy="array",jy={fill:{string:Dy},stroke:{string:Dy},strokeWidth:{number:zy},__type__:{string:Dy,object:ky,undefined:"undefined"}},Fy={animationAutoStart:{boolean:Ry,undefined:"undefined"},animationInterval:{number:zy},animationPreload:{boolean:Ry},axisColor:{string:Dy},axisFontSize:{number:zy},axisFontType:{string:Dy},backgroundColor:jy,xBarWidth:{number:zy,undefined:"undefined"},yBarWidth:{number:zy,undefined:"undefined"},cameraPosition:{distance:{number:zy},horizontal:{number:zy},vertical:{number:zy},__type__:{object:ky}},zoomable:{boolean:Ry},ctrlToZoom:{boolean:Ry},xCenter:{string:Dy},yCenter:{string:Dy},colormap:{hue:{start:{number:zy},end:{number:zy},saturation:{number:zy},brightness:{number:zy},colorStops:{number:zy},__type__:{object:ky}},__type__:{array:Iy,object:ky,function:"function",undefined:"undefined"}},dataColor:jy,dotSizeMinFraction:{number:zy},dotSizeMaxFraction:{number:zy},dotSizeRatio:{number:zy},filterLabel:{string:Dy},gridColor:{string:Dy},onclick:{function:"function"},keepAspectRatio:{boolean:Ry},xLabel:{string:Dy},yLabel:{string:Dy},zLabel:{string:Dy},legendLabel:{string:Dy},xMin:{number:zy,undefined:"undefined"},yMin:{number:zy,undefined:"undefined"},zMin:{number:zy,undefined:"undefined"},xMax:{number:zy,undefined:"undefined"},yMax:{number:zy,undefined:"undefined"},zMax:{number:zy,undefined:"undefined"},showAnimationControls:{boolean:Ry,undefined:"undefined"},showGrayBottom:{boolean:Ry},showGrid:{boolean:Ry},showLegend:{boolean:Ry,undefined:"undefined"},showPerspective:{boolean:Ry},showShadow:{boolean:Ry},showSurfaceGrid:{boolean:Ry},showXAxis:{boolean:Ry},showYAxis:{boolean:Ry},showZAxis:{boolean:Ry},rotateAxisLabels:{boolean:Ry},surfaceColors:{hue:{start:{number:zy},end:{number:zy},saturation:{number:zy},brightness:{number:zy},colorStops:{number:zy},__type__:{object:ky}},__type__:{boolean:Ry,array:Iy,object:ky,undefined:"undefined"}},xStep:{number:zy,undefined:"undefined"},yStep:{number:zy,undefined:"undefined"},zStep:{number:zy,undefined:"undefined"},style:{number:zy,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:Ry,function:"function"},tooltipDelay:{number:zy},tooltipStyle:{content:{color:{string:Dy},background:{string:Dy},border:{string:Dy},borderRadius:{string:Dy},boxShadow:{string:Dy},padding:{string:Dy},__type__:{object:ky}},line:{borderLeft:{string:Dy},height:{string:Dy},width:{string:Dy},pointerEvents:{string:Dy},__type__:{object:ky}},dot:{border:{string:Dy},borderRadius:{string:Dy},height:{string:Dy},width:{string:Dy},pointerEvents:{string:Dy},__type__:{object:ky}},__type__:{object:ky}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:zy,undefined:"undefined"},valueMin:{number:zy,undefined:"undefined"},verticalRatio:{number:zy},height:{string:Dy},width:{string:Dy},__type__:{object:ky}};function By(){this.min=void 0,this.max=void 0}By.prototype.adjust=function(t){void 0!==t&&((void 0===this.min||this.min>t)&&(this.min=t),(void 0===this.max||this.max<t)&&(this.max=t))},By.prototype.combine=function(t){this.add(t.min),this.add(t.max)},By.prototype.expand=function(t){if(void 0===t)return;const e=this.min-t,n=this.max+t;if(e>n)throw new Error("Passed expansion value makes range invalid");this.min=e,this.max=n},By.prototype.range=function(){return this.max-this.min},By.prototype.center=function(){return(this.min+this.max)/2};var Ny=i(By);function Wy(t,e,n){this.dataGroup=t,this.column=e,this.graph=n,this.index=void 0,this.value=void 0,this.values=t.getDistinctValues(this.column),gc(this).length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,n.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}function Yy(){this.dataTable=null}Wy.prototype.isLoaded=function(){return this.loaded},Wy.prototype.getLoadedProgress=function(){const t=gc(this).length;let e=0;for(;this.dataPoints[e];)e++;return Math.round(e/t*100)},Wy.prototype.getLabel=function(){return this.graph.filterLabel},Wy.prototype.getColumn=function(){return this.column},Wy.prototype.getSelectedValue=function(){if(void 0!==this.index)return gc(this)[this.index]},Wy.prototype.getValues=function(){return gc(this)},Wy.prototype.getValue=function(t){if(t>=gc(this).length)throw new Error("Index out of range");return gc(this)[t]},Wy.prototype._getDataPoints=function(t){if(void 0===t&&(t=this.index),void 0===t)return[];let n;if(this.dataPoints[t])n=this.dataPoints[t];else{const i={};i.column=this.column,i.value=gc(this)[t];const o=new e.DataView(this.dataGroup.getDataSet(),{filter:function(t){return t[i.column]==i.value}}).get();n=this.dataGroup._getDataPoints(o),this.dataPoints[t]=n}return n},Wy.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},Wy.prototype.selectValue=function(t){if(t>=gc(this).length)throw new Error("Index out of range");this.index=t,this.value=gc(this)[t]},Wy.prototype.loadInBackground=function(t){void 0===t&&(t=0);const e=this.graph.frame;if(t<gc(this).length){void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));const n=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+n+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";const i=this;vl((function(){i.loadInBackground(t+1)}),10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},Yy.prototype.initializeData=function(t,n,i){if(void 0===n)return;let o;if(Pc(n)&&(n=new e.DataSet(n)),!(n instanceof e.DataSet||n instanceof e.DataView))throw new Error("Array, DataSet, or DataView expected");if(o=n.get(),0==o.length)return;this.style=i,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=n,this.dataTable=o;const r=this;this._onChange=function(){t.setData(r.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";const s=t.hasBars(i);if(s&&(void 0!==t.defaultXBarWidth?this.xBarWidth=t.defaultXBarWidth:this.xBarWidth=this.getSmallestDifference(o,this.colX)||1,void 0!==t.defaultYBarWidth?this.yBarWidth=t.defaultYBarWidth:this.yBarWidth=this.getSmallestDifference(o,this.colY)||1),this._initializeRange(o,this.colX,t,s),this._initializeRange(o,this.colY,t,s),this._initializeRange(o,this.colZ,t,!1),Object.prototype.hasOwnProperty.call(o[0],"style")){this.colValue="style";const e=this.getColumnRange(o,this.colValue);this._setRangeDefaults(e,t.defaultValueMin,t.defaultValueMax),this.valueRange=e}else this.colValue="z",this.valueRange=this.zRange;const a=this.getDataTable();let c;return Object.prototype.hasOwnProperty.call(a[0],"filter")&&void 0===this.dataFilter&&(this.dataFilter=new Wy(this,"filter",t),this.dataFilter.setOnLoadCallback((function(){t.redraw()}))),c=this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable()),c},Yy.prototype._collectRangeSettings=function(t,e){var n;if(-1==yo(n=["x","y","z"]).call(n,t))throw new Error("Column '"+t+"' invalid");const i=t.toUpperCase();return{barWidth:this[t+"BarWidth"],min:e["default"+i+"Min"],max:e["default"+i+"Max"],step:e["default"+i+"Step"],range_label:t+"Range",step_label:t+"Step"}},Yy.prototype._initializeRange=function(t,e,n,i){const o=this._collectRangeSettings(e,n),r=this.getColumnRange(t,e);i&&"z"!=e&&r.expand(o.barWidth/2),this._setRangeDefaults(r,o.min,o.max),this[o.range_label]=r,this[o.step_label]=void 0!==o.step?o.step:r.range()/5},Yy.prototype.getDistinctValues=function(t,e){void 0===e&&(e=this.dataTable);const n=[];for(let i=0;i<e.length;i++){const o=e[i][t]||0;-1===yo(n).call(n,o)&&n.push(o)}return to(n).call(n,(function(t,e){return t-e}))},Yy.prototype.getSmallestDifference=function(t,e){const n=this.getDistinctValues(t,e);let i=null;for(let t=1;t<n.length;t++){const e=n[t]-n[t-1];(null==i||i>e)&&(i=e)}return i},Yy.prototype.getColumnRange=function(t,e){const n=new Ny;for(let i=0;i<t.length;i++){const o=t[i][e];n.adjust(o)}return n},Yy.prototype.getNumberOfRows=function(){return this.dataTable.length},Yy.prototype._setRangeDefaults=function(t,e,n){void 0!==e&&(t.min=e),void 0!==n&&(t.max=n),t.max<=t.min&&(t.max=t.min+1)},Yy.prototype.getDataTable=function(){return this.dataTable},Yy.prototype.getDataSet=function(){return this.dataSet},Yy.prototype.getDataPoints=function(t){const e=[];for(let n=0;n<t.length;n++){const i=new fy;i.x=t[n][this.colX]||0,i.y=t[n][this.colY]||0,i.z=t[n][this.colZ]||0,i.data=t[n],i.value=t[n][this.colValue]||0;const o={};o.point=i,o.bottom=new fy(i.x,i.y,this.zRange.min),o.trans=void 0,o.screen=void 0,e.push(o)}return e},Yy.prototype.initDataAsMatrix=function(t){let e,n,i,o;const r=this.getDistinctValues(this.colX,t),s=this.getDistinctValues(this.colY,t),a=this.getDataPoints(t),c=[];for(i=0;i<a.length;i++){o=a[i];const t=yo(r).call(r,o.point.x),e=yo(s).call(s,o.point.y);void 0===c[t]&&(c[t]=[]),c[t][e]=o}for(e=0;e<c.length;e++)for(n=0;n<c[e].length;n++)c[e][n]&&(c[e][n].pointRight=e<c.length-1?c[e+1][n]:void 0,c[e][n].pointTop=n<c[e].length-1?c[e][n+1]:void 0,c[e][n].pointCross=e<c.length-1&&n<c[e].length-1?c[e+1][n+1]:void 0);return a},Yy.prototype.getInfo=function(){const t=this.dataFilter;if(t)return t.getLabel()+": "+t.getSelectedValue()},Yy.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},Yy.prototype._getDataPoints=function(t){let e=[];if(this.style===by.GRID||this.style===by.SURFACE)e=this.initDataAsMatrix(t);else if(e=this.getDataPoints(t),this.style===by.LINE)for(let t=0;t<e.length;t++)t>0&&(e[t-1].pointNext=e[t]);return e},Xy.STYLE=by;const Gy=void 0;function Xy(t,e,n){if(!(this instanceof Xy))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.dataGroup=new Yy,this.dataPoints=null,this.create(),function(t,e){if(void 0===t||Ty(t))throw new Error("No DEFAULTS passed");if(void 0===e)throw new Error("No dst passed");Sy=t,Cy(t,e,wy),Cy(t,e,_y,"default"),Ay(t,e),e.margin=10,e.showTooltip=!1,e.onclick_callback=null,e.eye=new fy(0,0,-1)}(Xy.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(n),this.setData(e)}function Vy(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function Uy(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}Xy.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(t){return t},yValueLabel:function(t){return t},zValueLabel:function(t){return t},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrayBottom:!1,showGrid:!0,showPerspective:!0,showShadow:!1,showSurfaceGrid:!0,keepAspectRatio:!0,rotateAxisLabels:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:Gy,animationInterval:1e3,animationPreload:!1,animationAutoStart:Gy,axisFontSize:14,axisFontType:"arial",axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:Xy.STYLE.DOT,tooltip:!1,tooltipDelay:300,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d",pointerEvents:"none"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px",pointerEvents:"none"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},surfaceColors:Gy,colormap:Gy,cameraPosition:{horizontal:1,vertical:.5,distance:1.7},zoomable:!0,ctrlToZoom:!1,showLegend:Gy,backgroundColor:Gy,xBarWidth:Gy,yBarWidth:Gy,valueMin:Gy,valueMax:Gy,xMin:Gy,xMax:Gy,xStep:Gy,yMin:Gy,yMax:Gy,yStep:Gy,zMin:Gy,zMax:Gy,zStep:Gy},kl(Xy.prototype),Xy.prototype._setScale=function(){this.scale=new fy(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());const t=this.xRange.center()*this.scale.x,e=this.yRange.center()*this.scale.y,n=this.zRange.center()*this.scale.z;this.camera.setArmLocation(t,e,n)},Xy.prototype._convert3Dto2D=function(t){const e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},Xy.prototype._convertPointToTranslation=function(t){const e=this.camera.getCameraLocation(),n=this.camera.getCameraRotation(),i=t.x*this.scale.x,o=t.y*this.scale.y,r=t.z*this.scale.z,s=e.x,a=e.y,c=e.z,l=Math.sin(n.x),h=Math.cos(n.x),u=Math.sin(n.y),f=Math.cos(n.y),p=Math.sin(n.z),d=Math.cos(n.z);return new fy(f*(p*(o-a)+d*(i-s))-u*(r-c),l*(f*(r-c)+u*(p*(o-a)+d*(i-s)))+h*(d*(o-a)-p*(i-s)),h*(f*(r-c)+u*(p*(o-a)+d*(i-s)))-l*(d*(o-a)-p*(i-s)))},Xy.prototype._convertTranslationToScreen=function(t){const e=this.eye.x,n=this.eye.y,i=this.eye.z,o=t.x,r=t.y,s=t.z;let a,c;return this.showPerspective?(a=i/s*(o-e),c=i/s*(r-n)):(a=o*(-i/this.camera.getArmLength()),c=r*(-i/this.camera.getArmLength())),new py(this.currentXCenter+a*this.frame.canvas.clientWidth,this.currentYCenter-c*this.frame.canvas.clientWidth)},Xy.prototype._calcTranslations=function(t){for(let e=0;e<t.length;e++){const n=t[e];n.trans=this._convertPointToTranslation(n.point),n.screen=this._convertTranslationToScreen(n.trans);const i=this._convertPointToTranslation(n.bottom);n.dist=this.showPerspective?i.length():-i.z}to(t).call(t,(function(t,e){return e.dist-t.dist}))},Xy.prototype._initializeRanges=function(){const t=this.dataGroup;this.xRange=t.xRange,this.yRange=t.yRange,this.zRange=t.zRange,this.valueRange=t.valueRange,this.xStep=t.xStep,this.yStep=t.yStep,this.zStep=t.zStep,this.xBarWidth=t.xBarWidth,this.yBarWidth=t.yBarWidth,this.colX=t.colX,this.colY=t.colY,this.colZ=t.colZ,this.colValue=t.colValue,this._setScale()},Xy.prototype.getDataPoints=function(t){const e=[];for(let n=0;n<t.length;n++){const i=new fy;i.x=t[n][this.colX]||0,i.y=t[n][this.colY]||0,i.z=t[n][this.colZ]||0,i.data=t[n],i.value=t[n][this.colValue]||0;const o={};o.point=i,o.bottom=new fy(i.x,i.y,this.zRange.min),o.trans=void 0,o.screen=void 0,e.push(o)}return e},Xy.prototype._getDataPoints=function(t){let e,n,i,o,r=[];if(this.style===Xy.STYLE.GRID||this.style===Xy.STYLE.SURFACE){const s=this.dataGroup.getDistinctValues(this.colX,t),a=this.dataGroup.getDistinctValues(this.colY,t);r=this.getDataPoints(t);const c=[];for(i=0;i<r.length;i++){o=r[i];const t=yo(s).call(s,o.point.x),e=yo(a).call(a,o.point.y);void 0===c[t]&&(c[t]=[]),c[t][e]=o}for(e=0;e<c.length;e++)for(n=0;n<c[e].length;n++)c[e][n]&&(c[e][n].pointRight=e<c.length-1?c[e+1][n]:void 0,c[e][n].pointTop=n<c[e].length-1?c[e][n+1]:void 0,c[e][n].pointCross=e<c.length-1&&n<c[e].length-1?c[e+1][n+1]:void 0)}else if(r=this.getDataPoints(t),this.style===Xy.STYLE.LINE)for(i=0;i<r.length;i++)i>0&&(r[i-1].pointNext=r[i]);return r},Xy.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.frame.filter=document.createElement("div"),ar(this.frame).style.position="absolute",ar(this.frame).style.bottom="0px",ar(this.frame).style.left="0px",ar(this.frame).style.width="100%",this.frame.appendChild(ar(this.frame));const t=this;this.frame.canvas.addEventListener("mousedown",(function(e){t._onMouseDown(e)})),this.frame.canvas.addEventListener("touchstart",(function(e){t._onTouchStart(e)})),this.frame.canvas.addEventListener("mousewheel",(function(e){t._onWheel(e)})),this.frame.canvas.addEventListener("mousemove",(function(e){t._onTooltip(e)})),this.frame.canvas.addEventListener("click",(function(e){t._onClick(e)})),this.containerElement.appendChild(this.frame)},Xy.prototype._setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},Xy.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,ar(this.frame).style.width=this.frame.canvas.clientWidth-20+"px"},Xy.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!ar(this.frame)||!ar(this.frame).slider)throw new Error("No animation available");ar(this.frame).slider.play()}},Xy.prototype.animationStop=function(){ar(this.frame)&&ar(this.frame).slider&&ar(this.frame).slider.stop()},Xy.prototype._resizeCenter=function(){"%"===this.xCenter.charAt(this.xCenter.length-1)?this.currentXCenter=Er(this.xCenter)/100*this.frame.canvas.clientWidth:this.currentXCenter=Er(this.xCenter),"%"===this.yCenter.charAt(this.yCenter.length-1)?this.currentYCenter=Er(this.yCenter)/100*(this.frame.canvas.clientHeight-ar(this.frame).clientHeight):this.currentYCenter=Er(this.yCenter)},Xy.prototype.getCameraPosition=function(){const t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},Xy.prototype._readData=function(t){this.dataPoints=this.dataGroup.initializeData(this,t,this.style),this._initializeRanges(),this._redrawFilter()},Xy.prototype.setData=function(t){null!=t&&(this._readData(t),this.redraw(),this.animationStart())},Xy.prototype.setOptions=function(t){if(void 0===t)return;!0===hy.validate(t,Fy)&&console.error("%cErrors have been found in the supplied options object.",ly),this.animationStop(),function(t,e){if(void 0!==t){if(void 0===e)throw new Error("No dst passed");if(void 0===Sy||Ty(Sy))throw new Error("DEFAULTS not set for module Settings");Ey(t,e,wy),Ey(t,e,_y,"default"),Ay(t,e)}}(t,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setAxisLabelMethod(),this.setData(this.dataGroup.getDataTable()),this.animationStart()},Xy.prototype.setPointDrawingMethod=function(){let t;switch(this.style){case Xy.STYLE.BAR:t=this._redrawBarGraphPoint;break;case Xy.STYLE.BARCOLOR:t=this._redrawBarColorGraphPoint;break;case Xy.STYLE.BARSIZE:t=this._redrawBarSizeGraphPoint;break;case Xy.STYLE.DOT:t=this._redrawDotGraphPoint;break;case Xy.STYLE.DOTLINE:t=this._redrawDotLineGraphPoint;break;case Xy.STYLE.DOTCOLOR:t=this._redrawDotColorGraphPoint;break;case Xy.STYLE.DOTSIZE:t=this._redrawDotSizeGraphPoint;break;case Xy.STYLE.SURFACE:t=this._redrawSurfaceGraphPoint;break;case Xy.STYLE.GRID:t=this._redrawGridGraphPoint;break;case Xy.STYLE.LINE:t=this._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=t},Xy.prototype.setAxisLabelMethod=function(){this.rotateAxisLabels?(this._drawAxisLabelX=this.drawAxisLabelXRotate,this._drawAxisLabelY=this.drawAxisLabelYRotate,this._drawAxisLabelZ=this.drawAxisLabelZRotate):(this._drawAxisLabelX=this.drawAxisLabelX,this._drawAxisLabelY=this.drawAxisLabelY,this._drawAxisLabelZ=this.drawAxisLabelZ)},Xy.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},Xy.prototype._getContext=function(){const t=this.frame.canvas.getContext("2d");return t.lineJoin="round",t.lineCap="round",t},Xy.prototype._redrawClear=function(){const t=this.frame.canvas;t.getContext("2d").clearRect(0,0,t.width,t.height)},Xy.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},Xy.prototype._getLegendWidth=function(){let t;if(this.style===Xy.STYLE.DOTSIZE){t=this._dotSize()*this.dotSizeMaxFraction}else t=this.style===Xy.STYLE.BARSIZE?this.xBarWidth:20;return t},Xy.prototype._redrawLegend=function(){if(!0!==this.showLegend)return;if(this.style===Xy.STYLE.LINE||this.style===Xy.STYLE.BARSIZE)return;const t=this.style===Xy.STYLE.BARSIZE||this.style===Xy.STYLE.DOTSIZE,e=this.style===Xy.STYLE.DOTSIZE||this.style===Xy.STYLE.DOTCOLOR||this.style===Xy.STYLE.SURFACE||this.style===Xy.STYLE.BARCOLOR,n=Math.max(.25*this.frame.clientHeight,100),i=this.margin,o=this._getLegendWidth(),r=this.frame.clientWidth-this.margin,s=r-o,a=i+n,c=this._getContext();if(c.lineWidth=1,c.font="14px arial",!1===t){const t=0,e=n;let a;for(a=t;a<e;a++){const n=1-(a-t)/(e-t),o=this._colormap(n,1);c.strokeStyle=o,c.beginPath(),c.moveTo(s,i+a),c.lineTo(r,i+a),c.stroke()}c.strokeStyle=this.axisColor,c.strokeRect(s,i,o,n)}else{let t;this.style===Xy.STYLE.DOTSIZE?t=o*(this.dotSizeMinFraction/this.dotSizeMaxFraction):(this.style,Xy.STYLE.BARSIZE),c.strokeStyle=this.axisColor,c.fillStyle=Br(this.dataColor),c.beginPath(),c.moveTo(s,i),c.lineTo(r,i),c.lineTo(s+t,a),c.lineTo(s,a),c.closePath(),Br(c).call(c),c.stroke()}const l=e?this.valueRange.min:this.zRange.min,h=e?this.valueRange.max:this.zRange.max,u=new yy(l,h,(h-l)/5,!0);for(u.start(!0);!u.end();){const t=a-(u.getCurrent()-l)/(h-l)*n,e=new py(s-5,t),i=new py(s,t);this._line(c,e,i),c.textAlign="right",c.textBaseline="middle",c.fillStyle=this.axisColor,c.fillText(u.getCurrent(),s-10,t),u.next()}c.textAlign="right",c.textBaseline="top";const f=this.legendLabel;c.fillText(f,r,a+this.margin)},Xy.prototype._redrawFilter=function(){const t=this.dataGroup.dataFilter,e=ar(this.frame);if(e.innerHTML="",!t)return void(e.slider=void 0);const n=new dy(e,{visible:this.showAnimationControls});e.slider=n,e.style.padding="10px",n.setValues(gc(t)),n.setPlayInterval(this.animationInterval);const i=this;n.setOnChangeCallback((function(){const t=i.dataGroup.dataFilter,e=n.getIndex();t.selectValue(e),i.dataPoints=t._getDataPoints(),i.redraw()}))},Xy.prototype._redrawSlider=function(){void 0!==ar(this.frame).slider&&ar(this.frame).slider.redraw()},Xy.prototype._redrawInfo=function(){const t=this.dataGroup.getInfo();if(void 0===t)return;const e=this._getContext();e.font="14px arial",e.lineStyle="gray",e.fillStyle="gray",e.textAlign="left",e.textBaseline="top";const n=this.margin,i=this.margin;e.fillText(t,n,i)},Xy.prototype._line=function(t,e,n,i){void 0!==i&&(t.strokeStyle=i),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.stroke()},Xy.prototype.drawAxisLabelX=function(t,e,n,i,o){void 0===o&&(o=0);const r=this._convert3Dto2D(e);Math.cos(2*i)>0?(t.textAlign="center",t.textBaseline="top",r.y+=o):Math.sin(2*i)<0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(n,r.x,r.y)},Xy.prototype.drawAxisLabelY=function(t,e,n,i,o){void 0===o&&(o=0);const r=this._convert3Dto2D(e);Math.cos(2*i)<0?(t.textAlign="center",t.textBaseline="top",r.y+=o):Math.sin(2*i)>0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(n,r.x,r.y)},Xy.prototype.drawAxisLabelZ=function(t,e,n,i){void 0===i&&(i=0);const o=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,o.x-i,o.y)},Xy.prototype.drawAxisLabelXRotate=function(t,e,n,i,o){const r=this._convert3Dto2D(e);Math.cos(2*i)>0?(t.save(),t.translate(r.x,r.y),t.rotate(-Math.PI/2),t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,0,0),t.restore()):Math.sin(2*i)<0?(t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,r.x,r.y)):(t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,r.x,r.y))},Xy.prototype.drawAxisLabelYRotate=function(t,e,n,i,o){const r=this._convert3Dto2D(e);Math.cos(2*i)<0?(t.save(),t.translate(r.x,r.y),t.rotate(-Math.PI/2),t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,0,0),t.restore()):Math.sin(2*i)>0?(t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,r.x,r.y)):(t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,r.x,r.y))},Xy.prototype.drawAxisLabelZRotate=function(t,e,n,i){void 0===i&&(i=0);const o=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,o.x-i,o.y)},Xy.prototype._line3d=function(t,e,n,i){const o=this._convert3Dto2D(e),r=this._convert3Dto2D(n);this._line(t,o,r,i)},Xy.prototype._redrawAxis=function(){const t=this._getContext();let e,n,i,o,r,s,a,c,l,h,u;t.font=this.axisFontSize/this.camera.getArmLength()+"px "+this.axisFontType;const f=.025/this.scale.x,p=.025/this.scale.y,d=5/this.camera.getArmLength(),m=this.camera.getArmRotation().horizontal,y=new py(Math.cos(m),Math.sin(m)),v=this.xRange,g=this.yRange,b=this.zRange;let x;for(t.lineWidth=1,o=void 0===this.defaultXStep,i=new yy(v.min,v.max,this.xStep,o),i.start(!0);!i.end();){const o=i.getCurrent();if(this.showGrid?(e=new fy(o,g.min,b.min),n=new fy(o,g.max,b.min),this._line3d(t,e,n,this.gridColor)):this.showXAxis&&(e=new fy(o,g.min,b.min),n=new fy(o,g.min+f,b.min),this._line3d(t,e,n,this.axisColor),e=new fy(o,g.max,b.min),n=new fy(o,g.max-f,b.min),this._line3d(t,e,n,this.axisColor)),this.showXAxis){a=y.x>0?g.min:g.max,x=new fy(o,a,b.min);const e="  "+this.xValueLabel(o)+"  ";this._drawAxisLabelX.call(this,t,x,e,m,d)}i.next()}for(t.lineWidth=1,o=void 0===this.defaultYStep,i=new yy(g.min,g.max,this.yStep,o),i.start(!0);!i.end();){const o=i.getCurrent();if(this.showGrid?(e=new fy(v.min,o,b.min),n=new fy(v.max,o,b.min),this._line3d(t,e,n,this.gridColor)):this.showYAxis&&(e=new fy(v.min,o,b.min),n=new fy(v.min+p,o,b.min),this._line3d(t,e,n,this.axisColor),e=new fy(v.max,o,b.min),n=new fy(v.max-p,o,b.min),this._line3d(t,e,n,this.axisColor)),this.showYAxis){s=y.y>0?v.min:v.max,x=new fy(s,o,b.min);const e="  "+this.yValueLabel(o)+"  ";this._drawAxisLabelY.call(this,t,x,e,m,d)}i.next()}if(this.showZAxis){for(t.lineWidth=1,o=void 0===this.defaultZStep,i=new yy(b.min,b.max,this.zStep,o),i.start(!0),s=y.x>0?v.min:v.max,a=y.y<0?g.min:g.max;!i.end();){const e=i.getCurrent(),o=new fy(s,a,e),r=this._convert3Dto2D(o);n=new py(r.x-d,r.y),this._line(t,r,n,this.axisColor);const c=this.zValueLabel(e)+" ";this._drawAxisLabelZ.call(this,t,o,c,5),i.next()}t.lineWidth=1,e=new fy(s,a,b.min),n=new fy(s,a,b.max),this._line3d(t,e,n,this.axisColor)}if(this.showXAxis){let e,n;t.lineWidth=1,e=new fy(v.min,g.min,b.min),n=new fy(v.max,g.min,b.min),this._line3d(t,e,n,this.axisColor),e=new fy(v.min,g.max,b.min),n=new fy(v.max,g.max,b.min),this._line3d(t,e,n,this.axisColor)}this.showYAxis&&(t.lineWidth=1,e=new fy(v.min,g.min,b.min),n=new fy(v.min,g.max,b.min),this._line3d(t,e,n,this.axisColor),e=new fy(v.max,g.min,b.min),n=new fy(v.max,g.max,b.min),this._line3d(t,e,n,this.axisColor));const w=this.xLabel;w.length>0&&this.showXAxis&&(u=.1/this.scale.y,s=(v.max+3*v.min)/4,a=y.x>0?g.min-u:g.max+u,r=new fy(s,a,b.min),this.drawAxisLabelX(t,r,w,m));const _=this.yLabel;_.length>0&&this.showYAxis&&(h=.1/this.scale.x,s=y.y>0?v.min-h:v.max+h,a=(g.max+3*g.min)/4,r=new fy(s,a,b.min),this.drawAxisLabelY(t,r,_,m));const S=this.zLabel;S.length>0&&this.showZAxis&&(l=30,s=y.x>0?v.min:v.max,a=y.y<0?g.min:g.max,c=(b.max+3*b.min)/4,r=new fy(s,a,c),this.drawAxisLabelZ(t,r,S,30))},Xy.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},Xy.prototype._redrawBar=function(t,e,n,i,o,r){let s;const a=this,c=e.point,l=this.zRange.min,h=[{point:new fy(c.x-n,c.y-i,c.z)},{point:new fy(c.x+n,c.y-i,c.z)},{point:new fy(c.x+n,c.y+i,c.z)},{point:new fy(c.x-n,c.y+i,c.z)}],u=[{point:new fy(c.x-n,c.y-i,l)},{point:new fy(c.x+n,c.y-i,l)},{point:new fy(c.x+n,c.y+i,l)},{point:new fy(c.x-n,c.y+i,l)}];Ac(h).call(h,(function(t){t.screen=a._convert3Dto2D(t.point)})),Ac(u).call(u,(function(t){t.screen=a._convert3Dto2D(t.point)}));const f=[{corners:h,center:fy.avg(u[0].point,u[2].point)},{corners:[h[0],h[1],u[1],u[0]],center:fy.avg(u[1].point,u[0].point)},{corners:[h[1],h[2],u[2],u[1]],center:fy.avg(u[2].point,u[1].point)},{corners:[h[2],h[3],u[3],u[2]],center:fy.avg(u[3].point,u[2].point)},{corners:[h[3],h[0],u[0],u[3]],center:fy.avg(u[0].point,u[3].point)}];e.surfaces=f;for(let t=0;t<f.length;t++){s=f[t];const e=this._convertPointToTranslation(s.center);s.dist=this.showPerspective?e.length():-e.z}to(f).call(f,(function(t,e){const n=e.dist-t.dist;return n||(t.corners===h?1:e.corners===h?-1:0)})),t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=r,t.fillStyle=o;for(let e=2;e<f.length;e++)s=f[e],this._polygon(t,s.corners)},Xy.prototype._polygon=function(t,e,n,i){if(!(e.length<2)){void 0!==n&&(t.fillStyle=n),void 0!==i&&(t.strokeStyle=i),t.beginPath(),t.moveTo(e[0].screen.x,e[0].screen.y);for(let n=1;n<e.length;++n){const i=e[n];t.lineTo(i.screen.x,i.screen.y)}t.closePath(),Br(t).call(t),t.stroke()}},Xy.prototype._drawCircle=function(t,e,n,i,o){const r=this._calcRadius(e,o);t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=i,t.fillStyle=n,t.beginPath(),t.arc(e.screen.x,e.screen.y,r,0,2*Math.PI,!0),Br(t).call(t),t.stroke()},Xy.prototype._getColorsRegular=function(t){const e=(t.point.value-this.valueRange.min)*this.scale.value;return{fill:this._colormap(e,1),border:this._colormap(e,.8)}},Xy.prototype._getColorsColor=function(t){let e,n,i;if(t&&t.point&&t.point.data&&t.point.data.style&&(i=t.point.data.style),i&&"object"==typeof i&&Br(i)&&i.stroke)return{fill:Br(i),border:i.stroke};if("string"==typeof t.point.value)e=t.point.value,n=t.point.value;else{const i=(t.point.value-this.valueRange.min)*this.scale.value;e=this._colormap(i,1),n=this._colormap(i,.8)}return{fill:e,border:n}},Xy.prototype._getColorsSize=function(){return{fill:Br(this.dataColor),border:this.dataColor.stroke}},Xy.prototype._colormap=function(t){let e,n,i,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const s=this.colormap;if(Pc(s)){const o=s.length-1,r=Math.max(Math.floor(t*o),0),a=Math.min(r+1,o),c=t*o-r,l=s[r],h=s[a];e=l.r+c*(h.r-l.r),n=l.g+c*(h.g-l.g),i=l.b+c*(h.b-l.b)}else if("function"==typeof s)({r:e,g:n,b:i,a:o}=s(t));else{const o=240*(1-t);({r:e,g:n,b:i}=ry(o/360,1,1))}var a,c,l,h,u;return"number"!=typeof o||Mc(o)?$c(a=$c(c="RGB(".concat(Math.round(e*r),", ")).call(c,Math.round(n*r),", ")).call(a,Math.round(i*r),")"):$c(l=$c(h=$c(u="RGBA(".concat(Math.round(e*r),", ")).call(u,Math.round(n*r),", ")).call(h,Math.round(i*r),", ")).call(l,o,")")},Xy.prototype._calcRadius=function(t,e){let n;return void 0===e&&(e=this._dotSize()),n=this.showPerspective?e/-t.trans.z:e*(-this.eye.z/this.camera.getArmLength()),n<0&&(n=0),n},Xy.prototype._redrawBarGraphPoint=function(t,e){const n=this.xBarWidth/2,i=this.yBarWidth/2,o=this._getColorsRegular(e);this._redrawBar(t,e,n,i,Br(o),o.border)},Xy.prototype._redrawBarColorGraphPoint=function(t,e){const n=this.xBarWidth/2,i=this.yBarWidth/2,o=this._getColorsColor(e);this._redrawBar(t,e,n,i,Br(o),o.border)},Xy.prototype._redrawBarSizeGraphPoint=function(t,e){const n=(e.point.value-this.valueRange.min)/this.valueRange.range(),i=this.xBarWidth/2*(.8*n+.2),o=this.yBarWidth/2*(.8*n+.2),r=this._getColorsSize();this._redrawBar(t,e,i,o,Br(r),r.border)},Xy.prototype._redrawDotGraphPoint=function(t,e){const n=this._getColorsRegular(e);this._drawCircle(t,e,Br(n),n.border)},Xy.prototype._redrawDotLineGraphPoint=function(t,e){const n=this._convert3Dto2D(e.bottom);t.lineWidth=1,this._line(t,n,e.screen,this.gridColor),this._redrawDotGraphPoint(t,e)},Xy.prototype._redrawDotColorGraphPoint=function(t,e){const n=this._getColorsColor(e);this._drawCircle(t,e,Br(n),n.border)},Xy.prototype._redrawDotSizeGraphPoint=function(t,e){const n=this._dotSize(),i=(e.point.value-this.valueRange.min)/this.valueRange.range(),o=n*this.dotSizeMinFraction,r=o+(n*this.dotSizeMaxFraction-o)*i,s=this._getColorsSize();this._drawCircle(t,e,Br(s),s.border,r)},Xy.prototype._redrawSurfaceGraphPoint=function(t,e){const n=e.pointRight,i=e.pointTop,o=e.pointCross;if(void 0===e||void 0===n||void 0===i||void 0===o)return;let r,s,a,c=!0;if(this.showGrayBottom||this.showShadow){const t=fy.subtract(o.trans,e.trans),r=fy.subtract(i.trans,n.trans),s=fy.crossProduct(t,r);if(this.showPerspective){const t=fy.avg(fy.avg(e.trans,o.trans),fy.avg(n.trans,i.trans));a=-fy.dotProduct(s.normalize(),t.normalize())}else a=s.z/s.length();c=a>0}if(c||!this.showGrayBottom){const t=((e.point.value+n.point.value+i.point.value+o.point.value)/4-this.valueRange.min)*this.scale.value,s=this.showShadow?(1+a)/2:1;r=this._colormap(t,s)}else r="gray";s=this.showSurfaceGrid?this.axisColor:r,t.lineWidth=this._getStrokeWidth(e);const l=[e,n,o,i];this._polygon(t,l,r,s)},Xy.prototype._drawGridLine=function(t,e,n){if(void 0===e||void 0===n)return;const i=((e.point.value+n.point.value)/2-this.valueRange.min)*this.scale.value;t.lineWidth=2*this._getStrokeWidth(e),t.strokeStyle=this._colormap(i,1),this._line(t,e.screen,n.screen)},Xy.prototype._redrawGridGraphPoint=function(t,e){this._drawGridLine(t,e,e.pointRight),this._drawGridLine(t,e,e.pointTop)},Xy.prototype._redrawLineGraphPoint=function(t,e){void 0!==e.pointNext&&(t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=this.dataColor.stroke,this._line(t,e.screen,e.pointNext.screen))},Xy.prototype._redrawDataGraph=function(){const t=this._getContext();let e;if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),e=0;e<this.dataPoints.length;e++){const n=this.dataPoints[e];this._pointDrawingMethod.call(this,t,n)}},Xy.prototype._storeMousePosition=function(t){this.startMouseX=Vy(t),this.startMouseY=Uy(t),this._startCameraOffset=this.camera.getOffset()},Xy.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,!this.leftButtonDown&&!this.touchDown)return;this._storeMousePosition(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";const e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},document.addEventListener("mousemove",e.onmousemove),document.addEventListener("mouseup",e.onmouseup),oy(t)},Xy.prototype._onMouseMove=function(t){this.moving=!0,t=t||window.event;const e=Er(Vy(t))-this.startMouseX,n=Er(Uy(t))-this.startMouseY;if(t&&!0===t.ctrlKey){const i=.5*this.frame.clientWidth,o=.5*this.frame.clientHeight,r=(this._startCameraOffset.x||0)-e/i*this.camera.armLength*.8,s=(this._startCameraOffset.y||0)+n/o*this.camera.armLength*.8;this.camera.setOffset(r,s),this._storeMousePosition(t)}else{let t=this.startArmRotation.horizontal+e/200,i=this.startArmRotation.vertical+n/200;const o=4,r=Math.sin(o/360*2*Math.PI);Math.abs(Math.sin(t))<r&&(t=Math.round(t/Math.PI)*Math.PI-.001),Math.abs(Math.cos(t))<r&&(t=(Math.round(t/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(i))<r&&(i=Math.round(i/Math.PI)*Math.PI),Math.abs(Math.cos(i))<r&&(i=(Math.round(i/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(t,i)}this.redraw();const i=this.getCameraPosition();this.emit("cameraPositionChange",i),oy(t)},Xy.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,document.removeEventListener("mousemove",this.onmousemove),document.removeEventListener("mouseup",this.onmouseup),oy(t)},Xy.prototype._onClick=function(t){if(this.onclick_callback||this.hasListeners("click")){if(this.moving)this.moving=!1;else{const e=this.frame.getBoundingClientRect(),n=Vy(t)-e.left,i=Uy(t)-e.top,o=this._dataPointFromXY(n,i);o&&(this.onclick_callback&&this.onclick_callback(o.point.data),this.emit("click",o.point.data))}oy(t)}},Xy.prototype._onTooltip=function(t){const e=this.tooltipDelay,n=this.frame.getBoundingClientRect(),i=Vy(t)-n.left,o=Uy(t)-n.top;if(this.showTooltip)if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)this._hideTooltip();else if(this.tooltip&&this.tooltip.dataPoint){const t=this._dataPointFromXY(i,o);t!==this.tooltip.dataPoint&&(t?this._showTooltip(t):this._hideTooltip())}else{const t=this;this.tooltipTimeout=vl((function(){t.tooltipTimeout=null;const e=t._dataPointFromXY(i,o);e&&t._showTooltip(e)}),e)}},Xy.prototype._onTouchStart=function(t){this.touchDown=!0;const e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},document.addEventListener("touchmove",e.ontouchmove),document.addEventListener("touchend",e.ontouchend),this._onMouseDown(t)},Xy.prototype._onTouchMove=function(t){this._onMouseMove(t)},Xy.prototype._onTouchEnd=function(t){this.touchDown=!1,document.removeEventListener("touchmove",this.ontouchmove),document.removeEventListener("touchend",this.ontouchend),this._onMouseUp(t)},Xy.prototype._onWheel=function(t){if(t||(t=window.event),this.zoomable&&(!this.ctrlToZoom||t.ctrlKey)){let e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){const t=this.camera.getArmLength()*(1-e/10);this.camera.setArmLength(t),this.redraw(),this._hideTooltip()}const n=this.getCameraPosition();this.emit("cameraPositionChange",n),oy(t)}},Xy.prototype._insideTriangle=function(t,e){const n=e[0],i=e[1],o=e[2];function r(t){return t>0?1:t<0?-1:0}const s=r((i.x-n.x)*(t.y-n.y)-(i.y-n.y)*(t.x-n.x)),a=r((o.x-i.x)*(t.y-i.y)-(o.y-i.y)*(t.x-i.x)),c=r((n.x-o.x)*(t.y-o.y)-(n.y-o.y)*(t.x-o.x));return!(0!=s&&0!=a&&s!=a||0!=a&&0!=c&&a!=c||0!=s&&0!=c&&s!=c)},Xy.prototype._dataPointFromXY=function(t,e){const n=new py(t,e);let i,o=null,r=null,s=null;if(this.style===Xy.STYLE.BAR||this.style===Xy.STYLE.BARCOLOR||this.style===Xy.STYLE.BARSIZE)for(i=this.dataPoints.length-1;i>=0;i--){o=this.dataPoints[i];const t=o.surfaces;if(t)for(let e=t.length-1;e>=0;e--){const i=t[e].corners,r=[i[0].screen,i[1].screen,i[2].screen],s=[i[2].screen,i[3].screen,i[0].screen];if(this._insideTriangle(n,r)||this._insideTriangle(n,s))return o}}else for(i=0;i<this.dataPoints.length;i++){o=this.dataPoints[i];const n=o.screen;if(n){const i=Math.abs(t-n.x),a=Math.abs(e-n.y),c=Math.sqrt(i*i+a*a);(null===s||c<s)&&c<100&&(s=c,r=o)}}return r},Xy.prototype.hasBars=function(t){return t==Xy.STYLE.BAR||t==Xy.STYLE.BARCOLOR||t==Xy.STYLE.BARSIZE},Xy.prototype._showTooltip=function(t){let e,n,i;this.tooltip?(e=this.tooltip.dom.content,n=this.tooltip.dom.line,i=this.tooltip.dom.dot):(e=document.createElement("div"),Rl(e.style,{},this.tooltipStyle.content),e.style.position="absolute",n=document.createElement("div"),Rl(n.style,{},this.tooltipStyle.line),n.style.position="absolute",i=document.createElement("div"),Rl(i.style,{},this.tooltipStyle.dot),i.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:e,line:n,dot:i}}),this._hideTooltip(),this.tooltip.dataPoint=t,"function"==typeof this.showTooltip?e.innerHTML=this.showTooltip(t.point):e.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(n),this.frame.appendChild(i);const o=e.offsetWidth,r=e.offsetHeight,s=n.offsetHeight,a=i.offsetWidth,c=i.offsetHeight;let l=t.screen.x-o/2;l=Math.min(Math.max(l,10),this.frame.clientWidth-10-o),n.style.left=t.screen.x+"px",n.style.top=t.screen.y-s+"px",e.style.left=l+"px",e.style.top=t.screen.y-s-r+"px",i.style.left=t.screen.x-a/2+"px",i.style.top=t.screen.y-c/2+"px"},Xy.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(const t in this.tooltip.dom)if(Object.prototype.hasOwnProperty.call(this.tooltip.dom,t)){const e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}}},Xy.prototype.setCameraPosition=function(t){Oy(t,this),this.redraw()},Xy.prototype.setSize=function(t,e){this._setSize(t,e),this.redraw()},t.Graph3d=Xy,t.Graph3dCamera=gy,t.Graph3dFilter=Wy,t.Graph3dPoint2d=py,t.Graph3dPoint3d=fy,t.Graph3dSlider=dy,t.Graph3dStepNumber=yy}));
//# sourceMappingURL=vis-graph3d.min.js.map
